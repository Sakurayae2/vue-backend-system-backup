{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\room\\screenshot.vue?vue&type=style&index=0&id=bf7e7a20&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\room\\screenshot.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_sass-loader@8.0.2@sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucGhvdG9XYWxsewogIG1hcmdpbi10b3A6IDIwcHg7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIHVsewogICAgLy8mOjotd2Via2l0LXNjcm9sbGJhcnsKICAgIC8vICB3aWR0aDogM3B4OwogICAgLy8gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAvL30KICAgIC8vJjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7CiAgICAvLyAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgLy8gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTAwLCAxMDAsIDEwMCwgLjMpOwogICAgLy99CiAgICBtaW4td2lkdGg6IDc1MHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtd3JhcDogd3JhcDsKICAgIC8vb3ZlcmZsb3c6IHNjcm9sbDsKICAgIC8vb3ZlcmZsb3cteDogaGlkZGVuOwogICAgbGl7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgbWF4LXdpZHRoOiAzMyU7CiAgICAgIG1hcmdpbjogMCAwLjMlIDAuMyUgMDsKICAgICAgLmltZ3sKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICB9CiAgICAgIC50ZXh0ewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICB0b3A6IDA7CiAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwwLDAsMC41KTsKICAgICAgICBib3JkZXItcmFkaXVzOiAwIDVweCA1cHggNXB4OwogICAgICAgIHBhZGRpbmc6IDJweDsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["screenshot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"screenshot.vue","sourceRoot":"src/views/room","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-card>\n      <el-row :gutter=\"20\" type=\"flex\" justify=\"space-between\">\n        <el-col style=\"min-width: 300px;\">\n          <el-input v-model=\"search.uin\" placeholder=\"请输入uin\" clearable @keyup.enter.native=\"getList()\">\n            <el-select slot=\"prepend\" v-model=\"search.type\" placeholder=\"请选择\" clearable style=\"width: 110px;\">\n              <el-option label=\"聊天室\" value=\"0\" style=\"text-align: center\" />\n              <el-option label=\"音乐房间\" value=\"1\" style=\"text-align: center\" />\n              <el-option label=\"广场舞\" value=\"2\" style=\"text-align: center\" />\n            </el-select>\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getList()\" />\n          </el-input>\n        </el-col>\n        <el-col>\n          <el-date-picker\n            v-model=\"search.timeQuantum\"\n            type=\"datetimerange\"\n            :picker-options=\"pickerOptions\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n            format=\"yyyy-MM-dd HH '时'\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            align=\"right\">\n          </el-date-picker>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-checkbox-group v-model=\"checkList\" @change=\"onChange\" @click=\"getList\">\n            <el-checkbox label=\"0\">显示左上角信息</el-checkbox>\n          </el-checkbox-group>\n        </el-col>\n        <el-col>\n          <el-row>\n            <el-col>屏宽：<el-input-number v-model=\"percent\" size=\"mini\" :step=\"10\" :min=\"50\" :max=\"100\" step-strictly /></el-col>\n            <el-col>列数：<el-input-number v-model=\"rowNum\" size=\"mini\" :min=\"3\" :max=\"15\" @change=\"rowNumChange\" /></el-col>\n          </el-row>\n        </el-col>\n      </el-row>\n      <div class=\"photoWall\">\n        <el-scrollbar ref=\"el_scrollbar\" style=\"overflow-x: hidden;\" :style=\"{ width: percent+'%', height: clientHeight+'px' }\">\n          <ul>\n            <li v-for=\"(item,index) in imgList\" :key=\"index\" :style=\"{ width: percentLi+'%' }\">\n              <el-image\n                class=\"img\"\n                lazy\n                :scroll-container=\"scrollContainer\"\n                :src=\"item.url\"\n                :fit=\"curIndex === index ? 'cover' : 'cover'\"\n                :preview-src-list=\"urls\"\n                @mouseenter=\"curIndex = index\"\n                @mouseleave=\"curIndex = ''\"\n                @click=\"preview\"\n              ></el-image>\n              <div v-show=\"showTitleFlag\" id=\"text\" class=\"text\">{{ item.date }} {{ item.room_id }} {{ item.room_type }}</div>\n            </li>\n          </ul>\n        </el-scrollbar>\n<!--        <ul id=\"photoWall\" :style=\"{ width: percent+'%', height: clientHeight+'px' }\">-->\n<!--          <li v-for=\"(item,index) in imgList\" :key=\"index\" :style=\"{ width: percentLi+'%' }\">-->\n<!--            <el-image-->\n<!--              class=\"img\"-->\n<!--              lazy-->\n<!--              :src=\"item.url\"-->\n<!--              :fit=\"curIndex === index ? 'cover' : 'cover'\"-->\n<!--              :preview-src-list=\"urls\"-->\n<!--              @mouseenter=\"curIndex = index\"-->\n<!--              @mouseleave=\"curIndex = ''\"-->\n<!--              @click=\"preview\"-->\n<!--            ></el-image>-->\n<!--            <div v-show=\"showTitleFlag\" id=\"text\" class=\"text\">{{ item.date }} {{ item.room_id }} {{ item.room_type }}</div>-->\n<!--          </li>-->\n<!--        </ul>-->\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { getRoomImg } from '@/api/roomManagement'\n\nexport default {\n  inject: ['reload'],\n  data() {\n    return {\n      rowNum: 10,\n      clientHeight: '',\n      percentLi: 9.7,\n      percent: 100,\n      curIndex: '',\n      checkList: ['0'],\n      showTitleFlag: true,\n      imgList: [\n        // {\n        //   url: 'https://s.5dktv.com/multiple_room/image_cache/2021/08/25/36026995_838a06d856615ae9601193d999d83f7d.jpg'\n        // }, {\n        //   url: 'https://s.5dktv.com/multiple_room/image_cache/2021/08/25/36026995_838a06d856615ae9601193d999d83f7d.jpg'\n        // }, {\n        //   url: 'https://s.5dktv.com/multiple_room/image_cache/2021/08/25/36026995_838a06d856615ae9601193d999d83f7d.jpg'\n        // },\n      ],\n      urls: [\n        // 'https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg',\n      ],\n      search: {\n        uin: '',\n        type: '0',\n        timeQuantum: ['', '']\n      },\n      searchType: {\n        chat: '聊天室',\n        music: '音乐房间',\n        square: '广场舞'\n      },\n      pickerOptions: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        },\n        shortcuts: [{\n          text: '最近一天',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近一周',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近一个月',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n            picker.$emit('pick', [start, end])\n          }\n        }]\n      },\n      scrollContainer: HTMLElement\n    }\n  },\n  created() {\n    this.formatDate(this.search.timeQuantum)\n    this.getList()\n  },\n  mounted() {\n    this.scrollContainer = this.$refs.el_scrollbar.wrap\n    this.clientHeight = document.documentElement.clientHeight - 200\n    window.onresize = () => {\n      return (() => {\n        this.$nextTick(() => {\n          this.clientHeight = document.documentElement.clientHeight - 200\n        })\n      })()\n    }\n  },\n  methods: {\n    getList() {\n      const data = {\n        start: this.search.timeQuantum[0],\n        end: this.search.timeQuantum[1],\n        roomType: this.search.type,\n        uin: this.search.uin\n      }\n      getRoomImg(data).then(res => {\n        // console.log(res.data.retData.dataList)\n        this.imgList = res.data.retData.dataList\n        if (this.imgList !== []) {\n          this.imgList.forEach(item => {\n            this.urls.push(item.url)\n          })\n        }\n      })\n    },\n    // 多选框选择\n    onChange(e) {\n      this.showTitleFlag = e.indexOf('0') !== -1\n    },\n    rowNumChange() {\n      switch (this.rowNum) {\n        case 3: this.percentLi = 32.5; break\n        case 4: this.percentLi = 24.3; break\n        case 5: this.percentLi = 19.5; break\n        case 6: this.percentLi = 16; break\n        case 7: this.percentLi = 13.5; break\n        case 8: this.percentLi = 12.2; break\n        case 9: this.percentLi = 10.7; break\n        case 10: this.percentLi = 9.7; break\n        case 11: this.percentLi = 8.7; break\n        case 12: this.percentLi = 8; break\n        case 13: this.percentLi = 7.3; break\n        case 14: this.percentLi = 6.8; break\n        case 15: this.percentLi = 6.3; break\n        default: this.percentLi = 19.5; break\n      }\n    },\n    // 大图预览\n    preview() {\n      this.$nextTick(() => {\n        // 获取遮罩层dom\n        const domImageMask = document.querySelector('.el-image-viewer__mask')\n        if (!domImageMask) {\n          return\n        }\n        domImageMask.addEventListener('click', () => {\n          // 点击遮罩层时调用关闭按钮的 click 事件\n          document.querySelector('.el-image-viewer__close').click()\n        })\n      })\n    },\n    formatDate(date) {\n      const newDate = new Date()\n      this.search.timeQuantum[0] = new Date(newDate.getFullYear(), newDate.getMonth(), newDate.getDate() - 1, 23)\n      this.search.timeQuantum[1] = newDate\n      date.forEach((item, index) => {\n        const y = item.getFullYear()\n        const m = (item.getMonth() + 1).toString().padStart(2, '0')\n        const d = (item.getDate()).toString().padStart(2, '0')\n        const h = (item.getHours()).toString().padStart(2, '0')\n        this.search.timeQuantum[index] = y + '-' + m + '-' + d + ' ' + h + ':00:00'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.photoWall{\n  margin-top: 20px;\n  border-radius: 5px;\n  ul{\n    //&::-webkit-scrollbar{\n    //  width: 3px;\n    //  background-color: #fff;\n    //}\n    //&::-webkit-scrollbar-thumb{\n    //  border-radius: 5px;\n    //  background-color: rgba(100, 100, 100, .3);\n    //}\n    min-width: 750px;\n    display: flex;\n    flex-wrap: wrap;\n    //overflow: scroll;\n    //overflow-x: hidden;\n    li{\n      position: relative;\n      max-width: 33%;\n      margin: 0 0.3% 0.3% 0;\n      .img{\n        width: 100%;\n        height: 100%;\n        border-radius: 5px;\n      }\n      .text{\n        position: absolute;\n        top: 0;\n        color: white;\n        font-size: 14px;\n        background-color: rgb(0,0,0,0.5);\n        border-radius: 0 5px 5px 5px;\n        padding: 2px;\n      }\n    }\n  }\n}\n</style>\n"]}]}