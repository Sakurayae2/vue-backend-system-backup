{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\award\\handout.vue?vue&type=style&index=0&id=3d2848a3&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\award\\handout.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnJvd3sKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgIGRpc3BsYXk6ZmxleDsKICAgIGFsaWduLWl0ZW1zOmNlbnRlcjsKfQouY29sewogICAgdGV4dC1hbGlnbjogbGVmdDsKfQo="},{"version":3,"sources":["handout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"handout.vue","sourceRoot":"src/views/award","sourcesContent":["<template>\n  <div>\n    <!-- 卡片视图 -->\n    <el-card>\n        <el-form ref=\"formRule\" :rules=\"formRules\" :model=\"form\" label-width=\"80px\">\n            <el-form-item label=\"kind\" prop=\"kind\">\n                <el-input v-model=\"form.kind\" placeholder=\"发放奖励类型，如:416(416是广场舞奖励的kind),奖励类型请找麦当询问\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"memo\">\n                <el-input v-model=\"form.memo\" placeholder=\"奖励标签，如:广场舞参与奖\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"奖券类型\">\n                <el-radio-group v-model=\"form.awardType\">\n                    <el-radio label=\"ledou\">乐豆</el-radio>\n                    <el-radio label=\"lequan\">乐券</el-radio>\n                </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"金额\" prop=\"money\">\n                <el-input v-model=\"form.money\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"uins\" prop=\"uins\">\n                <el-input type=\"textarea\" :rows=\"5\" v-model=\"form.uins\" placeholder=\"请输入uin,以英文逗号隔开，如:123456,654321\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"message\">\n                <el-input v-model=\"form.msg\" placeholder=\"给用户发送消息的内容,如:某某奖励已经发放成功\"></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"handoutAward\">奖励发放</el-button>\n            </el-form-item>\n        </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { handout } from '@/api/award'\nimport qs from 'qs'\n\nexport default {\n  name: 'Cancel',\n  data() {\n      // 自定义规则\n    var checkMoney = (rule, value, callback) => {\n      const regEmail = /^\\d+$/\n      if (regEmail.test(value)) {\n        // 合法\n        return callback()\n      }\n      callback(new Error('请输入整数金额'))\n    }\n      // 自定义规则\n    var checkUins = (rule, value, callback) => {\n      const regEmail = /^(\\d*)(,\\d*)*$/\n      if (regEmail.test(value)) {\n        // 合法\n        return callback()\n      }\n      callback(new Error('请输入正确格式，如:123,456'))\n    }\n    return {\n        form: {\n            memo: '',\n            kind: '',\n            awardType: 'ledou',\n            money: '',\n            uins: '',\n            msg: ''\n        },\n        formRules: {\n            kind: [\n            { required: true, message: '请输入kind', trigger: 'blur' }\n            //   { validator: checkKind, trigger: 'blur' }\n            ],\n            money: [\n            { required: true, message: '请输入金额', trigger: 'blur' },\n              { validator: checkMoney, trigger: 'blur' }\n            ],\n            uins: [\n            { required: true, message: '请输入uin', trigger: 'blur' },\n              { validator: checkUins, trigger: 'blur' }\n            ],\n      }\n    }\n  },\n  created() {\n\n  },\n  methods: {\n    handoutAward() {\n      this.$refs.formRule.validate(valid => {\n        if (valid) {\n            this.$confirm('您将给 '+this.form.uins+' 发放 '+this.form.money+' 个 '+this.form.awardType+'', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n            }).then(() => {\n                // 奖励发放\n                this.$set(this.form, 'passwd', 'taolesoft0571')\n                let data = this.form\n                handout(qs.stringify(data)).then(res => {\n                    // console.log(res)\n                    if(res.data.retData.statusCode == 200){\n                        this.$message.success(res.data.retData.msg)\n                        this.form = {\n                                memo: '',\n                                kind: '',\n                                awardType: this.form.awardType,\n                                money: '',\n                                uins: '',\n                                msg: ''\n                            }\n\n                    } else {\n                        this.$message.error(res.data.retData.msg)\n                    }\n                })\n            }).catch(() => {\n                this.$message.info('奖励发放已取消')\n            });\n        } else {\n          this.$message.error('请填入正确信息！')\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.row{\n    margin-bottom: 20px;\n    text-align: right;\n    display:flex;\n    align-items:center;\n}\n.col{\n    text-align: left;\n}\n</style>\n\n"]}]}