{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\feedback\\feedback.vue?vue&type=style&index=0&id=090efeb6&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\feedback\\feedback.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_sass-loader@8.0.2@sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5iZ2FjdGl2ZXsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLC4xKTsKfQp1bCxsaXsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMDsKfQouZnJ7CiAgZmxvYXQ6IHJpZ2h0Owp9Ci5mbHsKICBmbG9hdDogbGVmdDsKfQpsaXsKICBsaXN0LXN0eWxlOiBub25lOwp9Ci5ib2R5ewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBoZWlnaHQ6IDEwMDBweDsKfQoudXNlckxpc3RMZWZ0ewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwOwogIHdpZHRoOiAzMDBweDsKfQoudXNlckxpc3RMZWZ0IC5yZWZyZXNoewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDE1cHg7CiAgcmlnaHQ6IDIwcHg7CiAgei1pbmRleDogMTsKICBmb250LXNpemU6IDIwcHg7Cn0KLnVzZXJMaXN0TGVmdCAuYXZhdGFyewogIC8qIHBvc2l0aW9uOiByZWxhdGl2ZTsgKi8KICAvKiBsZWZ0OiAtNDAlOyAqLwogIHdpZHRoOiA2MHB4Owp9Ci51c2VyTGlzdExlZnQgLnRpdGxlewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDEwcHg7CiAgbGVmdDogODBweDsKfQoudXNlckxpc3RMZWZ0IC50aXRsZSAudXNlcm5hbWV7CiAgZm9udC1zaXplOiAxNnB4OwogIHRleHQtYWxpZ246IGxlZnQ7Cn0KLnVzZXJMaXN0TGVmdCAudGl0bGUgLnVpbnsKICBmb250LXNpemU6IDEycHg7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQoudXNlckxpc3RMZWZ0IC50aW1lewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDEwcHg7CiAgcmlnaHQ6IDEwcHg7CiAgZm9udC1zaXplOiAxMnB4Owp9Ci51c2VyTGlzdExlZnQgI3RhZ3sKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAzMHB4OwogIHJpZ2h0OiAyMHB4OwogIGZvbnQtc2l6ZTogMjJweDsKfQoudXNlckxpc3RMZWZ0IC5tZXNzYWdlewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDU1cHg7CiAgbGVmdDogODBweDsKICB3aWR0aDogMTkwcHg7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQoudXNlckxpc3RMZWZ0IC5tZXNzYWdlIHNwYW57CiAgZm9udC1zaXplOiAxMHB4Owp9Ci51c2VyQ2hhdFJpZ2h0ewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAzMTBweDsKfQouY29udGVudHsKICB3aWR0aDogOTAlOwogIG1pbi13aWR0aDogODAwcHg7CiAgLyogd2lkdGg6IDEwMDBweDsgKi8KICBoZWlnaHQ6IDY1MHB4OwogIG1pbi1oZWlnaHQ6IDUwMHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgcGFkZGluZzogMTBweDsKICAvKmJvcmRlci1yYWRpdXM6IDVweDsqLwogIG92ZXJmbG93LXk6c2Nyb2xsOwp9Ci5jaGF0U3RhdGV7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIC8qIHdpZHRoOiA4MDBweDsgKi8KICB3aWR0aDogOTAlOwogIG1pbi13aWR0aDogODAwcHg7Cn0KLyog5b+r5o235Zue5aSNICovCi5jaGF0U3RhdGUgLnF1aWNrVHh0ewogIHdpZHRoOiAxNTBweDsKfQouY2hhdFN0YXRlIGlucHV0ewogIGRpc3BsYXk6IGZsZXg7CiAgLyogd2lkdGg6IDE1MHB4OyAqLwogIGhlaWdodDogNDBweDsKICBsaW5lLWhlaWdodDogNDBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogIHBhZGRpbmc6IDAgMjBweDsKICBmb250LXNpemU6IDE0cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CiAgLy93aGl0ZS1zcGFjZTogbm93cmFwOwp9Ci5jaGF0U3RhdGUgaW5wdXQ6Zm9jdXN7CiAgb3V0bGluZTogbm9uZTsKICBib3JkZXI6IDFweCBzb2xpZCAjYWFhOwp9Ci5xdWlja1R4dCB1bC5xdWlja1R4dFJvb3R7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogMDsKfQoucXVpY2tUeHQgdWwucXVpY2tUeHRSb290IGxpewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB3aWR0aDogMTAwJTsKfQoucXVpY2tUeHQgdWwucXVpY2tUeHRSb290IGxpIGlucHV0ewogIHdpZHRoOiAxNTBweDsKfQoucXVpY2tUeHQgdWwucXVpY2tUeHRDaGlsZCBpbnB1dHsKICAvKiB3aWR0aDogYXV0bzsgKi8KICB3aWR0aDogNTAwcHg7CiAgbWF4LXdpZHRoOiA1MDBweDsKfQoucXVpY2tUeHQgdWwucXVpY2tUeHRDaGlsZHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgYm90dG9tOiAwOwogIGxlZnQ6IDE1MHB4OwogIC8qIHdpZHRoOiAzNTBweDsgKi8KfQoucXVpY2tUeHQgdWwucXVpY2tUeHRDaGlsZCBsaXsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgLy93aWR0aDogMzUwcHg7CiAgLy93aWR0aDogMTAwJTsKfQp1bC5xdWlja1R4dFJvb3QgbGkgaXsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAxMnB4OwogIHJpZ2h0OiA1cHg7Cn0KdWwucXVpY2tUeHRDaGlsZCBsaSBpewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDEycHg7CiAgcmlnaHQ6IDVweDsKfQppbnB1dC5hY3RpdmV7CiAgYmFja2dyb3VuZC1jb2xvcjogIzk4RjVGRjsKfQoubWVzc2FnZUlucHV0ewogIG1pbi13aWR0aDogODAwcHg7CiAgbWF4LXdpZHRoOiAxMDAwcHg7CiAgLyogd2lkdGg6IDEwMDBweDsgKi8KICB3aWR0aDogOTAlOwp9Ci5hdXRvewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3R0b206IDA7CiAgbGVmdDogMTA1cHg7Cn0KLmF1dG8gbGl7CiAgZGlzcGxheTogZmxleDsKICBoZWlnaHQ6IDQwcHg7CiAgbGluZS1oZWlnaHQ6IDQwcHg7CiAgLypib3JkZXI6IDFweCBzb2xpZCAjY2NjOyovCiAgYm9yZGVyLWJvdHRvbTogbm9uZTsKICBwYWRkaW5nOiAwIDVweDsKfQouYXV0byBsaSBpbnB1dHsKICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogIHdpZHRoOiAxMjBweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBwYWRkaW5nOiAwIDVweDsKfQouYXV0byBsaSBpbnB1dC5hY3RpdmV7CiAgd2lkdGg6IDIwMHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KLnVwbG9hZFBob3RvewogIG1hcmdpbjogMCAxMHB4Owp9Ci5kaWFsb2dCb3h7CiAgZmxvYXQ6IGxlZnQ7CiAgZGlzcGxheTogZmxleDsKICBjb2xvcjogIzMzMzsKICBmb250LXNpemU6IDE0cHg7Cn0KLmRpYWxvZ0JveCAucmVhZFN0YXR1c3sKICBtYXJnaW4tcmlnaHQ6IDVweDsKICBjb2xvcjogI2NjYzsKICBsaW5lLWhlaWdodDoyMHB4Owp9Ci5kaWFsb2dCb3ggLnRpdGxlewogIGRpc3BsYXk6IGZsZXg7Cn0KLmRpYWxvZ0JveCAudGl0bGUgcHsKICBtYXJnaW46IDJweCAxMHB4IDJweCAwOwp9Ci5kaWFsb2dCb3ggLmF2YXRhcnsKICBtYXJnaW46IDAgMTBweDsKfQouZGlhbG9nQm94IC51c2VybmFtZSwuZGlhbG9nQm94IC50aW1lewogIG1hcmdpbjogMnB4IDEwcHggMnB4IDA7Cn0KLmRpYWxvZ0JveCAubWVzc2FnZXsKICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogIGJvcmRlci1yYWRpdXM6IDVweDsKICBtYXgtd2lkdGg6IDQwMHB4OwogIHBhZGRpbmc6IDhweDsKICBtYXJnaW4tdG9wOiA4cHg7CiAgd29yZC13cmFwOmJyZWFrLXdvcmQ7CiAgd29yZC1icmVhazpicmVhay1hbGw7Cn0KLmRpYWxvZ0JveCAubWVzc2FnZSAubXNnSW1newogIGJvcmRlci1yYWRpdXM6IDVweDsKICBtYXgtd2lkdGg6IDIwMHB4Owp9Cjo6LXdlYmtpdC1zY3JvbGxiYXIgewogIHdpZHRoOiA0cHg7CiAgaGVpZ2h0OiA0cHg7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNDAsIDI0MCwgMjQwLCAwLjUpOwogfQo6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjAwLCAyMDAsIDIwMCwgMC44KTsKfQoK"},{"version":3,"sources":["feedback.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"feedback.vue","sourceRoot":"src/views/feedback","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- 卡片视图 -->\n    <!--聊天框-->\n    <el-card>\n      <el-row :gutter=\"20\" style=\"margin-bottom: 20px;\">\n        <el-col style=\"width:450px;\">\n          <!-- <el-input v-model=\"search.content\" placeholder=\"请输入\" clearable @keyup.enter.native=\"$event.target.blur\" @blur=\"getList()\"> -->\n          <el-input v-model=\"search.content\" placeholder=\"请输入\" clearable @keyup.enter.native=\"getList()\">\n            <el-select slot=\"prepend\" v-model=\"search.type\" placeholder=\"请选择\" clearable style=\"width: 110px;\">\n              <el-option label=\"用户名\" value=\"nick\" style=\"text-align: center\" />\n              <el-option label=\"uin\" value=\"uin\" style=\"text-align: center\" />\n              <el-option label=\"消息字段\" value=\"content\" style=\"text-align: center\" />\n            </el-select>\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"blurflag&&getList()\" />\n          </el-input>\n        </el-col>\n      </el-row>\n      <template>\n        <div class=\"body\">\n          <div class=\"userListLeft\">\n            <div class=\"refresh\"><i :class=\"refreshbtn?'el-icon-refresh':'el-icon-loading'\" @click=\"refreshUserList\"></i></div>\n            <el-table :data=\"userlist\" height=\"800\" border :highlight-current-row=\"true\" @row-click=\"showChatHistory\">\n              <el-table-column prop=\"date\" label=\"用户列表\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <div>\n                    <div class=\"avatar\" @click.stop=\"toInformation(scope.row)\">\n                      <el-avatar :size=\"60\" :src=\"userlist[scope.$index].avatar\"></el-avatar>\n                    </div>\n                    <div class=\"title\">\n                      <div class=\"username\">{{ userlist[scope.$index].username }}</div>\n                      <div class=\"uin\">uin:{{ userlist[scope.$index].uin }}\n                        <i class=\"el-icon-document-copy\" v-clipboard:copy=\"scope.row.uin\" @click.stop=\"copy(scope.row.uin)\"></i>\n                      </div>\n                    </div>\n                    <div class=\"time\">{{ userlist[scope.$index].time }}</div>\n                    <i id=\"tag\" :class=\"userlist[scope.$index].starFlag?'el-icon-star-on':'el-icon-star-off'\" @click.stop=\"starbtn(scope.$index)\"></i>\n                    <div class=\"message\">\n                      <span v-if=\"userlist[scope.$index].is_read == 1\">【我已读】</span>\n                      <span v-else-if=\"userlist[scope.$index].is_read == 2\">点击将主动发起聊天</span>\n                      <span v-else-if=\"userlist[scope.$index].is_read===''\">我存在{{ userlist[scope.$index].amount }}条数据</span>\n                      <span v-else style=\"color: red\">【我未读】</span>\n                      {{ userlist[scope.$index].message }}\n                    </div>\n                  </div>\n                </template>\n              </el-table-column>\n            </el-table>\n          </div>\n          <div class=\"userChatRight\">\n            <div id=\"content\" class=\"content\">\n              <el-button icon=\"el-icon-arrow-up\" style=\"width: 100%;margin-bottom: 20px\" :disabled=\"noMore\" @click=\"moreChat\">更多消息</el-button>\n              <div v-for=\"(item, index) in chatHistory\" :key=\"index\">\n                <div v-if=\"!item.is_manager\" class=\"dialogBox\">\n                  <!--用户-->\n                  <div class=\"avatar\" @click=\"toInformation\">\n                    <el-avatar :src=\"currentUser.avatar\"></el-avatar>\n                  </div>\n                  <div>\n                    <div class=\"title\">\n                      <p class=\"username\">{{ item.username }}</p>\n                      <p class=\"time\">{{ item.time }}</p>\n                      <p>{{ currentUser.nobleman || '无贵族信息' }}</p>\n                      <p>LV{{ currentUser.level || 0 }}</p>\n                      <p>V{{ currentUser.version || '0.0.0' }}</p>\n                      <p>{{ currentUser.forbidden || '无封禁记录' }}</p>\n                    </div>\n                    <div v-if=\"item.is_img\" class=\"message fl\" style=\"border:none;\">\n                      <el-image\n                        v-if=\"item.is_img\"\n                        class=\"msgImg\"\n                        :src=\"item.message\"\n                        :preview-src-list=\"srcList\"\n                        @click=\"addPreview(item.message)\"\n                      ></el-image>\n                    </div>\n                    <div v-else class=\"message fl\">{{ item.message }}</div>\n                  </div>\n                </div>\n                <div v-else>\n                  <!--客户端-->\n                  <div class=\"dialogBox\" style=\"float: right\">\n                    <div>\n                      <div class=\"title\" style=\"justify-content: flex-end;\">\n                        <i class=\"readStatus\" :class=\"item.user_read?'el-icon-circle-check':'el-icon-search'\"></i>\n                        <p class=\"time\">{{ item.time }}</p>\n                        <p class=\"username\">随播-{{ item.manager_name }}</p>\n                      </div>\n                      <div v-if=\"item.is_img\" class=\"message fr\" style=\"border:none;\">\n                        <el-image\n                          v-if=\"item.is_img\"\n                          class=\"msgImg\"\n                          :src=\"item.message\"\n                          :preview-src-list=\"srcList\"\n                          @click=\"addPreview(item.message)\"\n                        ></el-image>\n                      </div>\n                      <div v-else-if=\"(/<p>.*<\\/p>/g).test(item.message)\" class=\"message fr\" v-html=\"item.message\"></div>\n                      <div v-else class=\"message fr\">{{ item.message }}</div>\n                    </div>\n                    <div class=\"avatar\">\n                      <el-avatar :src=\"require('@/assets/logo.jpg')\"></el-avatar>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"line\" style=\"float: left; width: 100%; height: 20px;\"></div>\n              </div>\n            </div>\n            <div class=\"chatBottom\">\n              <div class=\"chatState\">\n                <!--<el-button class=\"fl\" @click=\"showQuickRoot\">快捷回复</el-button>-->\n                <div class=\"quickTxt\">\n                  <ul v-show=\"quickTxtRootFlag\" id=\"quickTxtRoot\" class=\"quickTxtRoot\">\n                    <li v-for=\"(item,index) in quickTxtRootList\" :key=\"index\" @mouseover=\"showQuickChild($event, index)\">\n                      <input\n                        v-model=\"quickTxtRootList[index].name\"\n                        type=\"text\"\n                        :title=\"quickTxtRootList[index].name\"\n                        @blur=\"blurRoot\"\n                      >\n                      <el-popconfirm\n                        v-if=\"quickTxtRootList[index].list.length===0\"\n                        title=\"这是一段内容确定删除吗？\"\n                        :data-i=\"index\"\n                        @onConfirm=\"removeRootThisLi(index)\"\n                      >\n                        <i slot=\"reference\" class=\"el-icon-close\" style=\"color: #ccc\"></i>\n                      </el-popconfirm>\n                    </li>\n                    <li>\n                      <input slot=\"reference\" v-model=\"inputValue\" :title=\"inputValue\" type=\"text\" placeholder=\"添加快捷消息\" @blur=\"addQuickTxtRootList\" @keyup.enter=\"addQuickTxtRootList\">\n                    </li>\n                  </ul>\n                  <ul v-show=\"quickTxtChildFlag\" id=\"quickTxtChild\" class=\"quickTxtChild\">\n                    <li\n                      v-for=\"(item,index) in quickTxtChildList\"\n                      :key=\"index\"\n                    >\n                      <input\n                        v-model=\"quickTxtChildList[index].content\"\n                        type=\"text\"\n                        :title=\"quickTxtChildList[index].content\"\n                        @mouseover=\"mouseOverChild\"\n                        @click=\"addQuickMessage\"\n                      >\n                      <el-popconfirm\n                        title=\"这是一段内容确定删除吗？\"\n                        :data-i=\"index\"\n                        @onConfirm=\"removeChildThisLi(index)\"\n                      >\n                        <i slot=\"reference\" class=\"el-icon-close\" style=\"color: #ccc\"></i>\n                      </el-popconfirm>\n                    </li>\n                    <input\n                      slot=\"reference\"\n                      v-model=\"inputValueChild\"\n                      :title=\"inputValueChild\"\n                      placeholder=\"添加快捷消息\"\n                      type=\"text\"\n                      clearable\n                      @blur=\"addQuickTxtChildList\"\n                      @keyup.enter=\"addQuickTxtChildList\"\n                    >\n                  </ul>\n                </div>\n                <!--<el-button class=\"fl\" style=\"margin-left: 10px;\" @click=\"showAuto\">自动回复</el-button>-->\n                <div v-show=\"showautoFalg\" class=\"auto\">\n                  <ul>\n                    <li v-for=\"(item,index) in autoList\" :key=\"index\">\n                      <input v-model=\"item.logic\" :title=\"item.logic\" type=\"text\" @blur=\"amendAtuoLogic(index)\" @keyup.enter=\"amendAtuoLogic(index)\">\n                      <input v-model=\"item.content\" :title=\"item.content\" class=\"active\" type=\"text\" @blur=\"amendAtuoContent(index)\" @keyup.enter=\"amendAtuoContent(index)\">\n                    </li>\n                  </ul>\n                </div>\n                <!--<el-button class=\"fl\" style=\"margin-left: 10px;\" @click=\"showAddPhotoFlag=!showAddPhotoFlag;showautoFalg=false;\">添加图片</el-button>-->\n                <el-button class=\"fr\" :disabled=\"unableSend\" style=\"border-radius: 0\" @click=\"send\">发送</el-button>\n              </div>\n              <div id=\"messageInput\" ref=\"MSGInput\" class=\"messageInput\"></div>\n              <!--<el-input-->\n              <!--  v-model=\"sendMessage.message\"-->\n              <!--  type=\"textarea\"-->\n              <!--  rows=\"4\"-->\n              <!--  class=\"messageInput\"-->\n              <!--  placeholder=\"请输入...\"-->\n              <!--  clearable-->\n              <!--  @keyup.enter.native=\"send\"-->\n              <!--  @focus=\"onFocus\"-->\n              <!--&gt;</el-input>-->\n              <div class=\"uploadPhoto fl\">\n                <el-upload\n                  v-show=\"showAddPhotoFlag\"\n                  action=\"https://jsonplaceholder.typicode.com/posts/\"\n                  list-type=\"picture-card\"\n                  :on-preview=\"handlePreview\"\n                  :on-remove=\"handleRemove\"\n                  :on-success=\"success\"\n                  :file-list=\"fileList\"\n                  :http-request=\"uploadPdf\"\n                >\n                  <i class=\"el-icon-plus\"></i>\n                </el-upload>\n                <el-dialog :visible.sync=\"dialogVisible\">\n                  <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n                </el-dialog>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </el-card>\n    <image-viewer v-if=\"elImageViewerShow\" :z-index=\"10001\" :on-close=\"closeViewer\" :url-list=\"srcList\"></image-viewer>\n  </div>\n</template>\n\n<script>\nimport { getReadList, getChatHistory, sendMessage, chatReaded, searchReadList, starState, reply, addReply, deleteReply, auto, amendAtuo } from '@/api/feedback'\nimport qs from 'qs'\nimport { mapGetters } from 'vuex'\nimport WangEditor from 'wangeditor'\nconst { BtnMenu } = WangEditor\nimport ImageViewer from 'element-ui/packages/image/src/image-viewer'\n\nexport default {\n  inject: ['reload'],\n  components: {\n    ImageViewer\n  },\n  data() {\n    return {\n      elImageViewerShow: false,\n      oldHtml: '',\n      editor: null,\n      refreshbtn: true,\n      showautoFalg: false,\n      autoList: [],\n      // 分类ID\n      category_id: '',\n      showAddPhotoFlag: false,\n      // 添加快捷消息\n      inputValue: '',\n      inputValueChild: '',\n      quickTxtRootList: [],\n      quickTxtChildList: [],\n      quickTxtRootFlag: false,\n      quickTxtChildFlag: false,\n      dialogImageUrl: '',\n      dialogVisible: false,\n      blurflag: true,\n      search: {\n        type: 'uin',\n        content: ''\n      },\n      // 获取用户列表查询参数对象,pagenum:当前页数,pagesize:每页显示多少数据\n      queryInfo: {\n        // query: '',\n        pagenum: 1,\n        pagesize: 10\n      },\n      userlist: [],\n      // 上传图片\n      fileList: [],\n      // 发送信息\n      sendMessage: {\n        message: '',\n        image: [],\n        uin: '',\n        is_image: false,\n        file: [],\n        manager_name: ''\n      },\n      // 返回信息\n      chatHistory: [],\n      // chatHistory: [{\n      //   is_manager: true,\n      //   time: '2021-8-9 12:36',\n      //   is_img: true,\n      //   message: 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/80/h/80'\n      // }, {\n      //   username: 'shamoke',\n      //   time: '2021-8-9 12:36',\n      //   is_manager: false,\n      //   is_img: true,\n      //   message: 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/80/h/80'\n      // }],\n      // 大图预览\n      srcList: [],\n      currentUser: {\n        uin: '',\n        avatar: ''\n      },\n      suiboClient: {\n        logo: './static/img/logo.jpg'\n      },\n      noMore: false,\n      unableSend: true\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'username'\n    ])\n  },\n  watch: {\n    oldHtml(val, oldVal) {\n      // console.log(val, oldVal)\n      this.unableSend = val === ''\n      const _this = this\n      document.onkeydown = function(e) {\n        if (e.key === 'Enter') {\n          _this.send()\n        }\n      }\n    }\n  },\n  created() {\n    this.getList()\n    this.sendMessage.manager_name = this.username\n  },\n  mounted() {\n    this.createWangEditor()\n    this.imgToBlock()\n  },\n  beforeDestroy() {\n    // 销毁编辑器\n    this.editor.destroy()\n    this.editor = null\n  },\n  methods: {\n    // 自定义扩展菜单\n    createClass() {\n      const that = this\n      class quickReply extends BtnMenu {\n        constructor(editor) {\n          const $elem = WangEditor.$(`<div class=\"w-e-menu\"><el-button style=\"font-size: 14px;\">快捷回复</el-button></div>`)\n          super($elem, editor)\n        }\n        // 菜单点击事件\n        clickHandler(e) {\n          that.showQuickRoot()\n        }\n        tryChangeActive() {\n          that.quickTxtRootFlag = false\n        }\n      }\n      class autoReply extends BtnMenu {\n        constructor(editor) {\n          const $elem = WangEditor.$(`<div class=\"w-e-menu\"><el-button style=\"font-size: 14px;\">自动回复</el-button></div>`)\n          super($elem, editor)\n        }\n        // 菜单点击事件\n        clickHandler(e) {\n          that.showAuto()\n        }\n        tryChangeActive() {\n          that.showautoFalg = false\n        }\n      }\n      // class send extends BtnMenu {\n      //   constructor(editor) {\n      //     const $elem = WangEditor.$(`<div class=\"w-e-menu\"><el-button>发送</el-button></div>`)\n      //     super($elem, editor)\n      //   }\n      //   // 菜单点击事件\n      //   clickHandler(e) {\n      //     that.send()\n      //   }\n      //   tryChangeActive() {}\n      // }\n\n      class photos extends BtnMenu {\n        constructor(editor) {\n          const $elem = WangEditor.$(`<div class=\"w-e-menu\"><el-button  style=\"font-size: 14px;\">上传图片</el-button></div>`)\n          super($elem, editor)\n        }\n        // 菜单点击事件\n        clickHandler(e) {\n          that.showAddPhotoFlag = true\n        }\n        tryChangeActive() {}\n      }\n      WangEditor.registerMenu('photosKey', photos)\n\n      WangEditor.registerMenu('quickReplyKey', quickReply)\n      WangEditor.registerMenu('autoReplyKey', autoReply)\n      // WangEditor.registerMenu('sendKey', send)\n    },\n    // 创建富文本编辑器\n    createWangEditor() {\n      this.createClass()\n      this.editor = new WangEditor('#messageInput')\n      this.editor.config.uploadImgServer = 'http://www.suibo.tv/api/pwapi/manage/backend/feedback/upload' // 上线时需要改为线上\n      // this.editor.config.uploadImgServer = 'http://192.168.2.141:19100/api/pwapi/manage/backend/feedback/upload' // 上线时需要改为线上\n      this.editor.config.uploadImgParams = {\n        uin: this.currentUser.uin\n      }\n      this.editor.config.uploadFileName = 'image[]'\n      // this.editor.config.uploadImgHooks = {\n      //   // 图片上传并返回了结果，图片插入已成功\n      //   success: function(xhr) {\n      //     console.log('success', xhr)\n      //   }\n      // }\n      this.editor.config.menus = [\n        // 'emoticon',\n        'image',\n        'photos',\n        'quickReply',\n        'autoReply'\n      ]\n      this.editor.config.placeholder = '请输入...'\n      // 配置全屏功能按钮是否展示\n      this.editor.config.showFullScreen = false\n      this.editor.config.height = 100\n      this.editor.config.zIndex = 101\n      const reg = /<p><br\\/><\\/p>/\n      const that = this\n      this.editor.config.onchange = function(newHtml) {\n        if (reg.test(newHtml)) that.editor.txt.clear() // 直接按enter键清空\n        that.sendMessage.message = newHtml\n        that.oldHtml = newHtml\n      }\n      this.editor.create()\n    },\n    // 大图预览\n    addPreview(imgurl) {\n      this.srcList = []\n      this.srcList.push(imgurl)\n      this.$nextTick(() => {\n        // 获取遮罩层dom\n        const domImageMask = document.querySelector('.el-image-viewer__mask')\n        if (!domImageMask) {\n          return\n        }\n        domImageMask.addEventListener('click', () => {\n          // 点击遮罩层时调用关闭按钮的 click 事件\n          document.querySelector('.el-image-viewer__close').click()\n        })\n      })\n    },\n    uploadPdf(f) {\n      this.$http.jsonp('https://jsonplaceholder.typicode.com/posts/', {},\n        { headers: {}, emulateJSON: true })\n        .then((response) => {\n          f.onSuccess()\n        })\n    },\n    // 上传图片部分\n    success(response, file, fileList) {\n      this.sendMessage.image = []\n      this.sendMessage.file = []\n      this.fileList = fileList\n      fileList.forEach((item, index) => {\n        this.sendMessage.image[index] = item.raw\n        this.sendMessage.file[index] = item\n      })\n      this.unableSend = this.sendMessage.file === []\n      this.sendMessage.message = ' '\n      // console.log(this.fileList)\n    },\n    handleRemove(file, fileList) {\n      this.sendMessage.image = []\n      this.sendMessage.file = []\n      fileList.forEach((item, index) => {\n        this.sendMessage.image[index] = item.raw\n        this.sendMessage.file[index] = file\n      })\n      // console.log(this.sendMessage.image)\n    },\n    handlePreview(file) {\n      console.log(file)\n    },\n    refreshUserList() {\n      if (this.refreshbtn === false) return\n      this.refreshbtn = false\n      this.getList()\n    },\n    // 获取未读和已读列表\n    getList() {\n      const params = {\n        passwd: 'taolesoft0571',\n        searchType: this.search.type,\n        searchContent: this.search.content\n      }\n      // 存在搜索消息调用搜索接口，否在调用全部列表接口\n      if (this.search.content !== '') {\n        searchReadList(params).then(res => {\n          // console.log(res)\n          this.userlist = []\n          const data = res.data.retData.dataList\n          data.forEach(item => {\n            if (item.many) {\n              this.userlist.push({\n                avatar: item.avatar,\n                username: item.nick,\n                is_read: '',\n                starFlag: Boolean(item.is_star),\n                amount: item.amount\n              })\n            } else {\n              this.userlist.push({\n                avatar: item.avatar,\n                uin: item.uin,\n                username: item.nick,\n                message: item.content,\n                time: item.create_time.slice(5, 10),\n                is_read: item.is_read,\n                is_img: Boolean(item.is_img),\n                starFlag: Boolean(item.is_star)\n              })\n            }\n          })\n          this.refreshbtn = true\n        })\n      } else {\n        getReadList(params).then(res => {\n          this.userlist = []\n          const data = res.data.retData.dataList\n          data.forEach(item => {\n            this.userlist.push({\n              avatar: item.avatar,\n              uin: item.uin,\n              username: item.nick,\n              message: item.content,\n              time: item.create_time.slice(5, 10),\n              is_read: item.is_read,\n              is_img: Boolean(item.is_img),\n              starFlag: Boolean(item.is_star)\n            })\n          })\n          this.refreshbtn = true\n        })\n      }\n    },\n    // 更改star状态\n    starbtn(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        uin: this.userlist[index].uin\n      }\n      starState(qs.stringify(data)).then(res => {\n        if (res.data.retData.statusCode === 200) {\n          this.userlist[index].starFlag = !this.userlist[index].starFlag\n        }\n      })\n    },\n    // 展示聊天框\n    showChatHistory(row) {\n      this.currentUser.uin = row.uin\n      this.currentUser.avatar = row.avatar\n      // 富文本销毁再创建\n      this.editor.destroy()\n      this.editor = null\n      this.createWangEditor()\n      const params = {\n        passwd: 'taolesoft0571',\n        uin: this.currentUser.uin,\n        size: this.queryInfo.pagesize,\n        page: this.queryInfo.pagenum\n      }\n      getChatHistory(params).then(res => {\n        // console.log(res.data.retData)\n        // 未读状态改变成已读\n        const retdata = res.data.retData\n        if (res.data.retData.statusCode === 200) {\n          const chat = {\n            passwd: 'taolesoft0571',\n            uin: this.currentUser.uin,\n            fromManager: 1\n          }\n          // 发送请求 未读变已读\n          chatReaded(qs.stringify(chat)).then((res) => {\n            row.is_read = 1 // 标记当前行已读\n          })\n          // 渲染聊天记录列表\n          Object.assign(this.currentUser, retdata.backData) // 拼接\n          this.chatHistory = []\n          retdata.dataList.forEach(item => {\n            this.chatHistory.push({\n              uin: item.uin,\n              username: item.nick,\n              time: item.create_time,\n              message: item.content,\n              is_manager: Boolean(item.is_manager),\n              is_img: Boolean(Number(item.is_img)),\n              manager_name: item.manager_name,\n              user_read: Boolean(item.user_read)\n            })\n          })\n          this.sendMessage.uin = this.currentUser.uin\n          this.defaultScrollTop()\n          this.noMore = false\n          this.$nextTick(function() {\n            this.imgToBlock()\n          })\n        }\n      })\n    },\n    // 发送\n    send() {\n      if (!this.sendMessage.message) return\n      var formData = new FormData()\n      formData.append('passwd', 'taolesoft0571')\n      formData.append('uin', this.sendMessage.uin)\n      formData.append('manager', 1)\n      formData.append('manager_name', this.username)\n      formData.append('content', this.sendMessage.message)\n      this.sendMessage.image.forEach(item => {\n        formData.append('image[]', item)\n      })\n      sendMessage(formData).then(res => {\n        // 成功\n        if (res.data.retData.statusCode === 200) {\n          const chat = {\n            passwd: 'taolesoft0571',\n            uin: this.sendMessage.uin,\n            fromManager: 1\n          }\n          setTimeout(() => {\n            // 发送消息成功，未读状态改变成已读\n            chatReaded(qs.stringify(chat)).then(res => {\n              // console.log(res.data.retData.statusCode)\n              if (res.data.retData.statusCode === 200) {\n                // 前端添加信息 start---------------\n                const thisMessage = this.sendMessage.message\n                if (this.sendMessage.image.length > 0) {\n                  this.sendMessage.is_image = true\n                  this.sendMessage.file.forEach(item => {\n                    this.sendMessage.is_image = true\n                    this.sendMessage.message = item.url\n                    this.chatHistory.push({\n                      manager_name: this.username, // 追踪客户端发送人\n                      time: '刚刚',\n                      is_manager: true,\n                      message: this.sendMessage.message,\n                      is_img: this.sendMessage.is_image\n                    })\n                  })\n                  this.sendMessage.is_image = false\n                  this.sendMessage.image = []\n                  this.fileList = []\n                }\n                if (thisMessage) {\n                  this.chatHistory.push({\n                    manager_name: this.username, // 追踪客户端发送人\n                    time: '刚刚',\n                    is_manager: true,\n                    message: thisMessage,\n                    is_img: this.sendMessage.is_image\n                  })\n                }\n                this.sendMessage.message = ''\n                this.defaultScrollTop()\n                this.showAddPhotoFlag = false\n                this.editor.txt.clear()\n                this.$nextTick(function() {\n                  this.imgToBlock()\n                })\n                this.unableSend = true\n                // 前端添加信息 end---------------\n              }\n            })\n          }, 100)\n        }\n      })\n    },\n    // 聊天记录中的img display:block;\n    imgToBlock() {\n      const that = this\n      const img = document.getElementsByTagName('img')\n      for (let i = 0; i < img.length; i++) {\n        if (img[i].parentNode.tagName === 'P') {\n          img[i].style.display = 'block'\n          img[i].style.maxWidth = '200px'\n          img[i].style.margin = '5px 0'\n          img[i].style.borderRadius = '8px'\n          img[i].addEventListener('click', function() {\n            that.showImgToBlock(img[i].currentSrc)\n          })\n        }\n      }\n    },\n    // 富文本图片大图预览和关闭\n    closeViewer() {\n      this.elImageViewerShow = false\n    },\n    showImgToBlock(imgUrl) {\n      this.addPreview(imgUrl)\n      this.elImageViewerShow = true\n      this.$nextTick(() => {\n        // 获取遮罩层dom\n        const domImageMask = document.querySelector('.el-image-viewer__mask')\n        if (!domImageMask) {\n          return\n        }\n        domImageMask.addEventListener('click', () => {\n          // 点击遮罩层时调用关闭按钮的 click 事件\n          document.querySelector('.el-image-viewer__close').click()\n        })\n      })\n    },\n    moreChat() {\n      this.queryInfo.pagenum++\n      const params = {\n        passwd: 'taolesoft0571',\n        uin: this.currentUser.uin,\n        size: this.queryInfo.pagesize,\n        page: this.queryInfo.pagenum\n      }\n      getChatHistory(params).then(res => {\n        const data = res.data.retData.dataList\n        if (data.length === this.chatHistory.length) {\n          this.noMore = true\n        }\n        this.chatHistory = []\n        data.forEach(item => {\n          this.chatHistory.push({\n            uin: item.uin,\n            username: item.nick,\n            time: item.create_time,\n            message: item.content,\n            is_manager: Boolean(item.is_manager),\n            is_img: Boolean(Number(item.is_img))\n          })\n        })\n      })\n    },\n    //\n    // 快捷回复部分 ///\n    //\n    showQuickRoot() {\n      this.showautoFalg = false\n      this.quickTxtRootFlag = !this.quickTxtRootFlag\n      this.quickTxtChildFlag = false\n      // console.log(this.quickTxtRootList)\n      if (this.quickTxtRootList.length > 0) { return }\n      reply({ passwd: 'taolesoft0571' }).then(res => {\n        // console.log(res.data.retData.dataList)\n        const data = res.data.retData.dataList\n        this.quickTxtRootList = []\n        data.forEach(item => {\n          this.quickTxtRootList.push(item)\n        })\n      })\n      const ul = document.getElementById('quickTxtRoot')\n      for (let i = 0; i < ul.children.length; i++) {\n        ul.children[i].classList.remove('active')\n      }\n    },\n    // 显示快捷回复消息子列表\n    showQuickChild(event, index) {\n      this.category_id = this.quickTxtRootList[index].category_id\n      this.quickTxtChildList = this.quickTxtRootList[index].list\n      const ul = document.getElementById('quickTxtRoot')\n      for (let i = 0; i < ul.children.length; i++) {\n        ul.children[i].children[0].classList.remove('active')\n      }\n      event.target.classList.add('active')\n      this.quickTxtChildFlag = true\n    },\n    // 添加快捷回复消息内容\n    addQuickMessage(event) {\n      this.sendMessage.message = event.target.value\n      this.editor.txt.html('<p>' + event.target.value + '</p>')\n      this.quickTxtChildFlag = false\n      this.quickTxtRootFlag = false\n    },\n    // 添加快捷回复\n    addQuickTxtRootList() {\n      if (this.inputValue) {\n        const data = {\n          passwd: 'taolesoft0571',\n          content: this.inputValue\n        }\n        // console.log(this.inputValue)\n        addReply(qs.stringify(data)).then(res => {\n          const cate_id = res.data.retData.cate_id\n          this.quickTxtRootList.push({\n            category_id: cate_id,\n            name: this.inputValue,\n            list: []\n          })\n          this.inputValue = ''\n        })\n      }\n    },\n    addQuickTxtChildList() {\n      if (this.inputValueChild) {\n        const data = {\n          passwd: 'taolesoft0571',\n          content: this.inputValueChild,\n          category: this.category_id\n        }\n        addReply(qs.stringify(data)).then(res => {\n          // console.log(res)\n          const cate_id = res.data.retData.cate_id\n          if (res.data.retData.statusCode === 200) {\n            this.quickTxtChildList.push({\n              content: this.inputValueChild,\n              id: cate_id\n            })\n            this.inputValueChild = ''\n          }\n        })\n      }\n    },\n    mouseOverChild() {\n      // console.log(1)\n    },\n    // root失去焦点修改数据\n    blurRoot() {\n      console.log(123)\n    },\n    removeChildThisLi(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        item: this.quickTxtChildList[index].id,\n        is_delete: 1\n      }\n      deleteReply(qs.stringify(data)).then(res => {\n        if (res.data.retData.statusCode === 200) {\n          this.quickTxtChildList.splice(index, 1)\n        }\n      })\n    },\n    removeRootThisLi(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        cid: this.quickTxtRootList[index].category_id,\n        is_delete: 1\n      }\n      deleteReply(qs.stringify(data)).then(res => {\n        if (res.data.retData.statusCode === 200) {\n          this.quickTxtRootList.splice(index, 1)\n          if (this.quickTxtRootList.length === 0) {\n            this.quickTxtChildFlag = false\n          }\n        }\n      })\n    },\n    // 自动回复消息\n    showAuto() {\n      this.quickTxtRootFlag = false\n      this.quickTxtChildFlag = false\n      this.showautoFalg = !this.showautoFalg\n      auto({ passwd: 'taolesoft0571' }).then(res => {\n        const data = res.data.retData.dataList\n        this.autoList = []\n        this.autoList = data\n      })\n    },\n    amendAtuoLogic(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        rid: this.autoList[index].id,\n        logic: this.autoList[index].logic\n      }\n      amendAtuo(qs.stringify(data)).then(() => {})\n    },\n    amendAtuoContent(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        rid: this.autoList[index].id,\n        content: this.autoList[index].content\n      }\n      amendAtuo(qs.stringify(data)).then(() => {})\n    },\n    onFocus() {\n      this.quickTxtChildFlag = false\n      this.quickTxtRootFlag = false\n      this.showautoFalg = false\n    },\n    copy(uin) {\n      this.$message.success('复制uin:' + uin + '成功')\n    },\n    // 点击跳转另一个页面  资料页\n    toInformation(row) {\n      let index = 'https://www.suibo.tv/admin/user/info/uin/' + this.currentUser.uin\n      if (row.uin) {\n        index = 'https://www.suibo.tv/admin/user/info/uin/' + row.uin\n      }\n      window.open(index, '_blank') // 在新窗口打开外链接\n      // window.location.href = index;  //在本页面打开外部链接\n    },\n    defaultScrollTop() {\n      // 默认滚动条在最底部\n      const ul = document.getElementById('content')\n      this.$nextTick(() => {\n        ul.scrollTop = ul.scrollHeight\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang='scss'>\n.bgactive{\n  background-color: rgba(0,0,0,.1);\n}\nul,li{\n  margin: 0;\n  padding: 0;\n}\n.fr{\n  float: right;\n}\n.fl{\n  float: left;\n}\nli{\n  list-style: none;\n}\n.body{\n  position: relative;\n  height: 1000px;\n}\n.userListLeft{\n  position: absolute;\n  left: 0;\n  width: 300px;\n}\n.userListLeft .refresh{\n  position: absolute;\n  top: 15px;\n  right: 20px;\n  z-index: 1;\n  font-size: 20px;\n}\n.userListLeft .avatar{\n  /* position: relative; */\n  /* left: -40%; */\n  width: 60px;\n}\n.userListLeft .title{\n  position: absolute;\n  top: 10px;\n  left: 80px;\n}\n.userListLeft .title .username{\n  font-size: 16px;\n  text-align: left;\n}\n.userListLeft .title .uin{\n  font-size: 12px;\n  text-align: left;\n}\n.userListLeft .time{\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 12px;\n}\n.userListLeft #tag{\n  position: absolute;\n  top: 30px;\n  right: 20px;\n  font-size: 22px;\n}\n.userListLeft .message{\n  position: absolute;\n  top: 55px;\n  left: 80px;\n  width: 190px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow:ellipsis;\n  text-align: left;\n}\n.userListLeft .message span{\n  font-size: 10px;\n}\n.userChatRight{\n  position: absolute;\n  left: 310px;\n}\n.content{\n  width: 90%;\n  min-width: 800px;\n  /* width: 1000px; */\n  height: 650px;\n  min-height: 500px;\n  border: 1px solid #ccc;\n  padding: 10px;\n  /*border-radius: 5px;*/\n  overflow-y:scroll;\n}\n.chatState{\n  position: relative;\n  /* width: 800px; */\n  width: 90%;\n  min-width: 800px;\n}\n/* 快捷回复 */\n.chatState .quickTxt{\n  width: 150px;\n}\n.chatState input{\n  display: flex;\n  /* width: 150px; */\n  height: 40px;\n  line-height: 40px;\n  border: 1px solid #ccc;\n  padding: 0 20px;\n  font-size: 14px;\n  text-align: center;\n  text-overflow:ellipsis;\n  //white-space: nowrap;\n}\n.chatState input:focus{\n  outline: none;\n  border: 1px solid #aaa;\n}\n.quickTxt ul.quickTxtRoot{\n  position: absolute;\n  bottom: 0;\n}\n.quickTxt ul.quickTxtRoot li{\n  position: relative;\n  width: 100%;\n}\n.quickTxt ul.quickTxtRoot li input{\n  width: 150px;\n}\n.quickTxt ul.quickTxtChild input{\n  /* width: auto; */\n  width: 500px;\n  max-width: 500px;\n}\n.quickTxt ul.quickTxtChild{\n  position: absolute;\n  bottom: 0;\n  left: 150px;\n  /* width: 350px; */\n}\n.quickTxt ul.quickTxtChild li{\n  position: relative;\n  //width: 350px;\n  //width: 100%;\n}\nul.quickTxtRoot li i{\n  position: absolute;\n  top: 12px;\n  right: 5px;\n}\nul.quickTxtChild li i{\n  position: absolute;\n  top: 12px;\n  right: 5px;\n}\ninput.active{\n  background-color: #98F5FF;\n}\n.messageInput{\n  min-width: 800px;\n  max-width: 1000px;\n  /* width: 1000px; */\n  width: 90%;\n}\n.auto{\n  position: absolute;\n  bottom: 0;\n  left: 105px;\n}\n.auto li{\n  display: flex;\n  height: 40px;\n  line-height: 40px;\n  /*border: 1px solid #ccc;*/\n  border-bottom: none;\n  padding: 0 5px;\n}\n.auto li input{\n  border: 1px solid #ccc;\n  width: 120px;\n  overflow: hidden;\n  text-overflow:ellipsis;\n  white-space: nowrap;\n  padding: 0 5px;\n}\n.auto li input.active{\n  width: 200px;\n  background-color: #fff;\n}\n.uploadPhoto{\n  margin: 0 10px;\n}\n.dialogBox{\n  float: left;\n  display: flex;\n  color: #333;\n  font-size: 14px;\n}\n.dialogBox .readStatus{\n  margin-right: 5px;\n  color: #ccc;\n  line-height:20px;\n}\n.dialogBox .title{\n  display: flex;\n}\n.dialogBox .title p{\n  margin: 2px 10px 2px 0;\n}\n.dialogBox .avatar{\n  margin: 0 10px;\n}\n.dialogBox .username,.dialogBox .time{\n  margin: 2px 10px 2px 0;\n}\n.dialogBox .message{\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  max-width: 400px;\n  padding: 8px;\n  margin-top: 8px;\n  word-wrap:break-word;\n  word-break:break-all;\n}\n.dialogBox .message .msgImg{\n  border-radius: 5px;\n  max-width: 200px;\n}\n::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n  background-color: rgba(240, 240, 240, 0.5);\n }\n::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background-color: rgba(200, 200, 200, 0.8);\n}\n\n</style>\n\n"]}]}