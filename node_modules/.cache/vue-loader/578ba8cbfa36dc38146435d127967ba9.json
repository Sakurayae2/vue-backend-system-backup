{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\feedback\\feedback.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\feedback\\feedback.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_babel-loader@8.2.3@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFJlYWRMaXN0LCBnZXRDaGF0SGlzdG9yeSwgc2VuZE1lc3NhZ2UsIGNoYXRSZWFkZWQsIHNlYXJjaFJlYWRMaXN0LCBzdGFyU3RhdGUsIHJlcGx5LCBhZGRSZXBseSwgZGVsZXRlUmVwbHksIGF1dG8sIGFtZW5kQXR1byB9IGZyb20gJ0AvYXBpL2ZlZWRiYWNrJwppbXBvcnQgcXMgZnJvbSAncXMnCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgV2FuZ0VkaXRvciBmcm9tICd3YW5nZWRpdG9yJwpjb25zdCB7IEJ0bk1lbnUgfSA9IFdhbmdFZGl0b3IKaW1wb3J0IEltYWdlVmlld2VyIGZyb20gJ2VsZW1lbnQtdWkvcGFja2FnZXMvaW1hZ2Uvc3JjL2ltYWdlLXZpZXdlcicKCmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgY29tcG9uZW50czogewogICAgSW1hZ2VWaWV3ZXIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbEltYWdlVmlld2VyU2hvdzogZmFsc2UsCiAgICAgIG9sZEh0bWw6ICcnLAogICAgICBlZGl0b3I6IG51bGwsCiAgICAgIHJlZnJlc2hidG46IHRydWUsCiAgICAgIHNob3dhdXRvRmFsZzogZmFsc2UsCiAgICAgIGF1dG9MaXN0OiBbXSwKICAgICAgLy8g5YiG57G7SUQKICAgICAgY2F0ZWdvcnlfaWQ6ICcnLAogICAgICBzaG93QWRkUGhvdG9GbGFnOiBmYWxzZSwKICAgICAgLy8g5re75Yqg5b+r5o235raI5oGvCiAgICAgIGlucHV0VmFsdWU6ICcnLAogICAgICBpbnB1dFZhbHVlQ2hpbGQ6ICcnLAogICAgICBxdWlja1R4dFJvb3RMaXN0OiBbXSwKICAgICAgcXVpY2tUeHRDaGlsZExpc3Q6IFtdLAogICAgICBxdWlja1R4dFJvb3RGbGFnOiBmYWxzZSwKICAgICAgcXVpY2tUeHRDaGlsZEZsYWc6IGZhbHNlLAogICAgICBkaWFsb2dJbWFnZVVybDogJycsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBibHVyZmxhZzogdHJ1ZSwKICAgICAgc2VhcmNoOiB7CiAgICAgICAgdHlwZTogJ3VpbicsCiAgICAgICAgY29udGVudDogJycKICAgICAgfSwKICAgICAgLy8g6I635Y+W55So5oi35YiX6KGo5p+l6K+i5Y+C5pWw5a+56LGhLHBhZ2VudW065b2T5YmN6aG15pWwLHBhZ2VzaXplOuavj+mhteaYvuekuuWkmuWwkeaVsOaNrgogICAgICBxdWVyeUluZm86IHsKICAgICAgICAvLyBxdWVyeTogJycsCiAgICAgICAgcGFnZW51bTogMSwKICAgICAgICBwYWdlc2l6ZTogMTAKICAgICAgfSwKICAgICAgdXNlcmxpc3Q6IFtdLAogICAgICAvLyDkuIrkvKDlm77niYcKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICAvLyDlj5HpgIHkv6Hmga8KICAgICAgc2VuZE1lc3NhZ2U6IHsKICAgICAgICBtZXNzYWdlOiAnJywKICAgICAgICBpbWFnZTogW10sCiAgICAgICAgdWluOiAnJywKICAgICAgICBpc19pbWFnZTogZmFsc2UsCiAgICAgICAgZmlsZTogW10sCiAgICAgICAgbWFuYWdlcl9uYW1lOiAnJwogICAgICB9LAogICAgICAvLyDov5Tlm57kv6Hmga8KICAgICAgY2hhdEhpc3Rvcnk6IFtdLAogICAgICAvLyBjaGF0SGlzdG9yeTogW3sKICAgICAgLy8gICBpc19tYW5hZ2VyOiB0cnVlLAogICAgICAvLyAgIHRpbWU6ICcyMDIxLTgtOSAxMjozNicsCiAgICAgIC8vICAgaXNfaW1nOiB0cnVlLAogICAgICAvLyAgIG1lc3NhZ2U6ICdodHRwczovL3dwaW1nLndhbGxzdGNuLmNvbS9mNzc4NzM4Yy1lNGY4LTQ4NzAtYjYzNC01NjcwM2I0YWNhZmUuZ2lmP2ltYWdlVmlldzIvMS93LzgwL2gvODAnCiAgICAgIC8vIH0sIHsKICAgICAgLy8gICB1c2VybmFtZTogJ3NoYW1va2UnLAogICAgICAvLyAgIHRpbWU6ICcyMDIxLTgtOSAxMjozNicsCiAgICAgIC8vICAgaXNfbWFuYWdlcjogZmFsc2UsCiAgICAgIC8vICAgaXNfaW1nOiB0cnVlLAogICAgICAvLyAgIG1lc3NhZ2U6ICdodHRwczovL3dwaW1nLndhbGxzdGNuLmNvbS9mNzc4NzM4Yy1lNGY4LTQ4NzAtYjYzNC01NjcwM2I0YWNhZmUuZ2lmP2ltYWdlVmlldzIvMS93LzgwL2gvODAnCiAgICAgIC8vIH1dLAogICAgICAvLyDlpKflm77pooTop4gKICAgICAgc3JjTGlzdDogW10sCiAgICAgIGN1cnJlbnRVc2VyOiB7CiAgICAgICAgdWluOiAnJywKICAgICAgICBhdmF0YXI6ICcnCiAgICAgIH0sCiAgICAgIHN1aWJvQ2xpZW50OiB7CiAgICAgICAgbG9nbzogJy4vc3RhdGljL2ltZy9sb2dvLmpwZycKICAgICAgfSwKICAgICAgbm9Nb3JlOiBmYWxzZSwKICAgICAgdW5hYmxlU2VuZDogdHJ1ZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAndXNlcm5hbWUnCiAgICBdKQogIH0sCiAgd2F0Y2g6IHsKICAgIG9sZEh0bWwodmFsLCBvbGRWYWwpIHsKICAgICAgLy8gY29uc29sZS5sb2codmFsLCBvbGRWYWwpCiAgICAgIHRoaXMudW5hYmxlU2VuZCA9IHZhbCA9PT0gJycKICAgICAgY29uc3QgX3RoaXMgPSB0aGlzCiAgICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHsKICAgICAgICAgIF90aGlzLnNlbmQoKQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB0aGlzLnNlbmRNZXNzYWdlLm1hbmFnZXJfbmFtZSA9IHRoaXMudXNlcm5hbWUKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNyZWF0ZVdhbmdFZGl0b3IoKQogICAgdGhpcy5pbWdUb0Jsb2NrKCkKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICAvLyDplIDmr4HnvJbovpHlmagKICAgIHRoaXMuZWRpdG9yLmRlc3Ryb3koKQogICAgdGhpcy5lZGl0b3IgPSBudWxsCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDoh6rlrprkuYnmianlsZXoj5zljZUKICAgIGNyZWF0ZUNsYXNzKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBjbGFzcyBxdWlja1JlcGx5IGV4dGVuZHMgQnRuTWVudSB7CiAgICAgICAgY29uc3RydWN0b3IoZWRpdG9yKSB7CiAgICAgICAgICBjb25zdCAkZWxlbSA9IFdhbmdFZGl0b3IuJChgPGRpdiBjbGFzcz0idy1lLW1lbnUiPjxlbC1idXR0b24gc3R5bGU9ImZvbnQtc2l6ZTogMTRweDsiPuW/q+aNt+WbnuWkjTwvZWwtYnV0dG9uPjwvZGl2PmApCiAgICAgICAgICBzdXBlcigkZWxlbSwgZWRpdG9yKQogICAgICAgIH0KICAgICAgICAvLyDoj5zljZXngrnlh7vkuovku7YKICAgICAgICBjbGlja0hhbmRsZXIoZSkgewogICAgICAgICAgdGhhdC5zaG93UXVpY2tSb290KCkKICAgICAgICB9CiAgICAgICAgdHJ5Q2hhbmdlQWN0aXZlKCkgewogICAgICAgICAgdGhhdC5xdWlja1R4dFJvb3RGbGFnID0gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgY2xhc3MgYXV0b1JlcGx5IGV4dGVuZHMgQnRuTWVudSB7CiAgICAgICAgY29uc3RydWN0b3IoZWRpdG9yKSB7CiAgICAgICAgICBjb25zdCAkZWxlbSA9IFdhbmdFZGl0b3IuJChgPGRpdiBjbGFzcz0idy1lLW1lbnUiPjxlbC1idXR0b24gc3R5bGU9ImZvbnQtc2l6ZTogMTRweDsiPuiHquWKqOWbnuWkjTwvZWwtYnV0dG9uPjwvZGl2PmApCiAgICAgICAgICBzdXBlcigkZWxlbSwgZWRpdG9yKQogICAgICAgIH0KICAgICAgICAvLyDoj5zljZXngrnlh7vkuovku7YKICAgICAgICBjbGlja0hhbmRsZXIoZSkgewogICAgICAgICAgdGhhdC5zaG93QXV0bygpCiAgICAgICAgfQogICAgICAgIHRyeUNoYW5nZUFjdGl2ZSgpIHsKICAgICAgICAgIHRoYXQuc2hvd2F1dG9GYWxnID0gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gY2xhc3Mgc2VuZCBleHRlbmRzIEJ0bk1lbnUgewogICAgICAvLyAgIGNvbnN0cnVjdG9yKGVkaXRvcikgewogICAgICAvLyAgICAgY29uc3QgJGVsZW0gPSBXYW5nRWRpdG9yLiQoYDxkaXYgY2xhc3M9InctZS1tZW51Ij48ZWwtYnV0dG9uPuWPkemAgTwvZWwtYnV0dG9uPjwvZGl2PmApCiAgICAgIC8vICAgICBzdXBlcigkZWxlbSwgZWRpdG9yKQogICAgICAvLyAgIH0KICAgICAgLy8gICAvLyDoj5zljZXngrnlh7vkuovku7YKICAgICAgLy8gICBjbGlja0hhbmRsZXIoZSkgewogICAgICAvLyAgICAgdGhhdC5zZW5kKCkKICAgICAgLy8gICB9CiAgICAgIC8vICAgdHJ5Q2hhbmdlQWN0aXZlKCkge30KICAgICAgLy8gfQoKICAgICAgY2xhc3MgcGhvdG9zIGV4dGVuZHMgQnRuTWVudSB7CiAgICAgICAgY29uc3RydWN0b3IoZWRpdG9yKSB7CiAgICAgICAgICBjb25zdCAkZWxlbSA9IFdhbmdFZGl0b3IuJChgPGRpdiBjbGFzcz0idy1lLW1lbnUiPjxlbC1idXR0b24gIHN0eWxlPSJmb250LXNpemU6IDE0cHg7Ij7kuIrkvKDlm77niYc8L2VsLWJ1dHRvbj48L2Rpdj5gKQogICAgICAgICAgc3VwZXIoJGVsZW0sIGVkaXRvcikKICAgICAgICB9CiAgICAgICAgLy8g6I+c5Y2V54K55Ye75LqL5Lu2CiAgICAgICAgY2xpY2tIYW5kbGVyKGUpIHsKICAgICAgICAgIHRoYXQuc2hvd0FkZFBob3RvRmxhZyA9IHRydWUKICAgICAgICB9CiAgICAgICAgdHJ5Q2hhbmdlQWN0aXZlKCkge30KICAgICAgfQogICAgICBXYW5nRWRpdG9yLnJlZ2lzdGVyTWVudSgncGhvdG9zS2V5JywgcGhvdG9zKQoKICAgICAgV2FuZ0VkaXRvci5yZWdpc3Rlck1lbnUoJ3F1aWNrUmVwbHlLZXknLCBxdWlja1JlcGx5KQogICAgICBXYW5nRWRpdG9yLnJlZ2lzdGVyTWVudSgnYXV0b1JlcGx5S2V5JywgYXV0b1JlcGx5KQogICAgICAvLyBXYW5nRWRpdG9yLnJlZ2lzdGVyTWVudSgnc2VuZEtleScsIHNlbmQpCiAgICB9LAogICAgLy8g5Yib5bu65a+M5paH5pys57yW6L6R5ZmoCiAgICBjcmVhdGVXYW5nRWRpdG9yKCkgewogICAgICB0aGlzLmNyZWF0ZUNsYXNzKCkKICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgV2FuZ0VkaXRvcignI21lc3NhZ2VJbnB1dCcpCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdTZXJ2ZXIgPSAnaHR0cDovL3d3dy5zdWliby50di9hcGkvcHdhcGkvbWFuYWdlL2JhY2tlbmQvZmVlZGJhY2svdXBsb2FkJyAvLyDkuIrnur/ml7bpnIDopoHmlLnkuLrnur/kuIoKICAgICAgLy8gdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ1NlcnZlciA9ICdodHRwOi8vMTkyLjE2OC4yLjE0MToxOTEwMC9hcGkvcHdhcGkvbWFuYWdlL2JhY2tlbmQvZmVlZGJhY2svdXBsb2FkJyAvLyDkuIrnur/ml7bpnIDopoHmlLnkuLrnur/kuIoKICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ1BhcmFtcyA9IHsKICAgICAgICB1aW46IHRoaXMuY3VycmVudFVzZXIudWluCiAgICAgIH0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEZpbGVOYW1lID0gJ2ltYWdlW10nCiAgICAgIC8vIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdIb29rcyA9IHsKICAgICAgLy8gICAvLyDlm77niYfkuIrkvKDlubbov5Tlm57kuobnu5PmnpzvvIzlm77niYfmj5LlhaXlt7LmiJDlip8KICAgICAgLy8gICBzdWNjZXNzOiBmdW5jdGlvbih4aHIpIHsKICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdzdWNjZXNzJywgeGhyKQogICAgICAvLyAgIH0KICAgICAgLy8gfQogICAgICB0aGlzLmVkaXRvci5jb25maWcubWVudXMgPSBbCiAgICAgICAgLy8gJ2Vtb3RpY29uJywKICAgICAgICAnaW1hZ2UnLAogICAgICAgICdwaG90b3MnLAogICAgICAgICdxdWlja1JlcGx5JywKICAgICAgICAnYXV0b1JlcGx5JwogICAgICBdCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5wbGFjZWhvbGRlciA9ICfor7fovpPlhaUuLi4nCiAgICAgIC8vIOmFjee9ruWFqOWxj+WKn+iDveaMiemSruaYr+WQpuWxleekugogICAgICB0aGlzLmVkaXRvci5jb25maWcuc2hvd0Z1bGxTY3JlZW4gPSBmYWxzZQogICAgICB0aGlzLmVkaXRvci5jb25maWcuaGVpZ2h0ID0gMTAwCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy56SW5kZXggPSAxMDEKICAgICAgY29uc3QgcmVnID0gLzxwPjxiclwvPjxcL3A+LwogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICB0aGlzLmVkaXRvci5jb25maWcub25jaGFuZ2UgPSBmdW5jdGlvbihuZXdIdG1sKSB7CiAgICAgICAgaWYgKHJlZy50ZXN0KG5ld0h0bWwpKSB0aGF0LmVkaXRvci50eHQuY2xlYXIoKSAvLyDnm7TmjqXmjIllbnRlcumUrua4heepugogICAgICAgIHRoYXQuc2VuZE1lc3NhZ2UubWVzc2FnZSA9IG5ld0h0bWwKICAgICAgICB0aGF0Lm9sZEh0bWwgPSBuZXdIdG1sCiAgICAgIH0KICAgICAgdGhpcy5lZGl0b3IuY3JlYXRlKCkKICAgIH0sCiAgICAvLyDlpKflm77pooTop4gKICAgIGFkZFByZXZpZXcoaW1ndXJsKSB7CiAgICAgIHRoaXMuc3JjTGlzdCA9IFtdCiAgICAgIHRoaXMuc3JjTGlzdC5wdXNoKGltZ3VybCkKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIC8vIOiOt+WPlumBrue9qeWxgmRvbQogICAgICAgIGNvbnN0IGRvbUltYWdlTWFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbC1pbWFnZS12aWV3ZXJfX21hc2snKQogICAgICAgIGlmICghZG9tSW1hZ2VNYXNrKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgZG9tSW1hZ2VNYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgLy8g54K55Ye76YGu572p5bGC5pe26LCD55So5YWz6Zet5oyJ6ZKu55qEIGNsaWNrIOS6i+S7tgogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsLWltYWdlLXZpZXdlcl9fY2xvc2UnKS5jbGljaygpCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICB1cGxvYWRQZGYoZikgewogICAgICB0aGlzLiRodHRwLmpzb25wKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMvJywge30sCiAgICAgICAgeyBoZWFkZXJzOiB7fSwgZW11bGF0ZUpTT046IHRydWUgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGYub25TdWNjZXNzKCkKICAgICAgICB9KQogICAgfSwKICAgIC8vIOS4iuS8oOWbvueJh+mDqOWIhgogICAgc3VjY2VzcyhyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy5zZW5kTWVzc2FnZS5pbWFnZSA9IFtdCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuZmlsZSA9IFtdCiAgICAgIHRoaXMuZmlsZUxpc3QgPSBmaWxlTGlzdAogICAgICBmaWxlTGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuaW1hZ2VbaW5kZXhdID0gaXRlbS5yYXcKICAgICAgICB0aGlzLnNlbmRNZXNzYWdlLmZpbGVbaW5kZXhdID0gaXRlbQogICAgICB9KQogICAgICB0aGlzLnVuYWJsZVNlbmQgPSB0aGlzLnNlbmRNZXNzYWdlLmZpbGUgPT09IFtdCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSA9ICcgJwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpbGVMaXN0KQogICAgfSwKICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLnNlbmRNZXNzYWdlLmltYWdlID0gW10KICAgICAgdGhpcy5zZW5kTWVzc2FnZS5maWxlID0gW10KICAgICAgZmlsZUxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICB0aGlzLnNlbmRNZXNzYWdlLmltYWdlW2luZGV4XSA9IGl0ZW0ucmF3CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZS5maWxlW2luZGV4XSA9IGZpbGUKICAgICAgfSkKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZW5kTWVzc2FnZS5pbWFnZSkKICAgIH0sCiAgICBoYW5kbGVQcmV2aWV3KGZpbGUpIHsKICAgICAgY29uc29sZS5sb2coZmlsZSkKICAgIH0sCiAgICByZWZyZXNoVXNlckxpc3QoKSB7CiAgICAgIGlmICh0aGlzLnJlZnJlc2hidG4gPT09IGZhbHNlKSByZXR1cm4KICAgICAgdGhpcy5yZWZyZXNoYnRuID0gZmFsc2UKICAgICAgdGhpcy5nZXRMaXN0KCkKICAgIH0sCiAgICAvLyDojrflj5bmnKror7vlkozlt7Lor7vliJfooagKICAgIGdldExpc3QoKSB7CiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICBzZWFyY2hUeXBlOiB0aGlzLnNlYXJjaC50eXBlLAogICAgICAgIHNlYXJjaENvbnRlbnQ6IHRoaXMuc2VhcmNoLmNvbnRlbnQKICAgICAgfQogICAgICAvLyDlrZjlnKjmkJzntKLmtojmga/osIPnlKjmkJzntKLmjqXlj6PvvIzlkKblnKjosIPnlKjlhajpg6jliJfooajmjqXlj6MKICAgICAgaWYgKHRoaXMuc2VhcmNoLmNvbnRlbnQgIT09ICcnKSB7CiAgICAgICAgc2VhcmNoUmVhZExpc3QocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICB0aGlzLnVzZXJsaXN0ID0gW10KICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YS5yZXREYXRhLmRhdGFMaXN0CiAgICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIGlmIChpdGVtLm1hbnkpIHsKICAgICAgICAgICAgICB0aGlzLnVzZXJsaXN0LnB1c2goewogICAgICAgICAgICAgICAgYXZhdGFyOiBpdGVtLmF2YXRhciwKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBpdGVtLm5pY2ssCiAgICAgICAgICAgICAgICBpc19yZWFkOiAnJywKICAgICAgICAgICAgICAgIHN0YXJGbGFnOiBCb29sZWFuKGl0ZW0uaXNfc3RhciksCiAgICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW0uYW1vdW50CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnVzZXJsaXN0LnB1c2goewogICAgICAgICAgICAgICAgYXZhdGFyOiBpdGVtLmF2YXRhciwKICAgICAgICAgICAgICAgIHVpbjogaXRlbS51aW4sCiAgICAgICAgICAgICAgICB1c2VybmFtZTogaXRlbS5uaWNrLAogICAgICAgICAgICAgICAgbWVzc2FnZTogaXRlbS5jb250ZW50LAogICAgICAgICAgICAgICAgdGltZTogaXRlbS5jcmVhdGVfdGltZS5zbGljZSg1LCAxMCksCiAgICAgICAgICAgICAgICBpc19yZWFkOiBpdGVtLmlzX3JlYWQsCiAgICAgICAgICAgICAgICBpc19pbWc6IEJvb2xlYW4oaXRlbS5pc19pbWcpLAogICAgICAgICAgICAgICAgc3RhckZsYWc6IEJvb2xlYW4oaXRlbS5pc19zdGFyKQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLnJlZnJlc2hidG4gPSB0cnVlCiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICBnZXRSZWFkTGlzdChwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMudXNlcmxpc3QgPSBbXQogICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLnJldERhdGEuZGF0YUxpc3QKICAgICAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgdGhpcy51c2VybGlzdC5wdXNoKHsKICAgICAgICAgICAgICBhdmF0YXI6IGl0ZW0uYXZhdGFyLAogICAgICAgICAgICAgIHVpbjogaXRlbS51aW4sCiAgICAgICAgICAgICAgdXNlcm5hbWU6IGl0ZW0ubmljaywKICAgICAgICAgICAgICBtZXNzYWdlOiBpdGVtLmNvbnRlbnQsCiAgICAgICAgICAgICAgdGltZTogaXRlbS5jcmVhdGVfdGltZS5zbGljZSg1LCAxMCksCiAgICAgICAgICAgICAgaXNfcmVhZDogaXRlbS5pc19yZWFkLAogICAgICAgICAgICAgIGlzX2ltZzogQm9vbGVhbihpdGVtLmlzX2ltZyksCiAgICAgICAgICAgICAgc3RhckZsYWc6IEJvb2xlYW4oaXRlbS5pc19zdGFyKQogICAgICAgICAgICB9KQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMucmVmcmVzaGJ0biA9IHRydWUKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgLy8g5pu05pS5c3RhcueKtuaAgQogICAgc3RhcmJ0bihpbmRleCkgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIHVpbjogdGhpcy51c2VybGlzdFtpbmRleF0udWluCiAgICAgIH0KICAgICAgc3RhclN0YXRlKHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy51c2VybGlzdFtpbmRleF0uc3RhckZsYWcgPSAhdGhpcy51c2VybGlzdFtpbmRleF0uc3RhckZsYWcKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5bGV56S66IGK5aSp5qGGCiAgICBzaG93Q2hhdEhpc3Rvcnkocm93KSB7CiAgICAgIHRoaXMuY3VycmVudFVzZXIudWluID0gcm93LnVpbgogICAgICB0aGlzLmN1cnJlbnRVc2VyLmF2YXRhciA9IHJvdy5hdmF0YXIKICAgICAgLy8g5a+M5paH5pys6ZSA5q+B5YaN5Yib5bu6CiAgICAgIHRoaXMuZWRpdG9yLmRlc3Ryb3koKQogICAgICB0aGlzLmVkaXRvciA9IG51bGwKICAgICAgdGhpcy5jcmVhdGVXYW5nRWRpdG9yKCkKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIHVpbjogdGhpcy5jdXJyZW50VXNlci51aW4sCiAgICAgICAgc2l6ZTogdGhpcy5xdWVyeUluZm8ucGFnZXNpemUsCiAgICAgICAgcGFnZTogdGhpcy5xdWVyeUluZm8ucGFnZW51bQogICAgICB9CiAgICAgIGdldENoYXRIaXN0b3J5KHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLnJldERhdGEpCiAgICAgICAgLy8g5pyq6K+754q25oCB5pS55Y+Y5oiQ5bey6K+7CiAgICAgICAgY29uc3QgcmV0ZGF0YSA9IHJlcy5kYXRhLnJldERhdGEKICAgICAgICBpZiAocmVzLmRhdGEucmV0RGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgIGNvbnN0IGNoYXQgPSB7CiAgICAgICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgICAgICB1aW46IHRoaXMuY3VycmVudFVzZXIudWluLAogICAgICAgICAgICBmcm9tTWFuYWdlcjogMQogICAgICAgICAgfQogICAgICAgICAgLy8g5Y+R6YCB6K+35rGCIOacquivu+WPmOW3suivuwogICAgICAgICAgY2hhdFJlYWRlZChxcy5zdHJpbmdpZnkoY2hhdCkpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICByb3cuaXNfcmVhZCA9IDEgLy8g5qCH6K6w5b2T5YmN6KGM5bey6K+7CiAgICAgICAgICB9KQogICAgICAgICAgLy8g5riy5p+T6IGK5aSp6K6w5b2V5YiX6KGoCiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY3VycmVudFVzZXIsIHJldGRhdGEuYmFja0RhdGEpIC8vIOaLvOaOpQogICAgICAgICAgdGhpcy5jaGF0SGlzdG9yeSA9IFtdCiAgICAgICAgICByZXRkYXRhLmRhdGFMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2hhdEhpc3RvcnkucHVzaCh7CiAgICAgICAgICAgICAgdWluOiBpdGVtLnVpbiwKICAgICAgICAgICAgICB1c2VybmFtZTogaXRlbS5uaWNrLAogICAgICAgICAgICAgIHRpbWU6IGl0ZW0uY3JlYXRlX3RpbWUsCiAgICAgICAgICAgICAgbWVzc2FnZTogaXRlbS5jb250ZW50LAogICAgICAgICAgICAgIGlzX21hbmFnZXI6IEJvb2xlYW4oaXRlbS5pc19tYW5hZ2VyKSwKICAgICAgICAgICAgICBpc19pbWc6IEJvb2xlYW4oTnVtYmVyKGl0ZW0uaXNfaW1nKSksCiAgICAgICAgICAgICAgbWFuYWdlcl9uYW1lOiBpdGVtLm1hbmFnZXJfbmFtZSwKICAgICAgICAgICAgICB1c2VyX3JlYWQ6IEJvb2xlYW4oaXRlbS51c2VyX3JlYWQpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZS51aW4gPSB0aGlzLmN1cnJlbnRVc2VyLnVpbgogICAgICAgICAgdGhpcy5kZWZhdWx0U2Nyb2xsVG9wKCkKICAgICAgICAgIHRoaXMubm9Nb3JlID0gZmFsc2UKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLmltZ1RvQmxvY2soKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5Y+R6YCBCiAgICBzZW5kKCkgewogICAgICBpZiAoIXRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSkgcmV0dXJuCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGFzc3dkJywgJ3Rhb2xlc29mdDA1NzEnKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VpbicsIHRoaXMuc2VuZE1lc3NhZ2UudWluKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ21hbmFnZXInLCAxKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ21hbmFnZXJfbmFtZScsIHRoaXMudXNlcm5hbWUpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY29udGVudCcsIHRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSkKICAgICAgdGhpcy5zZW5kTWVzc2FnZS5pbWFnZS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2VbXScsIGl0ZW0pCiAgICAgIH0pCiAgICAgIHNlbmRNZXNzYWdlKGZvcm1EYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8g5oiQ5YqfCiAgICAgICAgaWYgKHJlcy5kYXRhLnJldERhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBjb25zdCBjaGF0ID0gewogICAgICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICAgICAgdWluOiB0aGlzLnNlbmRNZXNzYWdlLnVpbiwKICAgICAgICAgICAgZnJvbU1hbmFnZXI6IDEKICAgICAgICAgIH0KICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAvLyDlj5HpgIHmtojmga/miJDlip/vvIzmnKror7vnirbmgIHmlLnlj5jmiJDlt7Lor7sKICAgICAgICAgICAgY2hhdFJlYWRlZChxcy5zdHJpbmdpZnkoY2hhdCkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUpCiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJldERhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAvLyDliY3nq6/mt7vliqDkv6Hmga8gc3RhcnQtLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNNZXNzYWdlID0gdGhpcy5zZW5kTWVzc2FnZS5tZXNzYWdlCiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZW5kTWVzc2FnZS5pbWFnZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuaXNfaW1hZ2UgPSB0cnVlCiAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuZmlsZS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuaXNfaW1hZ2UgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZS5tZXNzYWdlID0gaXRlbS51cmwKICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXRIaXN0b3J5LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgbWFuYWdlcl9uYW1lOiB0aGlzLnVzZXJuYW1lLCAvLyDov73ouKrlrqLmiLfnq6/lj5HpgIHkuroKICAgICAgICAgICAgICAgICAgICAgIHRpbWU6ICfliJrliJonLAogICAgICAgICAgICAgICAgICAgICAgaXNfbWFuYWdlcjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgIGlzX2ltZzogdGhpcy5zZW5kTWVzc2FnZS5pc19pbWFnZQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuaXNfaW1hZ2UgPSBmYWxzZQogICAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlLmltYWdlID0gW10KICAgICAgICAgICAgICAgICAgdGhpcy5maWxlTGlzdCA9IFtdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodGhpc01lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5jaGF0SGlzdG9yeS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBtYW5hZ2VyX25hbWU6IHRoaXMudXNlcm5hbWUsIC8vIOi/vei4quWuouaIt+err+WPkemAgeS6ugogICAgICAgICAgICAgICAgICAgIHRpbWU6ICfliJrliJonLAogICAgICAgICAgICAgICAgICAgIGlzX21hbmFnZXI6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdGhpc01lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgaXNfaW1nOiB0aGlzLnNlbmRNZXNzYWdlLmlzX2ltYWdlCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlLm1lc3NhZ2UgPSAnJwogICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2Nyb2xsVG9wKCkKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FkZFBob3RvRmxhZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci50eHQuY2xlYXIoKQogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW1nVG9CbG9jaygpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhpcy51bmFibGVTZW5kID0gdHJ1ZQogICAgICAgICAgICAgICAgLy8g5YmN56uv5re75Yqg5L+h5oGvIGVuZC0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0sIDEwMCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g6IGK5aSp6K6w5b2V5Lit55qEaW1nIGRpc3BsYXk6YmxvY2s7CiAgICBpbWdUb0Jsb2NrKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJykKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWcubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoaW1nW2ldLnBhcmVudE5vZGUudGFnTmFtZSA9PT0gJ1AnKSB7CiAgICAgICAgICBpbWdbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jaycKICAgICAgICAgIGltZ1tpXS5zdHlsZS5tYXhXaWR0aCA9ICcyMDBweCcKICAgICAgICAgIGltZ1tpXS5zdHlsZS5tYXJnaW4gPSAnNXB4IDAnCiAgICAgICAgICBpbWdbaV0uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzhweCcKICAgICAgICAgIGltZ1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGF0LnNob3dJbWdUb0Jsb2NrKGltZ1tpXS5jdXJyZW50U3JjKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDlr4zmlofmnKzlm77niYflpKflm77pooTop4jlkozlhbPpl60KICAgIGNsb3NlVmlld2VyKCkgewogICAgICB0aGlzLmVsSW1hZ2VWaWV3ZXJTaG93ID0gZmFsc2UKICAgIH0sCiAgICBzaG93SW1nVG9CbG9jayhpbWdVcmwpIHsKICAgICAgdGhpcy5hZGRQcmV2aWV3KGltZ1VybCkKICAgICAgdGhpcy5lbEltYWdlVmlld2VyU2hvdyA9IHRydWUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIC8vIOiOt+WPlumBrue9qeWxgmRvbQogICAgICAgIGNvbnN0IGRvbUltYWdlTWFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbC1pbWFnZS12aWV3ZXJfX21hc2snKQogICAgICAgIGlmICghZG9tSW1hZ2VNYXNrKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgZG9tSW1hZ2VNYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgLy8g54K55Ye76YGu572p5bGC5pe26LCD55So5YWz6Zet5oyJ6ZKu55qEIGNsaWNrIOS6i+S7tgogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsLWltYWdlLXZpZXdlcl9fY2xvc2UnKS5jbGljaygpCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBtb3JlQ2hhdCgpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZW51bSsrCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICB1aW46IHRoaXMuY3VycmVudFVzZXIudWluLAogICAgICAgIHNpemU6IHRoaXMucXVlcnlJbmZvLnBhZ2VzaXplLAogICAgICAgIHBhZ2U6IHRoaXMucXVlcnlJbmZvLnBhZ2VudW0KICAgICAgfQogICAgICBnZXRDaGF0SGlzdG9yeShwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEucmV0RGF0YS5kYXRhTGlzdAogICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gdGhpcy5jaGF0SGlzdG9yeS5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMubm9Nb3JlID0gdHJ1ZQogICAgICAgIH0KICAgICAgICB0aGlzLmNoYXRIaXN0b3J5ID0gW10KICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICB0aGlzLmNoYXRIaXN0b3J5LnB1c2goewogICAgICAgICAgICB1aW46IGl0ZW0udWluLAogICAgICAgICAgICB1c2VybmFtZTogaXRlbS5uaWNrLAogICAgICAgICAgICB0aW1lOiBpdGVtLmNyZWF0ZV90aW1lLAogICAgICAgICAgICBtZXNzYWdlOiBpdGVtLmNvbnRlbnQsCiAgICAgICAgICAgIGlzX21hbmFnZXI6IEJvb2xlYW4oaXRlbS5pc19tYW5hZ2VyKSwKICAgICAgICAgICAgaXNfaW1nOiBCb29sZWFuKE51bWJlcihpdGVtLmlzX2ltZykpCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgLy8KICAgIC8vIOW/q+aNt+WbnuWkjemDqOWIhiAvLy8KICAgIC8vCiAgICBzaG93UXVpY2tSb290KCkgewogICAgICB0aGlzLnNob3dhdXRvRmFsZyA9IGZhbHNlCiAgICAgIHRoaXMucXVpY2tUeHRSb290RmxhZyA9ICF0aGlzLnF1aWNrVHh0Um9vdEZsYWcKICAgICAgdGhpcy5xdWlja1R4dENoaWxkRmxhZyA9IGZhbHNlCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucXVpY2tUeHRSb290TGlzdCkKICAgICAgaWYgKHRoaXMucXVpY2tUeHRSb290TGlzdC5sZW5ndGggPiAwKSB7IHJldHVybiB9CiAgICAgIHJlcGx5KHsgcGFzc3dkOiAndGFvbGVzb2Z0MDU3MScgfSkudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLnJldERhdGEuZGF0YUxpc3QpCiAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLnJldERhdGEuZGF0YUxpc3QKICAgICAgICB0aGlzLnF1aWNrVHh0Um9vdExpc3QgPSBbXQogICAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIHRoaXMucXVpY2tUeHRSb290TGlzdC5wdXNoKGl0ZW0pCiAgICAgICAgfSkKICAgICAgfSkKICAgICAgY29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tUeHRSb290JykKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bC5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgIHVsLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpCiAgICAgIH0KICAgIH0sCiAgICAvLyDmmL7npLrlv6vmjbflm57lpI3mtojmga/lrZDliJfooagKICAgIHNob3dRdWlja0NoaWxkKGV2ZW50LCBpbmRleCkgewogICAgICB0aGlzLmNhdGVnb3J5X2lkID0gdGhpcy5xdWlja1R4dFJvb3RMaXN0W2luZGV4XS5jYXRlZ29yeV9pZAogICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRMaXN0ID0gdGhpcy5xdWlja1R4dFJvb3RMaXN0W2luZGV4XS5saXN0CiAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrVHh0Um9vdCcpCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICB1bC5jaGlsZHJlbltpXS5jaGlsZHJlblswXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKQogICAgICB9CiAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKQogICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRGbGFnID0gdHJ1ZQogICAgfSwKICAgIC8vIOa3u+WKoOW/q+aNt+WbnuWkjea2iOaBr+WGheWuuQogICAgYWRkUXVpY2tNZXNzYWdlKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSA9IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICB0aGlzLmVkaXRvci50eHQuaHRtbCgnPHA+JyArIGV2ZW50LnRhcmdldC52YWx1ZSArICc8L3A+JykKICAgICAgdGhpcy5xdWlja1R4dENoaWxkRmxhZyA9IGZhbHNlCiAgICAgIHRoaXMucXVpY2tUeHRSb290RmxhZyA9IGZhbHNlCiAgICB9LAogICAgLy8g5re75Yqg5b+r5o235Zue5aSNCiAgICBhZGRRdWlja1R4dFJvb3RMaXN0KCkgewogICAgICBpZiAodGhpcy5pbnB1dFZhbHVlKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgICAgY29udGVudDogdGhpcy5pbnB1dFZhbHVlCiAgICAgICAgfQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW5wdXRWYWx1ZSkKICAgICAgICBhZGRSZXBseShxcy5zdHJpbmdpZnkoZGF0YSkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGNvbnN0IGNhdGVfaWQgPSByZXMuZGF0YS5yZXREYXRhLmNhdGVfaWQKICAgICAgICAgIHRoaXMucXVpY2tUeHRSb290TGlzdC5wdXNoKHsKICAgICAgICAgICAgY2F0ZWdvcnlfaWQ6IGNhdGVfaWQsCiAgICAgICAgICAgIG5hbWU6IHRoaXMuaW5wdXRWYWx1ZSwKICAgICAgICAgICAgbGlzdDogW10KICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSAnJwogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBhZGRRdWlja1R4dENoaWxkTGlzdCgpIHsKICAgICAgaWYgKHRoaXMuaW5wdXRWYWx1ZUNoaWxkKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgICAgY29udGVudDogdGhpcy5pbnB1dFZhbHVlQ2hpbGQsCiAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeV9pZAogICAgICAgIH0KICAgICAgICBhZGRSZXBseShxcy5zdHJpbmdpZnkoZGF0YSkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgIGNvbnN0IGNhdGVfaWQgPSByZXMuZGF0YS5yZXREYXRhLmNhdGVfaWQKICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRMaXN0LnB1c2goewogICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuaW5wdXRWYWx1ZUNoaWxkLAogICAgICAgICAgICAgIGlkOiBjYXRlX2lkCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuaW5wdXRWYWx1ZUNoaWxkID0gJycKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgbW91c2VPdmVyQ2hpbGQoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKDEpCiAgICB9LAogICAgLy8gcm9vdOWkseWOu+eEpueCueS/ruaUueaVsOaNrgogICAgYmx1clJvb3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKDEyMykKICAgIH0sCiAgICByZW1vdmVDaGlsZFRoaXNMaShpbmRleCkgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIGl0ZW06IHRoaXMucXVpY2tUeHRDaGlsZExpc3RbaW5kZXhdLmlkLAogICAgICAgIGlzX2RlbGV0ZTogMQogICAgICB9CiAgICAgIGRlbGV0ZVJlcGx5KHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5xdWlja1R4dENoaWxkTGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIHJlbW92ZVJvb3RUaGlzTGkoaW5kZXgpIHsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICBjaWQ6IHRoaXMucXVpY2tUeHRSb290TGlzdFtpbmRleF0uY2F0ZWdvcnlfaWQsCiAgICAgICAgaXNfZGVsZXRlOiAxCiAgICAgIH0KICAgICAgZGVsZXRlUmVwbHkocXMuc3RyaW5naWZ5KGRhdGEpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnJldERhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnF1aWNrVHh0Um9vdExpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgICAgICAgaWYgKHRoaXMucXVpY2tUeHRSb290TGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhpcy5xdWlja1R4dENoaWxkRmxhZyA9IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8vIOiHquWKqOWbnuWkjea2iOaBrwogICAgc2hvd0F1dG8oKSB7CiAgICAgIHRoaXMucXVpY2tUeHRSb290RmxhZyA9IGZhbHNlCiAgICAgIHRoaXMucXVpY2tUeHRDaGlsZEZsYWcgPSBmYWxzZQogICAgICB0aGlzLnNob3dhdXRvRmFsZyA9ICF0aGlzLnNob3dhdXRvRmFsZwogICAgICBhdXRvKHsgcGFzc3dkOiAndGFvbGVzb2Z0MDU3MScgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YS5yZXREYXRhLmRhdGFMaXN0CiAgICAgICAgdGhpcy5hdXRvTGlzdCA9IFtdCiAgICAgICAgdGhpcy5hdXRvTGlzdCA9IGRhdGEKICAgICAgfSkKICAgIH0sCiAgICBhbWVuZEF0dW9Mb2dpYyhpbmRleCkgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIHJpZDogdGhpcy5hdXRvTGlzdFtpbmRleF0uaWQsCiAgICAgICAgbG9naWM6IHRoaXMuYXV0b0xpc3RbaW5kZXhdLmxvZ2ljCiAgICAgIH0KICAgICAgYW1lbmRBdHVvKHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbigoKSA9PiB7fSkKICAgIH0sCiAgICBhbWVuZEF0dW9Db250ZW50KGluZGV4KSB7CiAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgcGFzc3dkOiAndGFvbGVzb2Z0MDU3MScsCiAgICAgICAgcmlkOiB0aGlzLmF1dG9MaXN0W2luZGV4XS5pZCwKICAgICAgICBjb250ZW50OiB0aGlzLmF1dG9MaXN0W2luZGV4XS5jb250ZW50CiAgICAgIH0KICAgICAgYW1lbmRBdHVvKHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbigoKSA9PiB7fSkKICAgIH0sCiAgICBvbkZvY3VzKCkgewogICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRGbGFnID0gZmFsc2UKICAgICAgdGhpcy5xdWlja1R4dFJvb3RGbGFnID0gZmFsc2UKICAgICAgdGhpcy5zaG93YXV0b0ZhbGcgPSBmYWxzZQogICAgfSwKICAgIGNvcHkodWluKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5aSN5Yi2dWluOicgKyB1aW4gKyAn5oiQ5YqfJykKICAgIH0sCiAgICAvLyDngrnlh7vot7Povazlj6bkuIDkuKrpobXpnaIgIOi1hOaWmemhtQogICAgdG9JbmZvcm1hdGlvbihyb3cpIHsKICAgICAgbGV0IGluZGV4ID0gJ2h0dHBzOi8vd3d3LnN1aWJvLnR2L2FkbWluL3VzZXIvaW5mby91aW4vJyArIHRoaXMuY3VycmVudFVzZXIudWluCiAgICAgIGlmIChyb3cudWluKSB7CiAgICAgICAgaW5kZXggPSAnaHR0cHM6Ly93d3cuc3VpYm8udHYvYWRtaW4vdXNlci9pbmZvL3Vpbi8nICsgcm93LnVpbgogICAgICB9CiAgICAgIHdpbmRvdy5vcGVuKGluZGV4LCAnX2JsYW5rJykgLy8g5Zyo5paw56qX5Y+j5omT5byA5aSW6ZO+5o6lCiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaW5kZXg7ICAvL+WcqOacrOmhtemdouaJk+W8gOWklumDqOmTvuaOpQogICAgfSwKICAgIGRlZmF1bHRTY3JvbGxUb3AoKSB7CiAgICAgIC8vIOm7mOiupOa7muWKqOadoeWcqOacgOW6lemDqAogICAgICBjb25zdCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHVsLnNjcm9sbFRvcCA9IHVsLnNjcm9sbEhlaWdodAogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["feedback.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"feedback.vue","sourceRoot":"src/views/feedback","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- 卡片视图 -->\n    <!--聊天框-->\n    <el-card>\n      <el-row :gutter=\"20\" style=\"margin-bottom: 20px;\">\n        <el-col style=\"width:450px;\">\n          <!-- <el-input v-model=\"search.content\" placeholder=\"请输入\" clearable @keyup.enter.native=\"$event.target.blur\" @blur=\"getList()\"> -->\n          <el-input v-model=\"search.content\" placeholder=\"请输入\" clearable @keyup.enter.native=\"getList()\">\n            <el-select slot=\"prepend\" v-model=\"search.type\" placeholder=\"请选择\" clearable style=\"width: 110px;\">\n              <el-option label=\"用户名\" value=\"nick\" style=\"text-align: center\" />\n              <el-option label=\"uin\" value=\"uin\" style=\"text-align: center\" />\n              <el-option label=\"消息字段\" value=\"content\" style=\"text-align: center\" />\n            </el-select>\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"blurflag&&getList()\" />\n          </el-input>\n        </el-col>\n      </el-row>\n      <template>\n        <div class=\"body\">\n          <div class=\"userListLeft\">\n            <div class=\"refresh\"><i :class=\"refreshbtn?'el-icon-refresh':'el-icon-loading'\" @click=\"refreshUserList\"></i></div>\n            <el-table :data=\"userlist\" height=\"800\" border :highlight-current-row=\"true\" @row-click=\"showChatHistory\">\n              <el-table-column prop=\"date\" label=\"用户列表\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <div>\n                    <div class=\"avatar\" @click.stop=\"toInformation(scope.row)\">\n                      <el-avatar :size=\"60\" :src=\"userlist[scope.$index].avatar\"></el-avatar>\n                    </div>\n                    <div class=\"title\">\n                      <div class=\"username\">{{ userlist[scope.$index].username }}</div>\n                      <div class=\"uin\">uin:{{ userlist[scope.$index].uin }}\n                        <i class=\"el-icon-document-copy\" v-clipboard:copy=\"scope.row.uin\" @click.stop=\"copy(scope.row.uin)\"></i>\n                      </div>\n                    </div>\n                    <div class=\"time\">{{ userlist[scope.$index].time }}</div>\n                    <i id=\"tag\" :class=\"userlist[scope.$index].starFlag?'el-icon-star-on':'el-icon-star-off'\" @click.stop=\"starbtn(scope.$index)\"></i>\n                    <div class=\"message\">\n                      <span v-if=\"userlist[scope.$index].is_read == 1\">【我已读】</span>\n                      <span v-else-if=\"userlist[scope.$index].is_read == 2\">点击将主动发起聊天</span>\n                      <span v-else-if=\"userlist[scope.$index].is_read===''\">我存在{{ userlist[scope.$index].amount }}条数据</span>\n                      <span v-else style=\"color: red\">【我未读】</span>\n                      {{ userlist[scope.$index].message }}\n                    </div>\n                  </div>\n                </template>\n              </el-table-column>\n            </el-table>\n          </div>\n          <div class=\"userChatRight\">\n            <div id=\"content\" class=\"content\">\n              <el-button icon=\"el-icon-arrow-up\" style=\"width: 100%;margin-bottom: 20px\" :disabled=\"noMore\" @click=\"moreChat\">更多消息</el-button>\n              <div v-for=\"(item, index) in chatHistory\" :key=\"index\">\n                <div v-if=\"!item.is_manager\" class=\"dialogBox\">\n                  <!--用户-->\n                  <div class=\"avatar\" @click=\"toInformation\">\n                    <el-avatar :src=\"currentUser.avatar\"></el-avatar>\n                  </div>\n                  <div>\n                    <div class=\"title\">\n                      <p class=\"username\">{{ item.username }}</p>\n                      <p class=\"time\">{{ item.time }}</p>\n                      <p>{{ currentUser.nobleman || '无贵族信息' }}</p>\n                      <p>LV{{ currentUser.level || 0 }}</p>\n                      <p>V{{ currentUser.version || '0.0.0' }}</p>\n                      <p>{{ currentUser.forbidden || '无封禁记录' }}</p>\n                    </div>\n                    <div v-if=\"item.is_img\" class=\"message fl\" style=\"border:none;\">\n                      <el-image\n                        v-if=\"item.is_img\"\n                        class=\"msgImg\"\n                        :src=\"item.message\"\n                        :preview-src-list=\"srcList\"\n                        @click=\"addPreview(item.message)\"\n                      ></el-image>\n                    </div>\n                    <div v-else class=\"message fl\">{{ item.message }}</div>\n                  </div>\n                </div>\n                <div v-else>\n                  <!--客户端-->\n                  <div class=\"dialogBox\" style=\"float: right\">\n                    <div>\n                      <div class=\"title\" style=\"justify-content: flex-end;\">\n                        <i class=\"readStatus\" :class=\"item.user_read?'el-icon-circle-check':'el-icon-search'\"></i>\n                        <p class=\"time\">{{ item.time }}</p>\n                        <p class=\"username\">随播-{{ item.manager_name }}</p>\n                      </div>\n                      <div v-if=\"item.is_img\" class=\"message fr\" style=\"border:none;\">\n                        <el-image\n                          v-if=\"item.is_img\"\n                          class=\"msgImg\"\n                          :src=\"item.message\"\n                          :preview-src-list=\"srcList\"\n                          @click=\"addPreview(item.message)\"\n                        ></el-image>\n                      </div>\n                      <div v-else-if=\"(/<p>.*<\\/p>/g).test(item.message)\" class=\"message fr\" v-html=\"item.message\"></div>\n                      <div v-else class=\"message fr\">{{ item.message }}</div>\n                    </div>\n                    <div class=\"avatar\">\n                      <el-avatar :src=\"require('@/assets/logo.jpg')\"></el-avatar>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"line\" style=\"float: left; width: 100%; height: 20px;\"></div>\n              </div>\n            </div>\n            <div class=\"chatBottom\">\n              <div class=\"chatState\">\n                <!--<el-button class=\"fl\" @click=\"showQuickRoot\">快捷回复</el-button>-->\n                <div class=\"quickTxt\">\n                  <ul v-show=\"quickTxtRootFlag\" id=\"quickTxtRoot\" class=\"quickTxtRoot\">\n                    <li v-for=\"(item,index) in quickTxtRootList\" :key=\"index\" @mouseover=\"showQuickChild($event, index)\">\n                      <input\n                        v-model=\"quickTxtRootList[index].name\"\n                        type=\"text\"\n                        :title=\"quickTxtRootList[index].name\"\n                        @blur=\"blurRoot\"\n                      >\n                      <el-popconfirm\n                        v-if=\"quickTxtRootList[index].list.length===0\"\n                        title=\"这是一段内容确定删除吗？\"\n                        :data-i=\"index\"\n                        @onConfirm=\"removeRootThisLi(index)\"\n                      >\n                        <i slot=\"reference\" class=\"el-icon-close\" style=\"color: #ccc\"></i>\n                      </el-popconfirm>\n                    </li>\n                    <li>\n                      <input slot=\"reference\" v-model=\"inputValue\" :title=\"inputValue\" type=\"text\" placeholder=\"添加快捷消息\" @blur=\"addQuickTxtRootList\" @keyup.enter=\"addQuickTxtRootList\">\n                    </li>\n                  </ul>\n                  <ul v-show=\"quickTxtChildFlag\" id=\"quickTxtChild\" class=\"quickTxtChild\">\n                    <li\n                      v-for=\"(item,index) in quickTxtChildList\"\n                      :key=\"index\"\n                    >\n                      <input\n                        v-model=\"quickTxtChildList[index].content\"\n                        type=\"text\"\n                        :title=\"quickTxtChildList[index].content\"\n                        @mouseover=\"mouseOverChild\"\n                        @click=\"addQuickMessage\"\n                      >\n                      <el-popconfirm\n                        title=\"这是一段内容确定删除吗？\"\n                        :data-i=\"index\"\n                        @onConfirm=\"removeChildThisLi(index)\"\n                      >\n                        <i slot=\"reference\" class=\"el-icon-close\" style=\"color: #ccc\"></i>\n                      </el-popconfirm>\n                    </li>\n                    <input\n                      slot=\"reference\"\n                      v-model=\"inputValueChild\"\n                      :title=\"inputValueChild\"\n                      placeholder=\"添加快捷消息\"\n                      type=\"text\"\n                      clearable\n                      @blur=\"addQuickTxtChildList\"\n                      @keyup.enter=\"addQuickTxtChildList\"\n                    >\n                  </ul>\n                </div>\n                <!--<el-button class=\"fl\" style=\"margin-left: 10px;\" @click=\"showAuto\">自动回复</el-button>-->\n                <div v-show=\"showautoFalg\" class=\"auto\">\n                  <ul>\n                    <li v-for=\"(item,index) in autoList\" :key=\"index\">\n                      <input v-model=\"item.logic\" :title=\"item.logic\" type=\"text\" @blur=\"amendAtuoLogic(index)\" @keyup.enter=\"amendAtuoLogic(index)\">\n                      <input v-model=\"item.content\" :title=\"item.content\" class=\"active\" type=\"text\" @blur=\"amendAtuoContent(index)\" @keyup.enter=\"amendAtuoContent(index)\">\n                    </li>\n                  </ul>\n                </div>\n                <!--<el-button class=\"fl\" style=\"margin-left: 10px;\" @click=\"showAddPhotoFlag=!showAddPhotoFlag;showautoFalg=false;\">添加图片</el-button>-->\n                <el-button class=\"fr\" :disabled=\"unableSend\" style=\"border-radius: 0\" @click=\"send\">发送</el-button>\n              </div>\n              <div id=\"messageInput\" ref=\"MSGInput\" class=\"messageInput\"></div>\n              <!--<el-input-->\n              <!--  v-model=\"sendMessage.message\"-->\n              <!--  type=\"textarea\"-->\n              <!--  rows=\"4\"-->\n              <!--  class=\"messageInput\"-->\n              <!--  placeholder=\"请输入...\"-->\n              <!--  clearable-->\n              <!--  @keyup.enter.native=\"send\"-->\n              <!--  @focus=\"onFocus\"-->\n              <!--&gt;</el-input>-->\n              <div class=\"uploadPhoto fl\">\n                <el-upload\n                  v-show=\"showAddPhotoFlag\"\n                  action=\"https://jsonplaceholder.typicode.com/posts/\"\n                  list-type=\"picture-card\"\n                  :on-preview=\"handlePreview\"\n                  :on-remove=\"handleRemove\"\n                  :on-success=\"success\"\n                  :file-list=\"fileList\"\n                  :http-request=\"uploadPdf\"\n                >\n                  <i class=\"el-icon-plus\"></i>\n                </el-upload>\n                <el-dialog :visible.sync=\"dialogVisible\">\n                  <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n                </el-dialog>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </el-card>\n    <image-viewer v-if=\"elImageViewerShow\" :z-index=\"10001\" :on-close=\"closeViewer\" :url-list=\"srcList\"></image-viewer>\n  </div>\n</template>\n\n<script>\nimport { getReadList, getChatHistory, sendMessage, chatReaded, searchReadList, starState, reply, addReply, deleteReply, auto, amendAtuo } from '@/api/feedback'\nimport qs from 'qs'\nimport { mapGetters } from 'vuex'\nimport WangEditor from 'wangeditor'\nconst { BtnMenu } = WangEditor\nimport ImageViewer from 'element-ui/packages/image/src/image-viewer'\n\nexport default {\n  inject: ['reload'],\n  components: {\n    ImageViewer\n  },\n  data() {\n    return {\n      elImageViewerShow: false,\n      oldHtml: '',\n      editor: null,\n      refreshbtn: true,\n      showautoFalg: false,\n      autoList: [],\n      // 分类ID\n      category_id: '',\n      showAddPhotoFlag: false,\n      // 添加快捷消息\n      inputValue: '',\n      inputValueChild: '',\n      quickTxtRootList: [],\n      quickTxtChildList: [],\n      quickTxtRootFlag: false,\n      quickTxtChildFlag: false,\n      dialogImageUrl: '',\n      dialogVisible: false,\n      blurflag: true,\n      search: {\n        type: 'uin',\n        content: ''\n      },\n      // 获取用户列表查询参数对象,pagenum:当前页数,pagesize:每页显示多少数据\n      queryInfo: {\n        // query: '',\n        pagenum: 1,\n        pagesize: 10\n      },\n      userlist: [],\n      // 上传图片\n      fileList: [],\n      // 发送信息\n      sendMessage: {\n        message: '',\n        image: [],\n        uin: '',\n        is_image: false,\n        file: [],\n        manager_name: ''\n      },\n      // 返回信息\n      chatHistory: [],\n      // chatHistory: [{\n      //   is_manager: true,\n      //   time: '2021-8-9 12:36',\n      //   is_img: true,\n      //   message: 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/80/h/80'\n      // }, {\n      //   username: 'shamoke',\n      //   time: '2021-8-9 12:36',\n      //   is_manager: false,\n      //   is_img: true,\n      //   message: 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/80/h/80'\n      // }],\n      // 大图预览\n      srcList: [],\n      currentUser: {\n        uin: '',\n        avatar: ''\n      },\n      suiboClient: {\n        logo: './static/img/logo.jpg'\n      },\n      noMore: false,\n      unableSend: true\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'username'\n    ])\n  },\n  watch: {\n    oldHtml(val, oldVal) {\n      // console.log(val, oldVal)\n      this.unableSend = val === ''\n      const _this = this\n      document.onkeydown = function(e) {\n        if (e.key === 'Enter') {\n          _this.send()\n        }\n      }\n    }\n  },\n  created() {\n    this.getList()\n    this.sendMessage.manager_name = this.username\n  },\n  mounted() {\n    this.createWangEditor()\n    this.imgToBlock()\n  },\n  beforeDestroy() {\n    // 销毁编辑器\n    this.editor.destroy()\n    this.editor = null\n  },\n  methods: {\n    // 自定义扩展菜单\n    createClass() {\n      const that = this\n      class quickReply extends BtnMenu {\n        constructor(editor) {\n          const $elem = WangEditor.$(`<div class=\"w-e-menu\"><el-button style=\"font-size: 14px;\">快捷回复</el-button></div>`)\n          super($elem, editor)\n        }\n        // 菜单点击事件\n        clickHandler(e) {\n          that.showQuickRoot()\n        }\n        tryChangeActive() {\n          that.quickTxtRootFlag = false\n        }\n      }\n      class autoReply extends BtnMenu {\n        constructor(editor) {\n          const $elem = WangEditor.$(`<div class=\"w-e-menu\"><el-button style=\"font-size: 14px;\">自动回复</el-button></div>`)\n          super($elem, editor)\n        }\n        // 菜单点击事件\n        clickHandler(e) {\n          that.showAuto()\n        }\n        tryChangeActive() {\n          that.showautoFalg = false\n        }\n      }\n      // class send extends BtnMenu {\n      //   constructor(editor) {\n      //     const $elem = WangEditor.$(`<div class=\"w-e-menu\"><el-button>发送</el-button></div>`)\n      //     super($elem, editor)\n      //   }\n      //   // 菜单点击事件\n      //   clickHandler(e) {\n      //     that.send()\n      //   }\n      //   tryChangeActive() {}\n      // }\n\n      class photos extends BtnMenu {\n        constructor(editor) {\n          const $elem = WangEditor.$(`<div class=\"w-e-menu\"><el-button  style=\"font-size: 14px;\">上传图片</el-button></div>`)\n          super($elem, editor)\n        }\n        // 菜单点击事件\n        clickHandler(e) {\n          that.showAddPhotoFlag = true\n        }\n        tryChangeActive() {}\n      }\n      WangEditor.registerMenu('photosKey', photos)\n\n      WangEditor.registerMenu('quickReplyKey', quickReply)\n      WangEditor.registerMenu('autoReplyKey', autoReply)\n      // WangEditor.registerMenu('sendKey', send)\n    },\n    // 创建富文本编辑器\n    createWangEditor() {\n      this.createClass()\n      this.editor = new WangEditor('#messageInput')\n      this.editor.config.uploadImgServer = 'http://www.suibo.tv/api/pwapi/manage/backend/feedback/upload' // 上线时需要改为线上\n      // this.editor.config.uploadImgServer = 'http://192.168.2.141:19100/api/pwapi/manage/backend/feedback/upload' // 上线时需要改为线上\n      this.editor.config.uploadImgParams = {\n        uin: this.currentUser.uin\n      }\n      this.editor.config.uploadFileName = 'image[]'\n      // this.editor.config.uploadImgHooks = {\n      //   // 图片上传并返回了结果，图片插入已成功\n      //   success: function(xhr) {\n      //     console.log('success', xhr)\n      //   }\n      // }\n      this.editor.config.menus = [\n        // 'emoticon',\n        'image',\n        'photos',\n        'quickReply',\n        'autoReply'\n      ]\n      this.editor.config.placeholder = '请输入...'\n      // 配置全屏功能按钮是否展示\n      this.editor.config.showFullScreen = false\n      this.editor.config.height = 100\n      this.editor.config.zIndex = 101\n      const reg = /<p><br\\/><\\/p>/\n      const that = this\n      this.editor.config.onchange = function(newHtml) {\n        if (reg.test(newHtml)) that.editor.txt.clear() // 直接按enter键清空\n        that.sendMessage.message = newHtml\n        that.oldHtml = newHtml\n      }\n      this.editor.create()\n    },\n    // 大图预览\n    addPreview(imgurl) {\n      this.srcList = []\n      this.srcList.push(imgurl)\n      this.$nextTick(() => {\n        // 获取遮罩层dom\n        const domImageMask = document.querySelector('.el-image-viewer__mask')\n        if (!domImageMask) {\n          return\n        }\n        domImageMask.addEventListener('click', () => {\n          // 点击遮罩层时调用关闭按钮的 click 事件\n          document.querySelector('.el-image-viewer__close').click()\n        })\n      })\n    },\n    uploadPdf(f) {\n      this.$http.jsonp('https://jsonplaceholder.typicode.com/posts/', {},\n        { headers: {}, emulateJSON: true })\n        .then((response) => {\n          f.onSuccess()\n        })\n    },\n    // 上传图片部分\n    success(response, file, fileList) {\n      this.sendMessage.image = []\n      this.sendMessage.file = []\n      this.fileList = fileList\n      fileList.forEach((item, index) => {\n        this.sendMessage.image[index] = item.raw\n        this.sendMessage.file[index] = item\n      })\n      this.unableSend = this.sendMessage.file === []\n      this.sendMessage.message = ' '\n      // console.log(this.fileList)\n    },\n    handleRemove(file, fileList) {\n      this.sendMessage.image = []\n      this.sendMessage.file = []\n      fileList.forEach((item, index) => {\n        this.sendMessage.image[index] = item.raw\n        this.sendMessage.file[index] = file\n      })\n      // console.log(this.sendMessage.image)\n    },\n    handlePreview(file) {\n      console.log(file)\n    },\n    refreshUserList() {\n      if (this.refreshbtn === false) return\n      this.refreshbtn = false\n      this.getList()\n    },\n    // 获取未读和已读列表\n    getList() {\n      const params = {\n        passwd: 'taolesoft0571',\n        searchType: this.search.type,\n        searchContent: this.search.content\n      }\n      // 存在搜索消息调用搜索接口，否在调用全部列表接口\n      if (this.search.content !== '') {\n        searchReadList(params).then(res => {\n          // console.log(res)\n          this.userlist = []\n          const data = res.data.retData.dataList\n          data.forEach(item => {\n            if (item.many) {\n              this.userlist.push({\n                avatar: item.avatar,\n                username: item.nick,\n                is_read: '',\n                starFlag: Boolean(item.is_star),\n                amount: item.amount\n              })\n            } else {\n              this.userlist.push({\n                avatar: item.avatar,\n                uin: item.uin,\n                username: item.nick,\n                message: item.content,\n                time: item.create_time.slice(5, 10),\n                is_read: item.is_read,\n                is_img: Boolean(item.is_img),\n                starFlag: Boolean(item.is_star)\n              })\n            }\n          })\n          this.refreshbtn = true\n        })\n      } else {\n        getReadList(params).then(res => {\n          this.userlist = []\n          const data = res.data.retData.dataList\n          data.forEach(item => {\n            this.userlist.push({\n              avatar: item.avatar,\n              uin: item.uin,\n              username: item.nick,\n              message: item.content,\n              time: item.create_time.slice(5, 10),\n              is_read: item.is_read,\n              is_img: Boolean(item.is_img),\n              starFlag: Boolean(item.is_star)\n            })\n          })\n          this.refreshbtn = true\n        })\n      }\n    },\n    // 更改star状态\n    starbtn(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        uin: this.userlist[index].uin\n      }\n      starState(qs.stringify(data)).then(res => {\n        if (res.data.retData.statusCode === 200) {\n          this.userlist[index].starFlag = !this.userlist[index].starFlag\n        }\n      })\n    },\n    // 展示聊天框\n    showChatHistory(row) {\n      this.currentUser.uin = row.uin\n      this.currentUser.avatar = row.avatar\n      // 富文本销毁再创建\n      this.editor.destroy()\n      this.editor = null\n      this.createWangEditor()\n      const params = {\n        passwd: 'taolesoft0571',\n        uin: this.currentUser.uin,\n        size: this.queryInfo.pagesize,\n        page: this.queryInfo.pagenum\n      }\n      getChatHistory(params).then(res => {\n        // console.log(res.data.retData)\n        // 未读状态改变成已读\n        const retdata = res.data.retData\n        if (res.data.retData.statusCode === 200) {\n          const chat = {\n            passwd: 'taolesoft0571',\n            uin: this.currentUser.uin,\n            fromManager: 1\n          }\n          // 发送请求 未读变已读\n          chatReaded(qs.stringify(chat)).then((res) => {\n            row.is_read = 1 // 标记当前行已读\n          })\n          // 渲染聊天记录列表\n          Object.assign(this.currentUser, retdata.backData) // 拼接\n          this.chatHistory = []\n          retdata.dataList.forEach(item => {\n            this.chatHistory.push({\n              uin: item.uin,\n              username: item.nick,\n              time: item.create_time,\n              message: item.content,\n              is_manager: Boolean(item.is_manager),\n              is_img: Boolean(Number(item.is_img)),\n              manager_name: item.manager_name,\n              user_read: Boolean(item.user_read)\n            })\n          })\n          this.sendMessage.uin = this.currentUser.uin\n          this.defaultScrollTop()\n          this.noMore = false\n          this.$nextTick(function() {\n            this.imgToBlock()\n          })\n        }\n      })\n    },\n    // 发送\n    send() {\n      if (!this.sendMessage.message) return\n      var formData = new FormData()\n      formData.append('passwd', 'taolesoft0571')\n      formData.append('uin', this.sendMessage.uin)\n      formData.append('manager', 1)\n      formData.append('manager_name', this.username)\n      formData.append('content', this.sendMessage.message)\n      this.sendMessage.image.forEach(item => {\n        formData.append('image[]', item)\n      })\n      sendMessage(formData).then(res => {\n        // 成功\n        if (res.data.retData.statusCode === 200) {\n          const chat = {\n            passwd: 'taolesoft0571',\n            uin: this.sendMessage.uin,\n            fromManager: 1\n          }\n          setTimeout(() => {\n            // 发送消息成功，未读状态改变成已读\n            chatReaded(qs.stringify(chat)).then(res => {\n              // console.log(res.data.retData.statusCode)\n              if (res.data.retData.statusCode === 200) {\n                // 前端添加信息 start---------------\n                const thisMessage = this.sendMessage.message\n                if (this.sendMessage.image.length > 0) {\n                  this.sendMessage.is_image = true\n                  this.sendMessage.file.forEach(item => {\n                    this.sendMessage.is_image = true\n                    this.sendMessage.message = item.url\n                    this.chatHistory.push({\n                      manager_name: this.username, // 追踪客户端发送人\n                      time: '刚刚',\n                      is_manager: true,\n                      message: this.sendMessage.message,\n                      is_img: this.sendMessage.is_image\n                    })\n                  })\n                  this.sendMessage.is_image = false\n                  this.sendMessage.image = []\n                  this.fileList = []\n                }\n                if (thisMessage) {\n                  this.chatHistory.push({\n                    manager_name: this.username, // 追踪客户端发送人\n                    time: '刚刚',\n                    is_manager: true,\n                    message: thisMessage,\n                    is_img: this.sendMessage.is_image\n                  })\n                }\n                this.sendMessage.message = ''\n                this.defaultScrollTop()\n                this.showAddPhotoFlag = false\n                this.editor.txt.clear()\n                this.$nextTick(function() {\n                  this.imgToBlock()\n                })\n                this.unableSend = true\n                // 前端添加信息 end---------------\n              }\n            })\n          }, 100)\n        }\n      })\n    },\n    // 聊天记录中的img display:block;\n    imgToBlock() {\n      const that = this\n      const img = document.getElementsByTagName('img')\n      for (let i = 0; i < img.length; i++) {\n        if (img[i].parentNode.tagName === 'P') {\n          img[i].style.display = 'block'\n          img[i].style.maxWidth = '200px'\n          img[i].style.margin = '5px 0'\n          img[i].style.borderRadius = '8px'\n          img[i].addEventListener('click', function() {\n            that.showImgToBlock(img[i].currentSrc)\n          })\n        }\n      }\n    },\n    // 富文本图片大图预览和关闭\n    closeViewer() {\n      this.elImageViewerShow = false\n    },\n    showImgToBlock(imgUrl) {\n      this.addPreview(imgUrl)\n      this.elImageViewerShow = true\n      this.$nextTick(() => {\n        // 获取遮罩层dom\n        const domImageMask = document.querySelector('.el-image-viewer__mask')\n        if (!domImageMask) {\n          return\n        }\n        domImageMask.addEventListener('click', () => {\n          // 点击遮罩层时调用关闭按钮的 click 事件\n          document.querySelector('.el-image-viewer__close').click()\n        })\n      })\n    },\n    moreChat() {\n      this.queryInfo.pagenum++\n      const params = {\n        passwd: 'taolesoft0571',\n        uin: this.currentUser.uin,\n        size: this.queryInfo.pagesize,\n        page: this.queryInfo.pagenum\n      }\n      getChatHistory(params).then(res => {\n        const data = res.data.retData.dataList\n        if (data.length === this.chatHistory.length) {\n          this.noMore = true\n        }\n        this.chatHistory = []\n        data.forEach(item => {\n          this.chatHistory.push({\n            uin: item.uin,\n            username: item.nick,\n            time: item.create_time,\n            message: item.content,\n            is_manager: Boolean(item.is_manager),\n            is_img: Boolean(Number(item.is_img))\n          })\n        })\n      })\n    },\n    //\n    // 快捷回复部分 ///\n    //\n    showQuickRoot() {\n      this.showautoFalg = false\n      this.quickTxtRootFlag = !this.quickTxtRootFlag\n      this.quickTxtChildFlag = false\n      // console.log(this.quickTxtRootList)\n      if (this.quickTxtRootList.length > 0) { return }\n      reply({ passwd: 'taolesoft0571' }).then(res => {\n        // console.log(res.data.retData.dataList)\n        const data = res.data.retData.dataList\n        this.quickTxtRootList = []\n        data.forEach(item => {\n          this.quickTxtRootList.push(item)\n        })\n      })\n      const ul = document.getElementById('quickTxtRoot')\n      for (let i = 0; i < ul.children.length; i++) {\n        ul.children[i].classList.remove('active')\n      }\n    },\n    // 显示快捷回复消息子列表\n    showQuickChild(event, index) {\n      this.category_id = this.quickTxtRootList[index].category_id\n      this.quickTxtChildList = this.quickTxtRootList[index].list\n      const ul = document.getElementById('quickTxtRoot')\n      for (let i = 0; i < ul.children.length; i++) {\n        ul.children[i].children[0].classList.remove('active')\n      }\n      event.target.classList.add('active')\n      this.quickTxtChildFlag = true\n    },\n    // 添加快捷回复消息内容\n    addQuickMessage(event) {\n      this.sendMessage.message = event.target.value\n      this.editor.txt.html('<p>' + event.target.value + '</p>')\n      this.quickTxtChildFlag = false\n      this.quickTxtRootFlag = false\n    },\n    // 添加快捷回复\n    addQuickTxtRootList() {\n      if (this.inputValue) {\n        const data = {\n          passwd: 'taolesoft0571',\n          content: this.inputValue\n        }\n        // console.log(this.inputValue)\n        addReply(qs.stringify(data)).then(res => {\n          const cate_id = res.data.retData.cate_id\n          this.quickTxtRootList.push({\n            category_id: cate_id,\n            name: this.inputValue,\n            list: []\n          })\n          this.inputValue = ''\n        })\n      }\n    },\n    addQuickTxtChildList() {\n      if (this.inputValueChild) {\n        const data = {\n          passwd: 'taolesoft0571',\n          content: this.inputValueChild,\n          category: this.category_id\n        }\n        addReply(qs.stringify(data)).then(res => {\n          // console.log(res)\n          const cate_id = res.data.retData.cate_id\n          if (res.data.retData.statusCode === 200) {\n            this.quickTxtChildList.push({\n              content: this.inputValueChild,\n              id: cate_id\n            })\n            this.inputValueChild = ''\n          }\n        })\n      }\n    },\n    mouseOverChild() {\n      // console.log(1)\n    },\n    // root失去焦点修改数据\n    blurRoot() {\n      console.log(123)\n    },\n    removeChildThisLi(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        item: this.quickTxtChildList[index].id,\n        is_delete: 1\n      }\n      deleteReply(qs.stringify(data)).then(res => {\n        if (res.data.retData.statusCode === 200) {\n          this.quickTxtChildList.splice(index, 1)\n        }\n      })\n    },\n    removeRootThisLi(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        cid: this.quickTxtRootList[index].category_id,\n        is_delete: 1\n      }\n      deleteReply(qs.stringify(data)).then(res => {\n        if (res.data.retData.statusCode === 200) {\n          this.quickTxtRootList.splice(index, 1)\n          if (this.quickTxtRootList.length === 0) {\n            this.quickTxtChildFlag = false\n          }\n        }\n      })\n    },\n    // 自动回复消息\n    showAuto() {\n      this.quickTxtRootFlag = false\n      this.quickTxtChildFlag = false\n      this.showautoFalg = !this.showautoFalg\n      auto({ passwd: 'taolesoft0571' }).then(res => {\n        const data = res.data.retData.dataList\n        this.autoList = []\n        this.autoList = data\n      })\n    },\n    amendAtuoLogic(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        rid: this.autoList[index].id,\n        logic: this.autoList[index].logic\n      }\n      amendAtuo(qs.stringify(data)).then(() => {})\n    },\n    amendAtuoContent(index) {\n      const data = {\n        passwd: 'taolesoft0571',\n        rid: this.autoList[index].id,\n        content: this.autoList[index].content\n      }\n      amendAtuo(qs.stringify(data)).then(() => {})\n    },\n    onFocus() {\n      this.quickTxtChildFlag = false\n      this.quickTxtRootFlag = false\n      this.showautoFalg = false\n    },\n    copy(uin) {\n      this.$message.success('复制uin:' + uin + '成功')\n    },\n    // 点击跳转另一个页面  资料页\n    toInformation(row) {\n      let index = 'https://www.suibo.tv/admin/user/info/uin/' + this.currentUser.uin\n      if (row.uin) {\n        index = 'https://www.suibo.tv/admin/user/info/uin/' + row.uin\n      }\n      window.open(index, '_blank') // 在新窗口打开外链接\n      // window.location.href = index;  //在本页面打开外部链接\n    },\n    defaultScrollTop() {\n      // 默认滚动条在最底部\n      const ul = document.getElementById('content')\n      this.$nextTick(() => {\n        ul.scrollTop = ul.scrollHeight\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang='scss'>\n.bgactive{\n  background-color: rgba(0,0,0,.1);\n}\nul,li{\n  margin: 0;\n  padding: 0;\n}\n.fr{\n  float: right;\n}\n.fl{\n  float: left;\n}\nli{\n  list-style: none;\n}\n.body{\n  position: relative;\n  height: 1000px;\n}\n.userListLeft{\n  position: absolute;\n  left: 0;\n  width: 300px;\n}\n.userListLeft .refresh{\n  position: absolute;\n  top: 15px;\n  right: 20px;\n  z-index: 1;\n  font-size: 20px;\n}\n.userListLeft .avatar{\n  /* position: relative; */\n  /* left: -40%; */\n  width: 60px;\n}\n.userListLeft .title{\n  position: absolute;\n  top: 10px;\n  left: 80px;\n}\n.userListLeft .title .username{\n  font-size: 16px;\n  text-align: left;\n}\n.userListLeft .title .uin{\n  font-size: 12px;\n  text-align: left;\n}\n.userListLeft .time{\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 12px;\n}\n.userListLeft #tag{\n  position: absolute;\n  top: 30px;\n  right: 20px;\n  font-size: 22px;\n}\n.userListLeft .message{\n  position: absolute;\n  top: 55px;\n  left: 80px;\n  width: 190px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow:ellipsis;\n  text-align: left;\n}\n.userListLeft .message span{\n  font-size: 10px;\n}\n.userChatRight{\n  position: absolute;\n  left: 310px;\n}\n.content{\n  width: 90%;\n  min-width: 800px;\n  /* width: 1000px; */\n  height: 650px;\n  min-height: 500px;\n  border: 1px solid #ccc;\n  padding: 10px;\n  /*border-radius: 5px;*/\n  overflow-y:scroll;\n}\n.chatState{\n  position: relative;\n  /* width: 800px; */\n  width: 90%;\n  min-width: 800px;\n}\n/* 快捷回复 */\n.chatState .quickTxt{\n  width: 150px;\n}\n.chatState input{\n  display: flex;\n  /* width: 150px; */\n  height: 40px;\n  line-height: 40px;\n  border: 1px solid #ccc;\n  padding: 0 20px;\n  font-size: 14px;\n  text-align: center;\n  text-overflow:ellipsis;\n  //white-space: nowrap;\n}\n.chatState input:focus{\n  outline: none;\n  border: 1px solid #aaa;\n}\n.quickTxt ul.quickTxtRoot{\n  position: absolute;\n  bottom: 0;\n}\n.quickTxt ul.quickTxtRoot li{\n  position: relative;\n  width: 100%;\n}\n.quickTxt ul.quickTxtRoot li input{\n  width: 150px;\n}\n.quickTxt ul.quickTxtChild input{\n  /* width: auto; */\n  width: 500px;\n  max-width: 500px;\n}\n.quickTxt ul.quickTxtChild{\n  position: absolute;\n  bottom: 0;\n  left: 150px;\n  /* width: 350px; */\n}\n.quickTxt ul.quickTxtChild li{\n  position: relative;\n  //width: 350px;\n  //width: 100%;\n}\nul.quickTxtRoot li i{\n  position: absolute;\n  top: 12px;\n  right: 5px;\n}\nul.quickTxtChild li i{\n  position: absolute;\n  top: 12px;\n  right: 5px;\n}\ninput.active{\n  background-color: #98F5FF;\n}\n.messageInput{\n  min-width: 800px;\n  max-width: 1000px;\n  /* width: 1000px; */\n  width: 90%;\n}\n.auto{\n  position: absolute;\n  bottom: 0;\n  left: 105px;\n}\n.auto li{\n  display: flex;\n  height: 40px;\n  line-height: 40px;\n  /*border: 1px solid #ccc;*/\n  border-bottom: none;\n  padding: 0 5px;\n}\n.auto li input{\n  border: 1px solid #ccc;\n  width: 120px;\n  overflow: hidden;\n  text-overflow:ellipsis;\n  white-space: nowrap;\n  padding: 0 5px;\n}\n.auto li input.active{\n  width: 200px;\n  background-color: #fff;\n}\n.uploadPhoto{\n  margin: 0 10px;\n}\n.dialogBox{\n  float: left;\n  display: flex;\n  color: #333;\n  font-size: 14px;\n}\n.dialogBox .readStatus{\n  margin-right: 5px;\n  color: #ccc;\n  line-height:20px;\n}\n.dialogBox .title{\n  display: flex;\n}\n.dialogBox .title p{\n  margin: 2px 10px 2px 0;\n}\n.dialogBox .avatar{\n  margin: 0 10px;\n}\n.dialogBox .username,.dialogBox .time{\n  margin: 2px 10px 2px 0;\n}\n.dialogBox .message{\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  max-width: 400px;\n  padding: 8px;\n  margin-top: 8px;\n  word-wrap:break-word;\n  word-break:break-all;\n}\n.dialogBox .message .msgImg{\n  border-radius: 5px;\n  max-width: 200px;\n}\n::-webkit-scrollbar {\n  width: 4px;\n  height: 4px;\n  background-color: rgba(240, 240, 240, 0.5);\n }\n::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background-color: rgba(200, 200, 200, 0.8);\n}\n\n</style>\n\n"]}]}