{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_babel-loader@8.2.3@babel-loader\\lib\\index.js!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\feedback\\feedback.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\feedback\\feedback.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\babel.config.js","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_babel-loader@8.2.3@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcVXNlcnNcXFNha3VyYVxcRG93bmxvYWRzXFxDb21wcmVzc2VkXFxzdWlib19iYWNrdXBfc3lzdGVtXFxub2RlX21vZHVsZXNcXF9AYmFiZWxfcnVudGltZUA3LjE2LjNAQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcVXNlcnNcXFNha3VyYVxcRG93bmxvYWRzXFxDb21wcmVzc2VkXFxzdWlib19iYWNrdXBfc3lzdGVtXFxub2RlX21vZHVsZXNcXF9AYmFiZWxfcnVudGltZUA3LjE2LjNAQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJDOlxcVXNlcnNcXFNha3VyYVxcRG93bmxvYWRzXFxDb21wcmVzc2VkXFxzdWlib19iYWNrdXBfc3lzdGVtXFxub2RlX21vZHVsZXNcXF9AYmFiZWxfcnVudGltZUA3LjE2LjNAQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGluaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJDOlxcVXNlcnNcXFNha3VyYVxcRG93bmxvYWRzXFxDb21wcmVzc2VkXFxzdWlib19iYWNrdXBfc3lzdGVtXFxub2RlX21vZHVsZXNcXF9AYmFiZWxfcnVudGltZUA3LjE2LjNAQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGNyZWF0ZVN1cGVyLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxTYWt1cmFcXERvd25sb2Fkc1xcQ29tcHJlc3NlZFxcc3VpYm9fYmFja3VwX3N5c3RlbVxcbm9kZV9tb2R1bGVzXFxfQGJhYmVsX3J1bnRpbWVANy4xNi4zQEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0UmVhZExpc3QsIGdldENoYXRIaXN0b3J5LCBzZW5kTWVzc2FnZSwgY2hhdFJlYWRlZCwgc2VhcmNoUmVhZExpc3QsIHN0YXJTdGF0ZSwgcmVwbHksIGFkZFJlcGx5LCBkZWxldGVSZXBseSwgYXV0bywgYW1lbmRBdHVvIH0gZnJvbSAnQC9hcGkvZmVlZGJhY2snOwppbXBvcnQgcXMgZnJvbSAncXMnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBXYW5nRWRpdG9yIGZyb20gJ3dhbmdlZGl0b3InOwp2YXIgQnRuTWVudSA9IFdhbmdFZGl0b3IuQnRuTWVudTsKaW1wb3J0IEltYWdlVmlld2VyIGZyb20gJ2VsZW1lbnQtdWkvcGFja2FnZXMvaW1hZ2Uvc3JjL2ltYWdlLXZpZXdlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgY29tcG9uZW50czogewogICAgSW1hZ2VWaWV3ZXI6IEltYWdlVmlld2VyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWxJbWFnZVZpZXdlclNob3c6IGZhbHNlLAogICAgICBvbGRIdG1sOiAnJywKICAgICAgZWRpdG9yOiBudWxsLAogICAgICByZWZyZXNoYnRuOiB0cnVlLAogICAgICBzaG93YXV0b0ZhbGc6IGZhbHNlLAogICAgICBhdXRvTGlzdDogW10sCiAgICAgIC8vIOWIhuexu0lECiAgICAgIGNhdGVnb3J5X2lkOiAnJywKICAgICAgc2hvd0FkZFBob3RvRmxhZzogZmFsc2UsCiAgICAgIC8vIOa3u+WKoOW/q+aNt+a2iOaBrwogICAgICBpbnB1dFZhbHVlOiAnJywKICAgICAgaW5wdXRWYWx1ZUNoaWxkOiAnJywKICAgICAgcXVpY2tUeHRSb290TGlzdDogW10sCiAgICAgIHF1aWNrVHh0Q2hpbGRMaXN0OiBbXSwKICAgICAgcXVpY2tUeHRSb290RmxhZzogZmFsc2UsCiAgICAgIHF1aWNrVHh0Q2hpbGRGbGFnOiBmYWxzZSwKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICcnLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgYmx1cmZsYWc6IHRydWUsCiAgICAgIHNlYXJjaDogewogICAgICAgIHR5cGU6ICd1aW4nLAogICAgICAgIGNvbnRlbnQ6ICcnCiAgICAgIH0sCiAgICAgIC8vIOiOt+WPlueUqOaIt+WIl+ihqOafpeivouWPguaVsOWvueixoSxwYWdlbnVtOuW9k+WJjemhteaVsCxwYWdlc2l6ZTrmr4/pobXmmL7npLrlpJrlsJHmlbDmja4KICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgLy8gcXVlcnk6ICcnLAogICAgICAgIHBhZ2VudW06IDEsCiAgICAgICAgcGFnZXNpemU6IDEwCiAgICAgIH0sCiAgICAgIHVzZXJsaXN0OiBbXSwKICAgICAgLy8g5LiK5Lyg5Zu+54mHCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgLy8g5Y+R6YCB5L+h5oGvCiAgICAgIHNlbmRNZXNzYWdlOiB7CiAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgaW1hZ2U6IFtdLAogICAgICAgIHVpbjogJycsCiAgICAgICAgaXNfaW1hZ2U6IGZhbHNlLAogICAgICAgIGZpbGU6IFtdLAogICAgICAgIG1hbmFnZXJfbmFtZTogJycKICAgICAgfSwKICAgICAgLy8g6L+U5Zue5L+h5oGvCiAgICAgIGNoYXRIaXN0b3J5OiBbXSwKICAgICAgLy8gY2hhdEhpc3Rvcnk6IFt7CiAgICAgIC8vICAgaXNfbWFuYWdlcjogdHJ1ZSwKICAgICAgLy8gICB0aW1lOiAnMjAyMS04LTkgMTI6MzYnLAogICAgICAvLyAgIGlzX2ltZzogdHJ1ZSwKICAgICAgLy8gICBtZXNzYWdlOiAnaHR0cHM6Ly93cGltZy53YWxsc3Rjbi5jb20vZjc3ODczOGMtZTRmOC00ODcwLWI2MzQtNTY3MDNiNGFjYWZlLmdpZj9pbWFnZVZpZXcyLzEvdy84MC9oLzgwJwogICAgICAvLyB9LCB7CiAgICAgIC8vICAgdXNlcm5hbWU6ICdzaGFtb2tlJywKICAgICAgLy8gICB0aW1lOiAnMjAyMS04LTkgMTI6MzYnLAogICAgICAvLyAgIGlzX21hbmFnZXI6IGZhbHNlLAogICAgICAvLyAgIGlzX2ltZzogdHJ1ZSwKICAgICAgLy8gICBtZXNzYWdlOiAnaHR0cHM6Ly93cGltZy53YWxsc3Rjbi5jb20vZjc3ODczOGMtZTRmOC00ODcwLWI2MzQtNTY3MDNiNGFjYWZlLmdpZj9pbWFnZVZpZXcyLzEvdy84MC9oLzgwJwogICAgICAvLyB9XSwKICAgICAgLy8g5aSn5Zu+6aKE6KeICiAgICAgIHNyY0xpc3Q6IFtdLAogICAgICBjdXJyZW50VXNlcjogewogICAgICAgIHVpbjogJycsCiAgICAgICAgYXZhdGFyOiAnJwogICAgICB9LAogICAgICBzdWlib0NsaWVudDogewogICAgICAgIGxvZ286ICcuL3N0YXRpYy9pbWcvbG9nby5qcGcnCiAgICAgIH0sCiAgICAgIG5vTW9yZTogZmFsc2UsCiAgICAgIHVuYWJsZVNlbmQ6IHRydWUKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ3VzZXJuYW1lJ10pKSwKICB3YXRjaDogewogICAgb2xkSHRtbDogZnVuY3Rpb24gb2xkSHRtbCh2YWwsIG9sZFZhbCkgewogICAgICAvLyBjb25zb2xlLmxvZyh2YWwsIG9sZFZhbCkKICAgICAgdGhpcy51bmFibGVTZW5kID0gdmFsID09PSAnJzsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkb2N1bWVudC5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykgewogICAgICAgICAgX3RoaXMuc2VuZCgpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMuc2VuZE1lc3NhZ2UubWFuYWdlcl9uYW1lID0gdGhpcy51c2VybmFtZTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNyZWF0ZVdhbmdFZGl0b3IoKTsKICAgIHRoaXMuaW1nVG9CbG9jaygpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIOmUgOavgee8lui+keWZqAogICAgdGhpcy5lZGl0b3IuZGVzdHJveSgpOwogICAgdGhpcy5lZGl0b3IgPSBudWxsOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6Ieq5a6a5LmJ5omp5bGV6I+c5Y2VCiAgICBjcmVhdGVDbGFzczogZnVuY3Rpb24gY3JlYXRlQ2xhc3MoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICAgIHZhciBxdWlja1JlcGx5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQnRuTWVudSkgewogICAgICAgIF9pbmhlcml0cyhxdWlja1JlcGx5LCBfQnRuTWVudSk7CgogICAgICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIocXVpY2tSZXBseSk7CgogICAgICAgIGZ1bmN0aW9uIHF1aWNrUmVwbHkoZWRpdG9yKSB7CiAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgcXVpY2tSZXBseSk7CgogICAgICAgICAgdmFyICRlbGVtID0gV2FuZ0VkaXRvci4kKCI8ZGl2IGNsYXNzPVwidy1lLW1lbnVcIj48ZWwtYnV0dG9uIHN0eWxlPVwiZm9udC1zaXplOiAxNHB4O1wiPlx1NUZFQlx1NjM3N1x1NTZERVx1NTkwRDwvZWwtYnV0dG9uPjwvZGl2PiIpOwogICAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IpOwogICAgICAgIH0gLy8g6I+c5Y2V54K55Ye75LqL5Lu2CgoKICAgICAgICBfY3JlYXRlQ2xhc3MocXVpY2tSZXBseSwgW3sKICAgICAgICAgIGtleTogImNsaWNrSGFuZGxlciIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xpY2tIYW5kbGVyKGUpIHsKICAgICAgICAgICAgdGhhdC5zaG93UXVpY2tSb290KCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAidHJ5Q2hhbmdlQWN0aXZlIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cnlDaGFuZ2VBY3RpdmUoKSB7CiAgICAgICAgICAgIHRoYXQucXVpY2tUeHRSb290RmxhZyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH1dKTsKCiAgICAgICAgcmV0dXJuIHF1aWNrUmVwbHk7CiAgICAgIH0oQnRuTWVudSk7CgogICAgICB2YXIgYXV0b1JlcGx5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQnRuTWVudTIpIHsKICAgICAgICBfaW5oZXJpdHMoYXV0b1JlcGx5LCBfQnRuTWVudTIpOwoKICAgICAgICB2YXIgX3N1cGVyMiA9IF9jcmVhdGVTdXBlcihhdXRvUmVwbHkpOwoKICAgICAgICBmdW5jdGlvbiBhdXRvUmVwbHkoZWRpdG9yKSB7CiAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgYXV0b1JlcGx5KTsKCiAgICAgICAgICB2YXIgJGVsZW0gPSBXYW5nRWRpdG9yLiQoIjxkaXYgY2xhc3M9XCJ3LWUtbWVudVwiPjxlbC1idXR0b24gc3R5bGU9XCJmb250LXNpemU6IDE0cHg7XCI+XHU4MUVBXHU1MkE4XHU1NkRFXHU1OTBEPC9lbC1idXR0b24+PC9kaXY+Iik7CiAgICAgICAgICByZXR1cm4gX3N1cGVyMi5jYWxsKHRoaXMsICRlbGVtLCBlZGl0b3IpOwogICAgICAgIH0gLy8g6I+c5Y2V54K55Ye75LqL5Lu2CgoKICAgICAgICBfY3JlYXRlQ2xhc3MoYXV0b1JlcGx5LCBbewogICAgICAgICAga2V5OiAiY2xpY2tIYW5kbGVyIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGlja0hhbmRsZXIoZSkgewogICAgICAgICAgICB0aGF0LnNob3dBdXRvKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAidHJ5Q2hhbmdlQWN0aXZlIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cnlDaGFuZ2VBY3RpdmUoKSB7CiAgICAgICAgICAgIHRoYXQuc2hvd2F1dG9GYWxnID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfV0pOwoKICAgICAgICByZXR1cm4gYXV0b1JlcGx5OwogICAgICB9KEJ0bk1lbnUpOyAvLyBjbGFzcyBzZW5kIGV4dGVuZHMgQnRuTWVudSB7CiAgICAgIC8vICAgY29uc3RydWN0b3IoZWRpdG9yKSB7CiAgICAgIC8vICAgICBjb25zdCAkZWxlbSA9IFdhbmdFZGl0b3IuJChgPGRpdiBjbGFzcz0idy1lLW1lbnUiPjxlbC1idXR0b24+5Y+R6YCBPC9lbC1idXR0b24+PC9kaXY+YCkKICAgICAgLy8gICAgIHN1cGVyKCRlbGVtLCBlZGl0b3IpCiAgICAgIC8vICAgfQogICAgICAvLyAgIC8vIOiPnOWNleeCueWHu+S6i+S7tgogICAgICAvLyAgIGNsaWNrSGFuZGxlcihlKSB7CiAgICAgIC8vICAgICB0aGF0LnNlbmQoKQogICAgICAvLyAgIH0KICAgICAgLy8gICB0cnlDaGFuZ2VBY3RpdmUoKSB7fQogICAgICAvLyB9CgoKICAgICAgdmFyIHBob3RvcyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0J0bk1lbnUzKSB7CiAgICAgICAgX2luaGVyaXRzKHBob3RvcywgX0J0bk1lbnUzKTsKCiAgICAgICAgdmFyIF9zdXBlcjMgPSBfY3JlYXRlU3VwZXIocGhvdG9zKTsKCiAgICAgICAgZnVuY3Rpb24gcGhvdG9zKGVkaXRvcikgewogICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIHBob3Rvcyk7CgogICAgICAgICAgdmFyICRlbGVtID0gV2FuZ0VkaXRvci4kKCI8ZGl2IGNsYXNzPVwidy1lLW1lbnVcIj48ZWwtYnV0dG9uICBzdHlsZT1cImZvbnQtc2l6ZTogMTRweDtcIj5cdTRFMEFcdTRGMjBcdTU2RkVcdTcyNDc8L2VsLWJ1dHRvbj48L2Rpdj4iKTsKICAgICAgICAgIHJldHVybiBfc3VwZXIzLmNhbGwodGhpcywgJGVsZW0sIGVkaXRvcik7CiAgICAgICAgfSAvLyDoj5zljZXngrnlh7vkuovku7YKCgogICAgICAgIF9jcmVhdGVDbGFzcyhwaG90b3MsIFt7CiAgICAgICAgICBrZXk6ICJjbGlja0hhbmRsZXIiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsaWNrSGFuZGxlcihlKSB7CiAgICAgICAgICAgIHRoYXQuc2hvd0FkZFBob3RvRmxhZyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAidHJ5Q2hhbmdlQWN0aXZlIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cnlDaGFuZ2VBY3RpdmUoKSB7fQogICAgICAgIH1dKTsKCiAgICAgICAgcmV0dXJuIHBob3RvczsKICAgICAgfShCdG5NZW51KTsKCiAgICAgIFdhbmdFZGl0b3IucmVnaXN0ZXJNZW51KCdwaG90b3NLZXknLCBwaG90b3MpOwogICAgICBXYW5nRWRpdG9yLnJlZ2lzdGVyTWVudSgncXVpY2tSZXBseUtleScsIHF1aWNrUmVwbHkpOwogICAgICBXYW5nRWRpdG9yLnJlZ2lzdGVyTWVudSgnYXV0b1JlcGx5S2V5JywgYXV0b1JlcGx5KTsgLy8gV2FuZ0VkaXRvci5yZWdpc3Rlck1lbnUoJ3NlbmRLZXknLCBzZW5kKQogICAgfSwKICAgIC8vIOWIm+W7uuWvjOaWh+acrOe8lui+keWZqAogICAgY3JlYXRlV2FuZ0VkaXRvcjogZnVuY3Rpb24gY3JlYXRlV2FuZ0VkaXRvcigpIHsKICAgICAgdGhpcy5jcmVhdGVDbGFzcygpOwogICAgICB0aGlzLmVkaXRvciA9IG5ldyBXYW5nRWRpdG9yKCcjbWVzc2FnZUlucHV0Jyk7CiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdTZXJ2ZXIgPSAnaHR0cDovL3d3dy5zdWliby50di9hcGkvcHdhcGkvbWFuYWdlL2JhY2tlbmQvZmVlZGJhY2svdXBsb2FkJzsgLy8g5LiK57q/5pe26ZyA6KaB5pS55Li657q/5LiKCiAgICAgIC8vIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdTZXJ2ZXIgPSAnaHR0cDovLzE5Mi4xNjguMi4xNDE6MTkxMDAvYXBpL3B3YXBpL21hbmFnZS9iYWNrZW5kL2ZlZWRiYWNrL3VwbG9hZCcgLy8g5LiK57q/5pe26ZyA6KaB5pS55Li657q/5LiKCgogICAgICB0aGlzLmVkaXRvci5jb25maWcudXBsb2FkSW1nUGFyYW1zID0gewogICAgICAgIHVpbjogdGhpcy5jdXJyZW50VXNlci51aW4KICAgICAgfTsKICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEZpbGVOYW1lID0gJ2ltYWdlW10nOyAvLyB0aGlzLmVkaXRvci5jb25maWcudXBsb2FkSW1nSG9va3MgPSB7CiAgICAgIC8vICAgLy8g5Zu+54mH5LiK5Lyg5bm26L+U5Zue5LqG57uT5p6c77yM5Zu+54mH5o+S5YWl5bey5oiQ5YqfCiAgICAgIC8vICAgc3VjY2VzczogZnVuY3Rpb24oeGhyKSB7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnc3VjY2VzcycsIHhocikKICAgICAgLy8gICB9CiAgICAgIC8vIH0KCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5tZW51cyA9IFsvLyAnZW1vdGljb24nLAogICAgICAnaW1hZ2UnLCAncGhvdG9zJywgJ3F1aWNrUmVwbHknLCAnYXV0b1JlcGx5J107CiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5wbGFjZWhvbGRlciA9ICfor7fovpPlhaUuLi4nOyAvLyDphY3nva7lhajlsY/lip/og73mjInpkq7mmK/lkKblsZXnpLoKCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5zaG93RnVsbFNjcmVlbiA9IGZhbHNlOwogICAgICB0aGlzLmVkaXRvci5jb25maWcuaGVpZ2h0ID0gMTAwOwogICAgICB0aGlzLmVkaXRvci5jb25maWcuekluZGV4ID0gMTAxOwogICAgICB2YXIgcmVnID0gLzxwPjxiclwvPjxcL3A+LzsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLm9uY2hhbmdlID0gZnVuY3Rpb24gKG5ld0h0bWwpIHsKICAgICAgICBpZiAocmVnLnRlc3QobmV3SHRtbCkpIHRoYXQuZWRpdG9yLnR4dC5jbGVhcigpOyAvLyDnm7TmjqXmjIllbnRlcumUrua4heepugoKICAgICAgICB0aGF0LnNlbmRNZXNzYWdlLm1lc3NhZ2UgPSBuZXdIdG1sOwogICAgICAgIHRoYXQub2xkSHRtbCA9IG5ld0h0bWw7CiAgICAgIH07CgogICAgICB0aGlzLmVkaXRvci5jcmVhdGUoKTsKICAgIH0sCiAgICAvLyDlpKflm77pooTop4gKICAgIGFkZFByZXZpZXc6IGZ1bmN0aW9uIGFkZFByZXZpZXcoaW1ndXJsKSB7CiAgICAgIHRoaXMuc3JjTGlzdCA9IFtdOwogICAgICB0aGlzLnNyY0xpc3QucHVzaChpbWd1cmwpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g6I635Y+W6YGu572p5bGCZG9tCiAgICAgICAgdmFyIGRvbUltYWdlTWFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbC1pbWFnZS12aWV3ZXJfX21hc2snKTsKCiAgICAgICAgaWYgKCFkb21JbWFnZU1hc2spIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGRvbUltYWdlTWFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIOeCueWHu+mBrue9qeWxguaXtuiwg+eUqOWFs+mXreaMiemSrueahCBjbGljayDkuovku7YKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbC1pbWFnZS12aWV3ZXJfX2Nsb3NlJykuY2xpY2soKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgdXBsb2FkUGRmOiBmdW5jdGlvbiB1cGxvYWRQZGYoZikgewogICAgICB0aGlzLiRodHRwLmpzb25wKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMvJywge30sIHsKICAgICAgICBoZWFkZXJzOiB7fSwKICAgICAgICBlbXVsYXRlSlNPTjogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGYub25TdWNjZXNzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS4iuS8oOWbvueJh+mDqOWIhgogICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnNlbmRNZXNzYWdlLmltYWdlID0gW107CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuZmlsZSA9IFtdOwogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7CiAgICAgIGZpbGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgX3RoaXMyLnNlbmRNZXNzYWdlLmltYWdlW2luZGV4XSA9IGl0ZW0ucmF3OwogICAgICAgIF90aGlzMi5zZW5kTWVzc2FnZS5maWxlW2luZGV4XSA9IGl0ZW07CiAgICAgIH0pOwogICAgICB0aGlzLnVuYWJsZVNlbmQgPSB0aGlzLnNlbmRNZXNzYWdlLmZpbGUgPT09IFtdOwogICAgICB0aGlzLnNlbmRNZXNzYWdlLm1lc3NhZ2UgPSAnICc7IC8vIGNvbnNvbGUubG9nKHRoaXMuZmlsZUxpc3QpCiAgICB9LAogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnNlbmRNZXNzYWdlLmltYWdlID0gW107CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuZmlsZSA9IFtdOwogICAgICBmaWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIF90aGlzMy5zZW5kTWVzc2FnZS5pbWFnZVtpbmRleF0gPSBpdGVtLnJhdzsKICAgICAgICBfdGhpczMuc2VuZE1lc3NhZ2UuZmlsZVtpbmRleF0gPSBmaWxlOwogICAgICB9KTsgLy8gY29uc29sZS5sb2codGhpcy5zZW5kTWVzc2FnZS5pbWFnZSkKICAgIH0sCiAgICBoYW5kbGVQcmV2aWV3OiBmdW5jdGlvbiBoYW5kbGVQcmV2aWV3KGZpbGUpIHsKICAgICAgY29uc29sZS5sb2coZmlsZSk7CiAgICB9LAogICAgcmVmcmVzaFVzZXJMaXN0OiBmdW5jdGlvbiByZWZyZXNoVXNlckxpc3QoKSB7CiAgICAgIGlmICh0aGlzLnJlZnJlc2hidG4gPT09IGZhbHNlKSByZXR1cm47CiAgICAgIHRoaXMucmVmcmVzaGJ0biA9IGZhbHNlOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDojrflj5bmnKror7vlkozlt7Lor7vliJfooagKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICBzZWFyY2hUeXBlOiB0aGlzLnNlYXJjaC50eXBlLAogICAgICAgIHNlYXJjaENvbnRlbnQ6IHRoaXMuc2VhcmNoLmNvbnRlbnQKICAgICAgfTsgLy8g5a2Y5Zyo5pCc57Si5raI5oGv6LCD55So5pCc57Si5o6l5Y+j77yM5ZCm5Zyo6LCD55So5YWo6YOo5YiX6KGo5o6l5Y+jCgogICAgICBpZiAodGhpcy5zZWFyY2guY29udGVudCAhPT0gJycpIHsKICAgICAgICBzZWFyY2hSZWFkTGlzdChwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgICAgX3RoaXM0LnVzZXJsaXN0ID0gW107CiAgICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLnJldERhdGEuZGF0YUxpc3Q7CiAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKGl0ZW0ubWFueSkgewogICAgICAgICAgICAgIF90aGlzNC51c2VybGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIGF2YXRhcjogaXRlbS5hdmF0YXIsCiAgICAgICAgICAgICAgICB1c2VybmFtZTogaXRlbS5uaWNrLAogICAgICAgICAgICAgICAgaXNfcmVhZDogJycsCiAgICAgICAgICAgICAgICBzdGFyRmxhZzogQm9vbGVhbihpdGVtLmlzX3N0YXIpLAogICAgICAgICAgICAgICAgYW1vdW50OiBpdGVtLmFtb3VudAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzNC51c2VybGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIGF2YXRhcjogaXRlbS5hdmF0YXIsCiAgICAgICAgICAgICAgICB1aW46IGl0ZW0udWluLAogICAgICAgICAgICAgICAgdXNlcm5hbWU6IGl0ZW0ubmljaywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGl0ZW0uY29udGVudCwKICAgICAgICAgICAgICAgIHRpbWU6IGl0ZW0uY3JlYXRlX3RpbWUuc2xpY2UoNSwgMTApLAogICAgICAgICAgICAgICAgaXNfcmVhZDogaXRlbS5pc19yZWFkLAogICAgICAgICAgICAgICAgaXNfaW1nOiBCb29sZWFuKGl0ZW0uaXNfaW1nKSwKICAgICAgICAgICAgICAgIHN0YXJGbGFnOiBCb29sZWFuKGl0ZW0uaXNfc3RhcikKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczQucmVmcmVzaGJ0biA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZ2V0UmVhZExpc3QocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC51c2VybGlzdCA9IFtdOwogICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5yZXREYXRhLmRhdGFMaXN0OwogICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIF90aGlzNC51c2VybGlzdC5wdXNoKHsKICAgICAgICAgICAgICBhdmF0YXI6IGl0ZW0uYXZhdGFyLAogICAgICAgICAgICAgIHVpbjogaXRlbS51aW4sCiAgICAgICAgICAgICAgdXNlcm5hbWU6IGl0ZW0ubmljaywKICAgICAgICAgICAgICBtZXNzYWdlOiBpdGVtLmNvbnRlbnQsCiAgICAgICAgICAgICAgdGltZTogaXRlbS5jcmVhdGVfdGltZS5zbGljZSg1LCAxMCksCiAgICAgICAgICAgICAgaXNfcmVhZDogaXRlbS5pc19yZWFkLAogICAgICAgICAgICAgIGlzX2ltZzogQm9vbGVhbihpdGVtLmlzX2ltZyksCiAgICAgICAgICAgICAgc3RhckZsYWc6IEJvb2xlYW4oaXRlbS5pc19zdGFyKQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXM0LnJlZnJlc2hidG4gPSB0cnVlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g5pu05pS5c3RhcueKtuaAgQogICAgc3RhcmJ0bjogZnVuY3Rpb24gc3RhcmJ0bihpbmRleCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIHVpbjogdGhpcy51c2VybGlzdFtpbmRleF0udWluCiAgICAgIH07CiAgICAgIHN0YXJTdGF0ZShxcy5zdHJpbmdpZnkoZGF0YSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXM1LnVzZXJsaXN0W2luZGV4XS5zdGFyRmxhZyA9ICFfdGhpczUudXNlcmxpc3RbaW5kZXhdLnN0YXJGbGFnOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5bGV56S66IGK5aSp5qGGCiAgICBzaG93Q2hhdEhpc3Rvcnk6IGZ1bmN0aW9uIHNob3dDaGF0SGlzdG9yeShyb3cpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLmN1cnJlbnRVc2VyLnVpbiA9IHJvdy51aW47CiAgICAgIHRoaXMuY3VycmVudFVzZXIuYXZhdGFyID0gcm93LmF2YXRhcjsgLy8g5a+M5paH5pys6ZSA5q+B5YaN5Yib5bu6CgogICAgICB0aGlzLmVkaXRvci5kZXN0cm95KCk7CiAgICAgIHRoaXMuZWRpdG9yID0gbnVsbDsKICAgICAgdGhpcy5jcmVhdGVXYW5nRWRpdG9yKCk7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgcGFzc3dkOiAndGFvbGVzb2Z0MDU3MScsCiAgICAgICAgdWluOiB0aGlzLmN1cnJlbnRVc2VyLnVpbiwKICAgICAgICBzaXplOiB0aGlzLnF1ZXJ5SW5mby5wYWdlc2l6ZSwKICAgICAgICBwYWdlOiB0aGlzLnF1ZXJ5SW5mby5wYWdlbnVtCiAgICAgIH07CiAgICAgIGdldENoYXRIaXN0b3J5KHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEucmV0RGF0YSkKICAgICAgICAvLyDmnKror7vnirbmgIHmlLnlj5jmiJDlt7Lor7sKICAgICAgICB2YXIgcmV0ZGF0YSA9IHJlcy5kYXRhLnJldERhdGE7CgogICAgICAgIGlmIChyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgdmFyIGNoYXQgPSB7CiAgICAgICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgICAgICB1aW46IF90aGlzNi5jdXJyZW50VXNlci51aW4sCiAgICAgICAgICAgIGZyb21NYW5hZ2VyOiAxCiAgICAgICAgICB9OyAvLyDlj5HpgIHor7fmsYIg5pyq6K+75Y+Y5bey6K+7CgogICAgICAgICAgY2hhdFJlYWRlZChxcy5zdHJpbmdpZnkoY2hhdCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICByb3cuaXNfcmVhZCA9IDE7IC8vIOagh+iusOW9k+WJjeihjOW3suivuwogICAgICAgICAgfSk7IC8vIOa4suafk+iBiuWkqeiusOW9leWIl+ihqAoKICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXM2LmN1cnJlbnRVc2VyLCByZXRkYXRhLmJhY2tEYXRhKTsgLy8g5ou85o6lCgogICAgICAgICAgX3RoaXM2LmNoYXRIaXN0b3J5ID0gW107CiAgICAgICAgICByZXRkYXRhLmRhdGFMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgX3RoaXM2LmNoYXRIaXN0b3J5LnB1c2goewogICAgICAgICAgICAgIHVpbjogaXRlbS51aW4sCiAgICAgICAgICAgICAgdXNlcm5hbWU6IGl0ZW0ubmljaywKICAgICAgICAgICAgICB0aW1lOiBpdGVtLmNyZWF0ZV90aW1lLAogICAgICAgICAgICAgIG1lc3NhZ2U6IGl0ZW0uY29udGVudCwKICAgICAgICAgICAgICBpc19tYW5hZ2VyOiBCb29sZWFuKGl0ZW0uaXNfbWFuYWdlciksCiAgICAgICAgICAgICAgaXNfaW1nOiBCb29sZWFuKE51bWJlcihpdGVtLmlzX2ltZykpLAogICAgICAgICAgICAgIG1hbmFnZXJfbmFtZTogaXRlbS5tYW5hZ2VyX25hbWUsCiAgICAgICAgICAgICAgdXNlcl9yZWFkOiBCb29sZWFuKGl0ZW0udXNlcl9yZWFkKQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXM2LnNlbmRNZXNzYWdlLnVpbiA9IF90aGlzNi5jdXJyZW50VXNlci51aW47CgogICAgICAgICAgX3RoaXM2LmRlZmF1bHRTY3JvbGxUb3AoKTsKCiAgICAgICAgICBfdGhpczYubm9Nb3JlID0gZmFsc2U7CgogICAgICAgICAgX3RoaXM2LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuaW1nVG9CbG9jaygpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5HpgIEKICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnNlbmRNZXNzYWdlLm1lc3NhZ2UpIHJldHVybjsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGFzc3dkJywgJ3Rhb2xlc29mdDA1NzEnKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCd1aW4nLCB0aGlzLnNlbmRNZXNzYWdlLnVpbik7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbWFuYWdlcicsIDEpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ21hbmFnZXJfbmFtZScsIHRoaXMudXNlcm5hbWUpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRlbnQnLCB0aGlzLnNlbmRNZXNzYWdlLm1lc3NhZ2UpOwogICAgICB0aGlzLnNlbmRNZXNzYWdlLmltYWdlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlW10nLCBpdGVtKTsKICAgICAgfSk7CiAgICAgIHNlbmRNZXNzYWdlKGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyDmiJDlip8KICAgICAgICBpZiAocmVzLmRhdGEucmV0RGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgIHZhciBjaGF0ID0gewogICAgICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICAgICAgdWluOiBfdGhpczcuc2VuZE1lc3NhZ2UudWluLAogICAgICAgICAgICBmcm9tTWFuYWdlcjogMQogICAgICAgICAgfTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDlj5HpgIHmtojmga/miJDlip/vvIzmnKror7vnirbmgIHmlLnlj5jmiJDlt7Lor7sKICAgICAgICAgICAgY2hhdFJlYWRlZChxcy5zdHJpbmdpZnkoY2hhdCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLnJldERhdGEuc3RhdHVzQ29kZSkKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEucmV0RGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIC8vIOWJjeerr+a3u+WKoOS/oeaBryBzdGFydC0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgICAgICAgdmFyIHRoaXNNZXNzYWdlID0gX3RoaXM3LnNlbmRNZXNzYWdlLm1lc3NhZ2U7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNy5zZW5kTWVzc2FnZS5pbWFnZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5zZW5kTWVzc2FnZS5pc19pbWFnZSA9IHRydWU7CgogICAgICAgICAgICAgICAgICBfdGhpczcuc2VuZE1lc3NhZ2UuZmlsZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnNlbmRNZXNzYWdlLmlzX2ltYWdlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2VuZE1lc3NhZ2UubWVzc2FnZSA9IGl0ZW0udXJsOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczcuY2hhdEhpc3RvcnkucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VyX25hbWU6IF90aGlzNy51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAgIC8vIOi/vei4quWuouaIt+err+WPkemAgeS6ugogICAgICAgICAgICAgICAgICAgICAgdGltZTogJ+WImuWImicsCiAgICAgICAgICAgICAgICAgICAgICBpc19tYW5hZ2VyOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX3RoaXM3LnNlbmRNZXNzYWdlLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgICBpc19pbWc6IF90aGlzNy5zZW5kTWVzc2FnZS5pc19pbWFnZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNy5zZW5kTWVzc2FnZS5pc19pbWFnZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBfdGhpczcuc2VuZE1lc3NhZ2UuaW1hZ2UgPSBbXTsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHRoaXNNZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5jaGF0SGlzdG9yeS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBtYW5hZ2VyX25hbWU6IF90aGlzNy51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAvLyDov73ouKrlrqLmiLfnq6/lj5HpgIHkuroKICAgICAgICAgICAgICAgICAgICB0aW1lOiAn5Yia5YiaJywKICAgICAgICAgICAgICAgICAgICBpc19tYW5hZ2VyOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXNNZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIGlzX2ltZzogX3RoaXM3LnNlbmRNZXNzYWdlLmlzX2ltYWdlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNy5zZW5kTWVzc2FnZS5tZXNzYWdlID0gJyc7CgogICAgICAgICAgICAgICAgX3RoaXM3LmRlZmF1bHRTY3JvbGxUb3AoKTsKCiAgICAgICAgICAgICAgICBfdGhpczcuc2hvd0FkZFBob3RvRmxhZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzNy5lZGl0b3IudHh0LmNsZWFyKCk7CgogICAgICAgICAgICAgICAgX3RoaXM3LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW1nVG9CbG9jaygpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXM3LnVuYWJsZVNlbmQgPSB0cnVlOyAvLyDliY3nq6/mt7vliqDkv6Hmga8gZW5kLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDogYrlpKnorrDlvZXkuK3nmoRpbWcgZGlzcGxheTpibG9jazsKICAgIGltZ1RvQmxvY2s6IGZ1bmN0aW9uIGltZ1RvQmxvY2soKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKTsKCiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICBpZiAoaW1nW2ldLnBhcmVudE5vZGUudGFnTmFtZSA9PT0gJ1AnKSB7CiAgICAgICAgICBpbWdbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICBpbWdbaV0uc3R5bGUubWF4V2lkdGggPSAnMjAwcHgnOwogICAgICAgICAgaW1nW2ldLnN0eWxlLm1hcmdpbiA9ICc1cHggMCc7CiAgICAgICAgICBpbWdbaV0uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzhweCc7CiAgICAgICAgICBpbWdbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoYXQuc2hvd0ltZ1RvQmxvY2soaW1nW2ldLmN1cnJlbnRTcmMpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWcubGVuZ3RoOyBpKyspIHsKICAgICAgICBfbG9vcChpKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWvjOaWh+acrOWbvueJh+Wkp+WbvumihOiniOWSjOWFs+mXrQogICAgY2xvc2VWaWV3ZXI6IGZ1bmN0aW9uIGNsb3NlVmlld2VyKCkgewogICAgICB0aGlzLmVsSW1hZ2VWaWV3ZXJTaG93ID0gZmFsc2U7CiAgICB9LAogICAgc2hvd0ltZ1RvQmxvY2s6IGZ1bmN0aW9uIHNob3dJbWdUb0Jsb2NrKGltZ1VybCkgewogICAgICB0aGlzLmFkZFByZXZpZXcoaW1nVXJsKTsKICAgICAgdGhpcy5lbEltYWdlVmlld2VyU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDojrflj5bpga7nvanlsYJkb20KICAgICAgICB2YXIgZG9tSW1hZ2VNYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsLWltYWdlLXZpZXdlcl9fbWFzaycpOwoKICAgICAgICBpZiAoIWRvbUltYWdlTWFzaykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgZG9tSW1hZ2VNYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8g54K55Ye76YGu572p5bGC5pe26LCD55So5YWz6Zet5oyJ6ZKu55qEIGNsaWNrIOS6i+S7tgogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsLWltYWdlLXZpZXdlcl9fY2xvc2UnKS5jbGljaygpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBtb3JlQ2hhdDogZnVuY3Rpb24gbW9yZUNoYXQoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZW51bSsrOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIHVpbjogdGhpcy5jdXJyZW50VXNlci51aW4sCiAgICAgICAgc2l6ZTogdGhpcy5xdWVyeUluZm8ucGFnZXNpemUsCiAgICAgICAgcGFnZTogdGhpcy5xdWVyeUluZm8ucGFnZW51bQogICAgICB9OwogICAgICBnZXRDaGF0SGlzdG9yeShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEucmV0RGF0YS5kYXRhTGlzdDsKCiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSBfdGhpczguY2hhdEhpc3RvcnkubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpczgubm9Nb3JlID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIF90aGlzOC5jaGF0SGlzdG9yeSA9IFtdOwogICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgX3RoaXM4LmNoYXRIaXN0b3J5LnB1c2goewogICAgICAgICAgICB1aW46IGl0ZW0udWluLAogICAgICAgICAgICB1c2VybmFtZTogaXRlbS5uaWNrLAogICAgICAgICAgICB0aW1lOiBpdGVtLmNyZWF0ZV90aW1lLAogICAgICAgICAgICBtZXNzYWdlOiBpdGVtLmNvbnRlbnQsCiAgICAgICAgICAgIGlzX21hbmFnZXI6IEJvb2xlYW4oaXRlbS5pc19tYW5hZ2VyKSwKICAgICAgICAgICAgaXNfaW1nOiBCb29sZWFuKE51bWJlcihpdGVtLmlzX2ltZykpCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8KICAgIC8vIOW/q+aNt+WbnuWkjemDqOWIhiAvLy8KICAgIC8vCiAgICBzaG93UXVpY2tSb290OiBmdW5jdGlvbiBzaG93UXVpY2tSb290KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd2F1dG9GYWxnID0gZmFsc2U7CiAgICAgIHRoaXMucXVpY2tUeHRSb290RmxhZyA9ICF0aGlzLnF1aWNrVHh0Um9vdEZsYWc7CiAgICAgIHRoaXMucXVpY2tUeHRDaGlsZEZsYWcgPSBmYWxzZTsgLy8gY29uc29sZS5sb2codGhpcy5xdWlja1R4dFJvb3RMaXN0KQoKICAgICAgaWYgKHRoaXMucXVpY2tUeHRSb290TGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICByZXBseSh7CiAgICAgICAgcGFzc3dkOiAndGFvbGVzb2Z0MDU3MScKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEucmV0RGF0YS5kYXRhTGlzdCkKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLnJldERhdGEuZGF0YUxpc3Q7CiAgICAgICAgX3RoaXM5LnF1aWNrVHh0Um9vdExpc3QgPSBbXTsKICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIF90aGlzOS5xdWlja1R4dFJvb3RMaXN0LnB1c2goaXRlbSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB2YXIgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tUeHRSb290Jyk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVsLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdWwuY2hpbGRyZW5baV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmmL7npLrlv6vmjbflm57lpI3mtojmga/lrZDliJfooagKICAgIHNob3dRdWlja0NoaWxkOiBmdW5jdGlvbiBzaG93UXVpY2tDaGlsZChldmVudCwgaW5kZXgpIHsKICAgICAgdGhpcy5jYXRlZ29yeV9pZCA9IHRoaXMucXVpY2tUeHRSb290TGlzdFtpbmRleF0uY2F0ZWdvcnlfaWQ7CiAgICAgIHRoaXMucXVpY2tUeHRDaGlsZExpc3QgPSB0aGlzLnF1aWNrVHh0Um9vdExpc3RbaW5kZXhdLmxpc3Q7CiAgICAgIHZhciB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWlja1R4dFJvb3QnKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICB1bC5jaGlsZHJlbltpXS5jaGlsZHJlblswXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgfQoKICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRGbGFnID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDmt7vliqDlv6vmjbflm57lpI3mtojmga/lhoXlrrkKICAgIGFkZFF1aWNrTWVzc2FnZTogZnVuY3Rpb24gYWRkUXVpY2tNZXNzYWdlKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwoJzxwPicgKyBldmVudC50YXJnZXQudmFsdWUgKyAnPC9wPicpOwogICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRGbGFnID0gZmFsc2U7CiAgICAgIHRoaXMucXVpY2tUeHRSb290RmxhZyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOa3u+WKoOW/q+aNt+WbnuWkjQogICAgYWRkUXVpY2tUeHRSb290TGlzdDogZnVuY3Rpb24gYWRkUXVpY2tUeHRSb290TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaW5wdXRWYWx1ZSkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgcGFzc3dkOiAndGFvbGVzb2Z0MDU3MScsCiAgICAgICAgICBjb250ZW50OiB0aGlzLmlucHV0VmFsdWUKICAgICAgICB9OyAvLyBjb25zb2xlLmxvZyh0aGlzLmlucHV0VmFsdWUpCgogICAgICAgIGFkZFJlcGx5KHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgY2F0ZV9pZCA9IHJlcy5kYXRhLnJldERhdGEuY2F0ZV9pZDsKCiAgICAgICAgICBfdGhpczEwLnF1aWNrVHh0Um9vdExpc3QucHVzaCh7CiAgICAgICAgICAgIGNhdGVnb3J5X2lkOiBjYXRlX2lkLAogICAgICAgICAgICBuYW1lOiBfdGhpczEwLmlucHV0VmFsdWUsCiAgICAgICAgICAgIGxpc3Q6IFtdCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczEwLmlucHV0VmFsdWUgPSAnJzsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGFkZFF1aWNrVHh0Q2hpbGRMaXN0OiBmdW5jdGlvbiBhZGRRdWlja1R4dENoaWxkTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaW5wdXRWYWx1ZUNoaWxkKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuaW5wdXRWYWx1ZUNoaWxkLAogICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnlfaWQKICAgICAgICB9OwogICAgICAgIGFkZFJlcGx5KHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICB2YXIgY2F0ZV9pZCA9IHJlcy5kYXRhLnJldERhdGEuY2F0ZV9pZDsKCiAgICAgICAgICBpZiAocmVzLmRhdGEucmV0RGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMxMS5xdWlja1R4dENoaWxkTGlzdC5wdXNoKHsKICAgICAgICAgICAgICBjb250ZW50OiBfdGhpczExLmlucHV0VmFsdWVDaGlsZCwKICAgICAgICAgICAgICBpZDogY2F0ZV9pZAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMTEuaW5wdXRWYWx1ZUNoaWxkID0gJyc7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBtb3VzZU92ZXJDaGlsZDogZnVuY3Rpb24gbW91c2VPdmVyQ2hpbGQoKSB7Ly8gY29uc29sZS5sb2coMSkKICAgIH0sCiAgICAvLyByb2905aSx5Y6754Sm54K55L+u5pS55pWw5o2uCiAgICBibHVyUm9vdDogZnVuY3Rpb24gYmx1clJvb3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKDEyMyk7CiAgICB9LAogICAgcmVtb3ZlQ2hpbGRUaGlzTGk6IGZ1bmN0aW9uIHJlbW92ZUNoaWxkVGhpc0xpKGluZGV4KSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIGl0ZW06IHRoaXMucXVpY2tUeHRDaGlsZExpc3RbaW5kZXhdLmlkLAogICAgICAgIGlzX2RlbGV0ZTogMQogICAgICB9OwogICAgICBkZWxldGVSZXBseShxcy5zdHJpbmdpZnkoZGF0YSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMxMi5xdWlja1R4dENoaWxkTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlUm9vdFRoaXNMaTogZnVuY3Rpb24gcmVtb3ZlUm9vdFRoaXNMaShpbmRleCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICBjaWQ6IHRoaXMucXVpY2tUeHRSb290TGlzdFtpbmRleF0uY2F0ZWdvcnlfaWQsCiAgICAgICAgaXNfZGVsZXRlOiAxCiAgICAgIH07CiAgICAgIGRlbGV0ZVJlcGx5KHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnJldERhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczEzLnF1aWNrVHh0Um9vdExpc3Quc3BsaWNlKGluZGV4LCAxKTsKCiAgICAgICAgICBpZiAoX3RoaXMxMy5xdWlja1R4dFJvb3RMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICBfdGhpczEzLnF1aWNrVHh0Q2hpbGRGbGFnID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDoh6rliqjlm57lpI3mtojmga8KICAgIHNob3dBdXRvOiBmdW5jdGlvbiBzaG93QXV0bygpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdGhpcy5xdWlja1R4dFJvb3RGbGFnID0gZmFsc2U7CiAgICAgIHRoaXMucXVpY2tUeHRDaGlsZEZsYWcgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93YXV0b0ZhbGcgPSAhdGhpcy5zaG93YXV0b0ZhbGc7CiAgICAgIGF1dG8oewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEucmV0RGF0YS5kYXRhTGlzdDsKICAgICAgICBfdGhpczE0LmF1dG9MaXN0ID0gW107CiAgICAgICAgX3RoaXMxNC5hdXRvTGlzdCA9IGRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGFtZW5kQXR1b0xvZ2ljOiBmdW5jdGlvbiBhbWVuZEF0dW9Mb2dpYyhpbmRleCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICByaWQ6IHRoaXMuYXV0b0xpc3RbaW5kZXhdLmlkLAogICAgICAgIGxvZ2ljOiB0aGlzLmF1dG9MaXN0W2luZGV4XS5sb2dpYwogICAgICB9OwogICAgICBhbWVuZEF0dW8ocXMuc3RyaW5naWZ5KGRhdGEpKS50aGVuKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICBhbWVuZEF0dW9Db250ZW50OiBmdW5jdGlvbiBhbWVuZEF0dW9Db250ZW50KGluZGV4KSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIHJpZDogdGhpcy5hdXRvTGlzdFtpbmRleF0uaWQsCiAgICAgICAgY29udGVudDogdGhpcy5hdXRvTGlzdFtpbmRleF0uY29udGVudAogICAgICB9OwogICAgICBhbWVuZEF0dW8ocXMuc3RyaW5naWZ5KGRhdGEpKS50aGVuKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkgewogICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRGbGFnID0gZmFsc2U7CiAgICAgIHRoaXMucXVpY2tUeHRSb290RmxhZyA9IGZhbHNlOwogICAgICB0aGlzLnNob3dhdXRvRmFsZyA9IGZhbHNlOwogICAgfSwKICAgIGNvcHk6IGZ1bmN0aW9uIGNvcHkodWluKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5aSN5Yi2dWluOicgKyB1aW4gKyAn5oiQ5YqfJyk7CiAgICB9LAogICAgLy8g54K55Ye76Lez6L2s5Y+m5LiA5Liq6aG16Z2iICDotYTmlpnpobUKICAgIHRvSW5mb3JtYXRpb246IGZ1bmN0aW9uIHRvSW5mb3JtYXRpb24ocm93KSB7CiAgICAgIHZhciBpbmRleCA9ICdodHRwczovL3d3dy5zdWliby50di9hZG1pbi91c2VyL2luZm8vdWluLycgKyB0aGlzLmN1cnJlbnRVc2VyLnVpbjsKCiAgICAgIGlmIChyb3cudWluKSB7CiAgICAgICAgaW5kZXggPSAnaHR0cHM6Ly93d3cuc3VpYm8udHYvYWRtaW4vdXNlci9pbmZvL3Vpbi8nICsgcm93LnVpbjsKICAgICAgfQoKICAgICAgd2luZG93Lm9wZW4oaW5kZXgsICdfYmxhbmsnKTsgLy8g5Zyo5paw56qX5Y+j5omT5byA5aSW6ZO+5o6lCiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaW5kZXg7ICAvL+WcqOacrOmhtemdouaJk+W8gOWklumDqOmTvuaOpQogICAgfSwKICAgIGRlZmF1bHRTY3JvbGxUb3A6IGZ1bmN0aW9uIGRlZmF1bHRTY3JvbGxUb3AoKSB7CiAgICAgIC8vIOm7mOiupOa7muWKqOadoeWcqOacgOW6lemDqAogICAgICB2YXIgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdWwuc2Nyb2xsVG9wID0gdWwuc2Nyb2xsSGVpZ2h0OwogICAgICB9KTsKICAgIH0KICB9Cn07"},null]}