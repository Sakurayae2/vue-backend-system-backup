{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\room\\reviewPerson\\review.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\room\\reviewPerson\\review.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_babel-loader@8.2.3@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFRhYmxlLCBnZXRSZXZpZXcgfSBmcm9tICdAL2FwaS9yZXZpZXdQZXJzb24nCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0ZTogJycsCiAgICAgIHJhZGlvOiAnMScsCiAgICAgIG11aW46ICcnLAogICAgICBtZHN0OiAnJywKICAgICAgdG90YWw6IDAsCiAgICAgIG1zZzogJ+aAu+WFsTo2IOaWsOS6ujo1IOW+heWuoeaguDowIOaXp+S6ujoxJywKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgcGlkOiAxLAogICAgICAgIHBhZ2VTaXplOiA0MCwKICAgICAgICB0amRhdGU6ICcnLAogICAgICAgIHR5cGU6IDEsCiAgICAgICAgcGFnZU51YjogMQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIneWni+m7mOiupOiOt+WPluW9k+WJjeaXtumXtOeahOWIl+ihqOaVsOaNrgogICAgaW5pdCgpIHsKICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKS5Gb3JtYXQoJ3l5eXktTU0tZGQnKQogICAgICB0aGlzLnBhcmFtcy50amRhdGUgPSB0aGlzLmRhdGUKICAgICAgdGhpcy5nZXRUYWJsZUxpc3QoKQogICAgfSwKCiAgICAvLyDpgInmi6nml6XmnJ8KICAgIGNoYW5nZURhdGUoKSB7CiAgICAgIHRoaXMucGFyYW1zLnRqZGF0ZSA9IHRoaXMuZGF0ZS5Gb3JtYXQoJ3l5eXktTU0tZGQnKQogICAgICB0aGlzLmdldFRhYmxlTGlzdCgpCiAgICB9LAoKICAgIC8vIOiOt+WPluWIl+ihqOaVsOaNrgogICAgYXN5bmMgZ2V0VGFibGVMaXN0KCkgewogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRUYWJsZSh0aGlzLnBhcmFtcykKICAgICAgLy8gY29uc29sZS5sb2coJ3JlczonLCByZXMpCiAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmV0RGF0YS5kYXRhTGlzdAogICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEucmV0RGF0YS50b3RhbAogICAgfSwKCiAgICAvLyDot7PovazpobXpnaLlubbkvKDlj4IKICAgIC8vIGdldEltYWcoaW5kZXgsIGluZGV4Q2hpbGQpIHsKICAgIC8vICAgaWYgKGluZGV4Q2hpbGQgPT09IC0xKSB7CiAgICAvLyAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgLy8gICAgICAgbmFtZTogJ2F2YXRvcicsCiAgICAvLyAgICAgICBxdWVyeTogewogICAgLy8gICAgICAgICBtYWlubmFtZTogdGhpcy50YWJsZURhdGFbaW5kZXhdLm93bi5uaWNrLAogICAgLy8gICAgICAgICBtYWludWluOiB0aGlzLnRhYmxlRGF0YVtpbmRleF0ub3duLnVpbiwKICAgIC8vICAgICAgICAgb3dubmFtZTogJ3VuZGVmaW5lZCcsCiAgICAvLyAgICAgICAgIG93bnVpbjogJ3VuZGVmaW5lZCcKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9KQogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgIC8vICAgICAgIG5hbWU6ICdhdmF0b3InLAogICAgLy8gICAgICAgcXVlcnk6IHsKICAgIC8vICAgICAgICAgbWFpbm5hbWU6IHRoaXMudGFibGVEYXRhW2luZGV4XS5vd24ubmljaywKICAgIC8vICAgICAgICAgbWFpbnVpbjogdGhpcy50YWJsZURhdGFbaW5kZXhdLm93bi51aW4sCiAgICAvLyAgICAgICAgIG93bm5hbWU6IHRoaXMudGFibGVEYXRhW2luZGV4XS5jb21tb25MaXN0W2luZGV4Q2hpbGRdLm5pY2ssCiAgICAvLyAgICAgICAgIG93bnVpbjogdGhpcy50YWJsZURhdGFbaW5kZXhdLmNvbW1vbkxpc3RbaW5kZXhDaGlsZF0udWluCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vICAgfQogICAgLy8gfSwKCiAgICBnZXRJbWFnKGluZGV4LGluZGV4Q2hpbGQpIHsKICAgICAgaWYoaW5kZXhDaGlsZCA9PT0gLTEpIHsKICAgICAgICBsZXQgbmV3UGFnZSA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICAgIG5hbWU6J2F2YXRvcicsCiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBtYWlubmFtZTogdGhpcy50YWJsZURhdGFbaW5kZXhdLm93bi5uaWNrLAogICAgICAgICAgICBtYWludWluOiB0aGlzLnRhYmxlRGF0YVtpbmRleF0ub3duLnVpbiwKICAgICAgICAgICAgb3dubmFtZTogJ3VuZGVmaW5lZCcsCiAgICAgICAgICAgIG93bnVpbjogJ3VuZGVmaW5lZCcKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIHdpbmRvdy5vcGVuKG5ld1BhZ2UuaHJlZiwgJ2F2YXRvcicpOwogICAgICB9ZWxzZSB7CiAgICAgICAgbGV0IG5ld1BhZ2UgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICBuYW1lOiAnYXZhdG9yJywKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIG1haW5uYW1lOiB0aGlzLnRhYmxlRGF0YVtpbmRleF0ub3duLm5pY2ssCiAgICAgICAgICAgIG1haW51aW46IHRoaXMudGFibGVEYXRhW2luZGV4XS5vd24udWluLAogICAgICAgICAgICBvd25uYW1lOiB0aGlzLnRhYmxlRGF0YVtpbmRleF0uY29tbW9uTGlzdFtpbmRleENoaWxkXS5uaWNrLAogICAgICAgICAgICBvd251aW46IHRoaXMudGFibGVEYXRhW2luZGV4XS5jb21tb25MaXN0W2luZGV4Q2hpbGRdLnVpbgogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgd2luZG93Lm9wZW4obmV3UGFnZS5ocmVmLCAnYXZhdG9yJyk7CiAgICAgIH0KCiAgICB9LAoKICAgIC8vIOWuoeaguOaWsOaXp+S6ugogICAgYXN5bmMgcmV2aWV3KG51bSwgaW5kZXgpIHsKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIHBpZDogMSwKICAgICAgICB1aW46IHRoaXMudGFibGVEYXRhW2luZGV4XS5vd24udWluLAogICAgICAgIGRzdDogdGhpcy50YWJsZURhdGFbaW5kZXhdLmNvbW1vbkxpc3RbMF0udWluLAogICAgICAgIGlzTmV3OiAwCiAgICAgIH0KICAgICAgaWYgKG51bSA9PT0gMSkgewogICAgICAgIHBhcmFtcy5pc05ldyA9IDEKICAgICAgfSBlbHNlIGlmIChudW0gPT09IDApIHsKICAgICAgICBwYXJhbXMuaXNOZXcgPSAxCiAgICAgIH0gZWxzZSBpZiAobnVtID09PSAzKSB7CiAgICAgICAgcGFyYW1zLmlzTmV3ID0gMQogICAgICB9CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldFJldmlldyhwYXJhbXMpCiAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgIH0sCgogICAgLy8g6Lez6L2s55m76ZmGCiAgICBvcGVuVWluKCkgewogICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly93d3cuc3VpYm8udHYvYWRtaW4vbG9naW4vaW5kZXgnKQogICAgfSwKCiAgICBoYW5kbGVTaXplQ2hhbmdlKG5ld1NpemUpIHsKICAgICAgdGhpcy5wYXJhbXMucGFnZVNpemUgPSBuZXdTaXplCiAgICAgIHRoaXMuZ2V0VGFibGVMaXN0KCkKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG5ld1BhZ2UpIHsKICAgICAgdGhpcy5wYXJhbXMucGFnZU51YiA9IG5ld1BhZ2UKICAgICAgdGhpcy5nZXRUYWJsZUxpc3QoKQogICAgfQogIH0KfQo="},{"version":3,"sources":["review.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"review.vue","sourceRoot":"src/views/room/reviewPerson","sourcesContent":["<template>\n  <div style=\"padding: 20px;\">\n    <!-- 顶部选择栏 -->\n    <div>\n      <el-date-picker\n        v-model=\"date\"\n        type=\"date\"\n        placeholder=\"选择日期\"\n        @change=\"changeDate\"\n      >\n      </el-date-picker>\n      <el-radio v-model=\"radio\" label=\"1\" style=\"padding-left: 20px\">按时间</el-radio>\n      <el-radio v-model=\"radio\" label=\"2\">按相似度</el-radio>\n    </div>\n\n    <!-- 列表数据 -->\n    <div style=\"margin: 30px 0 20px 0\">\n      <table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"10\"\n             style=\"border: 1px solid #ccc;border-collapse: collapse;\">\n        <th width=\"120\">时间</th>\n        <th width=\"190\">用户</th>\n        <th width=\"200\">状态/操作</th>\n        <th width=\"1000\">{{ msg }}</th>\n        <tr v-for=\"(item,index) in tableData\" :key=\"index\">\n          <td style=\"text-align: center\">{{ item.finishedCollectTime }}</td>\n          <td>\n            <ul class=\"ul\" style=\"text-align: center;line-height: 27px\">\n              <li>\n                <el-image :src=\"item.own.url\" class=\"Avatar\" @click=\"getImag(index,-1)\"></el-image>\n              </li>\n              <li>{{ item.own.nick }}</li>\n              <li style=\"color: #1482f0\" @click=\"openUin\">({{ item.own.uin }})</li>\n              <li>{{ '(' + item.own.uin + ')' }}</li>\n              <li>({{ item.own.mac }})</li>\n              <li>{{ item.own.address }}</li>\n            </ul>\n          </td>\n          <td style=\"text-align: center;\">\n            {{ item.status }}\n            <div style=\"padding: 20px\">\n              <button class=\"btn\" @click=\"review(1,index)\">审核为新</button>\n              <button class=\"btn\" @click=\"review(0,index)\">审核为旧</button>\n              <button class=\"btn\" @click=\"review(3,index)\">年龄不符</button>\n            </div>\n          </td>\n          <td style=\"text-align: center;line-height: 27px\">\n            <ul v-for=\"(itemChild,indexChild) in tableData[index].commonList\" :key=\"indexChild\" class=\"ul\"\n                style=\"padding-right: 50px\">\n              <li>\n                <el-image :src=\"itemChild.url\" class=\"Avatar\" @click=\"getImag(index,indexChild)\"></el-image>\n              </li>\n              <li>{{ itemChild.nick }}</li>\n              <li style=\"color: #1482f0\" @click=\"openUin\">({{ itemChild.uin }})</li>\n              <li>({{ itemChild.score }})</li>\n              <li>({{ itemChild.mac }})</li>\n              <li>{{ itemChild.address }}</li>\n            </ul>\n          </td>\n        </tr>\n      </table>\n    </div>\n\n    <!-- 分页 -->\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"params.pageNub\"\n      :page-sizes=\"[40, 80, 100, 200]\"\n      :page-size=\"params.pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\"\n      style=\"margin-top: 30px\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nimport { getTable, getReview } from '@/api/reviewPerson'\nexport default {\n  data() {\n    return {\n      date: '',\n      radio: '1',\n      muin: '',\n      mdst: '',\n      total: 0,\n      msg: '总共:6 新人:5 待审核:0 旧人:1',\n      tableData: [],\n      params: {\n        pid: 1,\n        pageSize: 40,\n        tjdate: '',\n        type: 1,\n        pageNub: 1\n      }\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    // 初始默认获取当前时间的列表数据\n    init() {\n      this.date = new Date().Format('yyyy-MM-dd')\n      this.params.tjdate = this.date\n      this.getTableList()\n    },\n\n    // 选择日期\n    changeDate() {\n      this.params.tjdate = this.date.Format('yyyy-MM-dd')\n      this.getTableList()\n    },\n\n    // 获取列表数据\n    async getTableList() {\n      const res = await getTable(this.params)\n      // console.log('res:', res)\n      this.tableData = res.data.retData.dataList\n      this.total = res.data.retData.total\n    },\n\n    // 跳转页面并传参\n    // getImag(index, indexChild) {\n    //   if (indexChild === -1) {\n    //     this.$router.push({\n    //       name: 'avator',\n    //       query: {\n    //         mainname: this.tableData[index].own.nick,\n    //         mainuin: this.tableData[index].own.uin,\n    //         ownname: 'undefined',\n    //         ownuin: 'undefined'\n    //       }\n    //     })\n    //   } else {\n    //     this.$router.push({\n    //       name: 'avator',\n    //       query: {\n    //         mainname: this.tableData[index].own.nick,\n    //         mainuin: this.tableData[index].own.uin,\n    //         ownname: this.tableData[index].commonList[indexChild].nick,\n    //         ownuin: this.tableData[index].commonList[indexChild].uin\n    //       }\n    //     })\n    //   }\n    // },\n\n    getImag(index,indexChild) {\n      if(indexChild === -1) {\n        let newPage = this.$router.resolve({\n          name:'avator',\n          query: {\n            mainname: this.tableData[index].own.nick,\n            mainuin: this.tableData[index].own.uin,\n            ownname: 'undefined',\n            ownuin: 'undefined'\n          }\n        })\n        window.open(newPage.href, 'avator');\n      }else {\n        let newPage = this.$router.resolve({\n          name: 'avator',\n          query: {\n            mainname: this.tableData[index].own.nick,\n            mainuin: this.tableData[index].own.uin,\n            ownname: this.tableData[index].commonList[indexChild].nick,\n            ownuin: this.tableData[index].commonList[indexChild].uin\n          }\n        })\n        window.open(newPage.href, 'avator');\n      }\n\n    },\n\n    // 审核新旧人\n    async review(num, index) {\n      const params = {\n        pid: 1,\n        uin: this.tableData[index].own.uin,\n        dst: this.tableData[index].commonList[0].uin,\n        isNew: 0\n      }\n      if (num === 1) {\n        params.isNew = 1\n      } else if (num === 0) {\n        params.isNew = 1\n      } else if (num === 3) {\n        params.isNew = 1\n      }\n      const res = await getReview(params)\n      console.log(res)\n    },\n\n    // 跳转登陆\n    openUin() {\n      window.open('https://www.suibo.tv/admin/login/index')\n    },\n\n    handleSizeChange(newSize) {\n      this.params.pageSize = newSize\n      this.getTableList()\n    },\n    handleCurrentChange(newPage) {\n      this.params.pageNub = newPage\n      this.getTableList()\n    }\n  }\n}\n</script>\n\n<style>\n.li {\n  display: block;\n  display: flex;\n}\n\n.ul {\n  display: inline-block;\n}\n\n.btn {\n  display: inline-block;\n  border: 1px solid #1d1b12;\n  width: 80px;\n  height: 40px;\n  line-height: 30px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n  background-color: #cee6ff;\n  color: #1482f0;\n}\n\n.Avatar {\n  width: 110px;\n  border-radius: 5px;\n}\n</style>\n"]}]}