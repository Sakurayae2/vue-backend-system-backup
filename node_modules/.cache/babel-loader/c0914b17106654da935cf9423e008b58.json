{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_babel-loader@8.2.3@babel-loader\\lib\\index.js!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_element-ui@2.15.6@element-ui\\packages\\image\\src\\image-viewer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_element-ui@2.15.6@element-ui\\packages\\image\\src\\image-viewer.vue","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\babel.config.js","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_babel-loader@8.2.3@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxTYWt1cmFcXERvd25sb2Fkc1xcQ29tcHJlc3NlZFxcc3VpYm9fYmFja3VwX3N5c3RlbVxcbm9kZV9tb2R1bGVzXFxfQGJhYmVsX3J1bnRpbWVANy4xNi4zQEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgb24sIG9mZiB9IGZyb20gJ2VsZW1lbnQtdWkvc3JjL3V0aWxzL2RvbSc7CmltcG9ydCB7IHJhZlRocm90dGxlLCBpc0ZpcmVmb3ggfSBmcm9tICdlbGVtZW50LXVpL3NyYy91dGlscy91dGlsJzsKaW1wb3J0IHsgUG9wdXBNYW5hZ2VyIH0gZnJvbSAnZWxlbWVudC11aS9zcmMvdXRpbHMvcG9wdXAnOwp2YXIgTW9kZSA9IHsKICBDT05UQUlOOiB7CiAgICBuYW1lOiAnY29udGFpbicsCiAgICBpY29uOiAnZWwtaWNvbi1mdWxsLXNjcmVlbicKICB9LAogIE9SSUdJTkFMOiB7CiAgICBuYW1lOiAnb3JpZ2luYWwnLAogICAgaWNvbjogJ2VsLWljb24tYy1zY2FsZS10by1vcmlnaW5hbCcKICB9Cn07CnZhciBtb3VzZXdoZWVsRXZlbnROYW1lID0gaXNGaXJlZm94KCkgPyAnRE9NTW91c2VTY3JvbGwnIDogJ21vdXNld2hlZWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2VsSW1hZ2VWaWV3ZXInLAogIHByb3BzOiB7CiAgICB1cmxMaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICB6SW5kZXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMDAwCiAgICB9LAogICAgb25Td2l0Y2g6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30KICAgIH0sCiAgICBvbkNsb3NlOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHt9CiAgICB9LAogICAgaW5pdGlhbEluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIGFwcGVuZFRvQm9keTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgbWFza0Nsb3NhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmRleDogdGhpcy5pbml0aWFsSW5kZXgsCiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIGluZmluaXRlOiB0cnVlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbW9kZTogTW9kZS5DT05UQUlOLAogICAgICB0cmFuc2Zvcm06IHsKICAgICAgICBzY2FsZTogMSwKICAgICAgICBkZWc6IDAsCiAgICAgICAgb2Zmc2V0WDogMCwKICAgICAgICBvZmZzZXRZOiAwLAogICAgICAgIGVuYWJsZVRyYW5zaXRpb246IGZhbHNlCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNTaW5nbGU6IGZ1bmN0aW9uIGlzU2luZ2xlKCkgewogICAgICByZXR1cm4gdGhpcy51cmxMaXN0Lmxlbmd0aCA8PSAxOwogICAgfSwKICAgIGlzRmlyc3Q6IGZ1bmN0aW9uIGlzRmlyc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLmluZGV4ID09PSAwOwogICAgfSwKICAgIGlzTGFzdDogZnVuY3Rpb24gaXNMYXN0KCkgewogICAgICByZXR1cm4gdGhpcy5pbmRleCA9PT0gdGhpcy51cmxMaXN0Lmxlbmd0aCAtIDE7CiAgICB9LAogICAgY3VycmVudEltZzogZnVuY3Rpb24gY3VycmVudEltZygpIHsKICAgICAgcmV0dXJuIHRoaXMudXJsTGlzdFt0aGlzLmluZGV4XTsKICAgIH0sCiAgICBpbWdTdHlsZTogZnVuY3Rpb24gaW1nU3R5bGUoKSB7CiAgICAgIHZhciBfdGhpcyR0cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybSwKICAgICAgICAgIHNjYWxlID0gX3RoaXMkdHJhbnNmb3JtLnNjYWxlLAogICAgICAgICAgZGVnID0gX3RoaXMkdHJhbnNmb3JtLmRlZywKICAgICAgICAgIG9mZnNldFggPSBfdGhpcyR0cmFuc2Zvcm0ub2Zmc2V0WCwKICAgICAgICAgIG9mZnNldFkgPSBfdGhpcyR0cmFuc2Zvcm0ub2Zmc2V0WSwKICAgICAgICAgIGVuYWJsZVRyYW5zaXRpb24gPSBfdGhpcyR0cmFuc2Zvcm0uZW5hYmxlVHJhbnNpdGlvbjsKICAgICAgdmFyIHN0eWxlID0gewogICAgICAgIHRyYW5zZm9ybTogInNjYWxlKCIuY29uY2F0KHNjYWxlLCAiKSByb3RhdGUoIikuY29uY2F0KGRlZywgImRlZykiKSwKICAgICAgICB0cmFuc2l0aW9uOiBlbmFibGVUcmFuc2l0aW9uID8gJ3RyYW5zZm9ybSAuM3MnIDogJycsCiAgICAgICAgJ21hcmdpbi1sZWZ0JzogIiIuY29uY2F0KG9mZnNldFgsICJweCIpLAogICAgICAgICdtYXJnaW4tdG9wJzogIiIuY29uY2F0KG9mZnNldFksICJweCIpCiAgICAgIH07CgogICAgICBpZiAodGhpcy5tb2RlID09PSBNb2RlLkNPTlRBSU4pIHsKICAgICAgICBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLm1heEhlaWdodCA9ICcxMDAlJzsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0eWxlOwogICAgfSwKICAgIHZpZXdlclpJbmRleDogZnVuY3Rpb24gdmlld2VyWkluZGV4KCkgewogICAgICB2YXIgbmV4dFpJbmRleCA9IFBvcHVwTWFuYWdlci5uZXh0WkluZGV4KCk7CiAgICAgIHJldHVybiB0aGlzLnpJbmRleCA+IG5leHRaSW5kZXggPyB0aGlzLnpJbmRleCA6IG5leHRaSW5kZXg7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaW5kZXg6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgdGhpcy5vblN3aXRjaCh2YWwpOwogICAgICB9CiAgICB9LAogICAgY3VycmVudEltZzogZnVuY3Rpb24gY3VycmVudEltZyh2YWwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgdmFyICRpbWcgPSBfdGhpcy4kcmVmcy5pbWdbMF07CgogICAgICAgIGlmICghJGltZy5jb21wbGV0ZSkgewogICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgIHRoaXMuZGV2aWNlU3VwcG9ydFVuaW5zdGFsbCgpOwogICAgICB0aGlzLm9uQ2xvc2UoKTsKICAgIH0sCiAgICBkZXZpY2VTdXBwb3J0SW5zdGFsbDogZnVuY3Rpb24gZGV2aWNlU3VwcG9ydEluc3RhbGwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5fa2V5RG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7CgogICAgICAgIHN3aXRjaCAoa2V5Q29kZSkgewogICAgICAgICAgLy8gRVNDCiAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICBfdGhpczIuaGlkZSgpOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAvLyBTUEFDRQoKICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgIF90aGlzMi50b2dnbGVNb2RlKCk7CgogICAgICAgICAgICBicmVhazsKICAgICAgICAgIC8vIExFRlRfQVJST1cKCiAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICBfdGhpczIucHJldigpOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAvLyBVUF9BUlJPVwoKICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAgIF90aGlzMi5oYW5kbGVBY3Rpb25zKCd6b29tSW4nKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgLy8gUklHSFRfQVJST1cKCiAgICAgICAgICBjYXNlIDM5OgogICAgICAgICAgICBfdGhpczIubmV4dCgpOwoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAvLyBET1dOX0FSUk9XCgogICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgX3RoaXMyLmhhbmRsZUFjdGlvbnMoJ3pvb21PdXQnKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHRoaXMuX21vdXNlV2hlZWxIYW5kbGVyID0gcmFmVGhyb3R0bGUoZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgZGVsdGEgPSBlLndoZWVsRGVsdGEgPyBlLndoZWVsRGVsdGEgOiAtZS5kZXRhaWw7CgogICAgICAgIGlmIChkZWx0YSA+IDApIHsKICAgICAgICAgIF90aGlzMi5oYW5kbGVBY3Rpb25zKCd6b29tSW4nLCB7CiAgICAgICAgICAgIHpvb21SYXRlOiAwLjAxNSwKICAgICAgICAgICAgZW5hYmxlVHJhbnNpdGlvbjogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuaGFuZGxlQWN0aW9ucygnem9vbU91dCcsIHsKICAgICAgICAgICAgem9vbVJhdGU6IDAuMDE1LAogICAgICAgICAgICBlbmFibGVUcmFuc2l0aW9uOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgb24oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fa2V5RG93bkhhbmRsZXIpOwogICAgICBvbihkb2N1bWVudCwgbW91c2V3aGVlbEV2ZW50TmFtZSwgdGhpcy5fbW91c2VXaGVlbEhhbmRsZXIpOwogICAgfSwKICAgIGRldmljZVN1cHBvcnRVbmluc3RhbGw6IGZ1bmN0aW9uIGRldmljZVN1cHBvcnRVbmluc3RhbGwoKSB7CiAgICAgIG9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9rZXlEb3duSGFuZGxlcik7CiAgICAgIG9mZihkb2N1bWVudCwgbW91c2V3aGVlbEV2ZW50TmFtZSwgdGhpcy5fbW91c2VXaGVlbEhhbmRsZXIpOwogICAgICB0aGlzLl9rZXlEb3duSGFuZGxlciA9IG51bGw7CiAgICAgIHRoaXMuX21vdXNlV2hlZWxIYW5kbGVyID0gbnVsbDsKICAgIH0sCiAgICBoYW5kbGVJbWdMb2FkOiBmdW5jdGlvbiBoYW5kbGVJbWdMb2FkKGUpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlSW1nRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUltZ0Vycm9yKGUpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIGUudGFyZ2V0LmFsdCA9ICfliqDovb3lpLHotKUnOwogICAgfSwKICAgIGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5sb2FkaW5nIHx8IGUuYnV0dG9uICE9PSAwKSByZXR1cm47CiAgICAgIHZhciBfdGhpcyR0cmFuc2Zvcm0yID0gdGhpcy50cmFuc2Zvcm0sCiAgICAgICAgICBvZmZzZXRYID0gX3RoaXMkdHJhbnNmb3JtMi5vZmZzZXRYLAogICAgICAgICAgb2Zmc2V0WSA9IF90aGlzJHRyYW5zZm9ybTIub2Zmc2V0WTsKICAgICAgdmFyIHN0YXJ0WCA9IGUucGFnZVg7CiAgICAgIHZhciBzdGFydFkgPSBlLnBhZ2VZOwogICAgICB0aGlzLl9kcmFnSGFuZGxlciA9IHJhZlRocm90dGxlKGZ1bmN0aW9uIChldikgewogICAgICAgIF90aGlzMy50cmFuc2Zvcm0ub2Zmc2V0WCA9IG9mZnNldFggKyBldi5wYWdlWCAtIHN0YXJ0WDsKICAgICAgICBfdGhpczMudHJhbnNmb3JtLm9mZnNldFkgPSBvZmZzZXRZICsgZXYucGFnZVkgLSBzdGFydFk7CiAgICAgIH0pOwogICAgICBvbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX2RyYWdIYW5kbGVyKTsKICAgICAgb24oZG9jdW1lbnQsICdtb3VzZXVwJywgZnVuY3Rpb24gKGV2KSB7CiAgICAgICAgb2ZmKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgX3RoaXMzLl9kcmFnSGFuZGxlcik7CiAgICAgIH0pOwogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9LAogICAgaGFuZGxlTWFza0NsaWNrOiBmdW5jdGlvbiBoYW5kbGVNYXNrQ2xpY2soKSB7CiAgICAgIGlmICh0aGlzLm1hc2tDbG9zYWJsZSkgewogICAgICAgIHRoaXMuaGlkZSgpOwogICAgICB9CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLnRyYW5zZm9ybSA9IHsKICAgICAgICBzY2FsZTogMSwKICAgICAgICBkZWc6IDAsCiAgICAgICAgb2Zmc2V0WDogMCwKICAgICAgICBvZmZzZXRZOiAwLAogICAgICAgIGVuYWJsZVRyYW5zaXRpb246IGZhbHNlCiAgICAgIH07CiAgICB9LAogICAgdG9nZ2xlTW9kZTogZnVuY3Rpb24gdG9nZ2xlTW9kZSgpIHsKICAgICAgaWYgKHRoaXMubG9hZGluZykgcmV0dXJuOwogICAgICB2YXIgbW9kZU5hbWVzID0gT2JqZWN0LmtleXMoTW9kZSk7CiAgICAgIHZhciBtb2RlVmFsdWVzID0gT2JqZWN0LnZhbHVlcyhNb2RlKTsKICAgICAgdmFyIGluZGV4ID0gbW9kZVZhbHVlcy5pbmRleE9mKHRoaXMubW9kZSk7CiAgICAgIHZhciBuZXh0SW5kZXggPSAoaW5kZXggKyAxKSAlIG1vZGVOYW1lcy5sZW5ndGg7CiAgICAgIHRoaXMubW9kZSA9IE1vZGVbbW9kZU5hbWVzW25leHRJbmRleF1dOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgcHJldjogZnVuY3Rpb24gcHJldigpIHsKICAgICAgaWYgKHRoaXMuaXNGaXJzdCAmJiAhdGhpcy5pbmZpbml0ZSkgcmV0dXJuOwogICAgICB2YXIgbGVuID0gdGhpcy51cmxMaXN0Lmxlbmd0aDsKICAgICAgdGhpcy5pbmRleCA9ICh0aGlzLmluZGV4IC0gMSArIGxlbikgJSBsZW47CiAgICB9LAogICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgaWYgKHRoaXMuaXNMYXN0ICYmICF0aGlzLmluZmluaXRlKSByZXR1cm47CiAgICAgIHZhciBsZW4gPSB0aGlzLnVybExpc3QubGVuZ3RoOwogICAgICB0aGlzLmluZGV4ID0gKHRoaXMuaW5kZXggKyAxKSAlIGxlbjsKICAgIH0sCiAgICBoYW5kbGVBY3Rpb25zOiBmdW5jdGlvbiBoYW5kbGVBY3Rpb25zKGFjdGlvbikgewogICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHJldHVybjsKCiAgICAgIHZhciBfem9vbVJhdGUkcm90YXRlRGVnJGUgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICB6b29tUmF0ZTogMC4yLAogICAgICAgIHJvdGF0ZURlZzogOTAsCiAgICAgICAgZW5hYmxlVHJhbnNpdGlvbjogdHJ1ZQogICAgICB9LCBvcHRpb25zKSwKICAgICAgICAgIHpvb21SYXRlID0gX3pvb21SYXRlJHJvdGF0ZURlZyRlLnpvb21SYXRlLAogICAgICAgICAgcm90YXRlRGVnID0gX3pvb21SYXRlJHJvdGF0ZURlZyRlLnJvdGF0ZURlZywKICAgICAgICAgIGVuYWJsZVRyYW5zaXRpb24gPSBfem9vbVJhdGUkcm90YXRlRGVnJGUuZW5hYmxlVHJhbnNpdGlvbjsKCiAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybTsKCiAgICAgIHN3aXRjaCAoYWN0aW9uKSB7CiAgICAgICAgY2FzZSAnem9vbU91dCc6CiAgICAgICAgICBpZiAodHJhbnNmb3JtLnNjYWxlID4gMC4yKSB7CiAgICAgICAgICAgIHRyYW5zZm9ybS5zY2FsZSA9IHBhcnNlRmxvYXQoKHRyYW5zZm9ybS5zY2FsZSAtIHpvb21SYXRlKS50b0ZpeGVkKDMpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnem9vbUluJzoKICAgICAgICAgIHRyYW5zZm9ybS5zY2FsZSA9IHBhcnNlRmxvYXQoKHRyYW5zZm9ybS5zY2FsZSArIHpvb21SYXRlKS50b0ZpeGVkKDMpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdjbG9jZWxpc2UnOgogICAgICAgICAgdHJhbnNmb3JtLmRlZyArPSByb3RhdGVEZWc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnYW50aWNsb2NlbGlzZSc6CiAgICAgICAgICB0cmFuc2Zvcm0uZGVnIC09IHJvdGF0ZURlZzsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB0cmFuc2Zvcm0uZW5hYmxlVHJhbnNpdGlvbiA9IGVuYWJsZVRyYW5zaXRpb247CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5kZXZpY2VTdXBwb3J0SW5zdGFsbCgpOwoKICAgIGlmICh0aGlzLmFwcGVuZFRvQm9keSkgewogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuJGVsKTsKICAgIH0gLy8gYWRkIHRhYmluZGV4IHRoZW4gd3JhcHBlciBjYW4gYmUgZm9jdXNhYmxlIHZpYSBKYXZhc2NyaXB0CiAgICAvLyBmb2N1cyB3cmFwcGVyIHNvIGFycm93IGtleSBjYW4ndCBjYXVzZSBpbm5lciBzY3JvbGwgYmVoYXZpb3IgdW5kZXJuZWF0aAoKCiAgICB0aGlzLiRyZWZzWydlbC1pbWFnZS12aWV3ZXJfX3dyYXBwZXInXS5mb2N1cygpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICAvLyBpZiBhcHBlbmRUb0JvZHkgaXMgdHJ1ZSwgcmVtb3ZlIERPTSBub2RlIGFmdGVyIGRlc3Ryb3kKICAgIGlmICh0aGlzLmFwcGVuZFRvQm9keSAmJiB0aGlzLiRlbCAmJiB0aGlzLiRlbC5wYXJlbnROb2RlKSB7CiAgICAgIHRoaXMuJGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy4kZWwpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["image-viewer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"viewer-fade\">\n    <div tabindex=\"-1\" ref=\"el-image-viewer__wrapper\" class=\"el-image-viewer__wrapper\" :style=\"{ 'z-index': viewerZIndex }\">\n      <div class=\"el-image-viewer__mask\" @click.self=\"handleMaskClick\"></div>\n      <!-- CLOSE -->\n      <span class=\"el-image-viewer__btn el-image-viewer__close\" @click=\"hide\">\n        <i class=\"el-icon-close\"></i>\n      </span>\n      <!-- ARROW -->\n      <template v-if=\"!isSingle\">\n        <span\n          class=\"el-image-viewer__btn el-image-viewer__prev\"\n          :class=\"{ 'is-disabled': !infinite && isFirst }\"\n          @click=\"prev\">\n          <i class=\"el-icon-arrow-left\"/>\n        </span>\n        <span\n          class=\"el-image-viewer__btn el-image-viewer__next\"\n          :class=\"{ 'is-disabled': !infinite && isLast }\"\n          @click=\"next\">\n          <i class=\"el-icon-arrow-right\"/>\n        </span>\n      </template>\n      <!-- ACTIONS -->\n      <div class=\"el-image-viewer__btn el-image-viewer__actions\">\n        <div class=\"el-image-viewer__actions__inner\">\n          <i class=\"el-icon-zoom-out\" @click=\"handleActions('zoomOut')\"></i>\n          <i class=\"el-icon-zoom-in\" @click=\"handleActions('zoomIn')\"></i>\n          <i class=\"el-image-viewer__actions__divider\"></i>\n          <i :class=\"mode.icon\" @click=\"toggleMode\"></i>\n          <i class=\"el-image-viewer__actions__divider\"></i>\n          <i class=\"el-icon-refresh-left\" @click=\"handleActions('anticlocelise')\"></i>\n          <i class=\"el-icon-refresh-right\" @click=\"handleActions('clocelise')\"></i>\n        </div>\n      </div>\n      <!-- CANVAS -->\n      <div class=\"el-image-viewer__canvas\">\n        <img\n          v-for=\"(url, i) in urlList\"\n          v-if=\"i === index\"\n          ref=\"img\"\n          class=\"el-image-viewer__img\"\n          :key=\"url\"\n          :src=\"currentImg\"\n          :style=\"imgStyle\"\n          @load=\"handleImgLoad\"\n          @error=\"handleImgError\"\n          @mousedown=\"handleMouseDown\">\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { on, off } from 'element-ui/src/utils/dom';\nimport { rafThrottle, isFirefox } from 'element-ui/src/utils/util';\nimport { PopupManager } from 'element-ui/src/utils/popup';\n\nconst Mode = {\n  CONTAIN: {\n    name: 'contain',\n    icon: 'el-icon-full-screen'\n  },\n  ORIGINAL: {\n    name: 'original',\n    icon: 'el-icon-c-scale-to-original'\n  }\n};\n\nconst mousewheelEventName = isFirefox() ? 'DOMMouseScroll' : 'mousewheel';\n\nexport default {\n  name: 'elImageViewer',\n\n  props: {\n    urlList: {\n      type: Array,\n      default: () => []\n    },\n    zIndex: {\n      type: Number,\n      default: 2000\n    },\n    onSwitch: {\n      type: Function,\n      default: () => {}\n    },\n    onClose: {\n      type: Function,\n      default: () => {}\n    },\n    initialIndex: {\n      type: Number,\n      default: 0\n    },\n    appendToBody: {\n      type: Boolean,\n      default: true\n    },\n    maskClosable: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      index: this.initialIndex,\n      isShow: false,\n      infinite: true,\n      loading: false,\n      mode: Mode.CONTAIN,\n      transform: {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      }\n    };\n  },\n  computed: {\n    isSingle() {\n      return this.urlList.length <= 1;\n    },\n    isFirst() {\n      return this.index === 0;\n    },\n    isLast() {\n      return this.index === this.urlList.length - 1;\n    },\n    currentImg() {\n      return this.urlList[this.index];\n    },\n    imgStyle() {\n      const { scale, deg, offsetX, offsetY, enableTransition } = this.transform;\n      const style = {\n        transform: `scale(${scale}) rotate(${deg}deg)`,\n        transition: enableTransition ? 'transform .3s' : '',\n        'margin-left': `${offsetX}px`,\n        'margin-top': `${offsetY}px`\n      };\n      if (this.mode === Mode.CONTAIN) {\n        style.maxWidth = style.maxHeight = '100%';\n      }\n      return style;\n    },\n    viewerZIndex() {\n      const nextZIndex = PopupManager.nextZIndex();\n      return this.zIndex > nextZIndex ? this.zIndex : nextZIndex;\n    }\n  },\n  watch: {\n    index: {\n      handler: function(val) {\n        this.reset();\n        this.onSwitch(val);\n      }\n    },\n    currentImg(val) {\n      this.$nextTick(_ => {\n        const $img = this.$refs.img[0];\n        if (!$img.complete) {\n          this.loading = true;\n        }\n      });\n    }\n  },\n  methods: {\n    hide() {\n      this.deviceSupportUninstall();\n      this.onClose();\n    },\n    deviceSupportInstall() {\n      this._keyDownHandler = e => {\n        e.stopPropagation();\n        const keyCode = e.keyCode;\n        switch (keyCode) {\n          // ESC\n          case 27:\n            this.hide();\n            break;\n          // SPACE\n          case 32:\n            this.toggleMode();\n            break;\n          // LEFT_ARROW\n          case 37:\n            this.prev();\n            break;\n          // UP_ARROW\n          case 38:\n            this.handleActions('zoomIn');\n            break;\n          // RIGHT_ARROW\n          case 39:\n            this.next();\n            break;\n          // DOWN_ARROW\n          case 40:\n            this.handleActions('zoomOut');\n            break;\n        }\n      };\n      this._mouseWheelHandler = rafThrottle(e => {\n        const delta = e.wheelDelta ? e.wheelDelta : -e.detail;\n        if (delta > 0) {\n          this.handleActions('zoomIn', {\n            zoomRate: 0.015,\n            enableTransition: false\n          });\n        } else {\n          this.handleActions('zoomOut', {\n            zoomRate: 0.015,\n            enableTransition: false\n          });\n        }\n      });\n      on(document, 'keydown', this._keyDownHandler);\n      on(document, mousewheelEventName, this._mouseWheelHandler);\n    },\n    deviceSupportUninstall() {\n      off(document, 'keydown', this._keyDownHandler);\n      off(document, mousewheelEventName, this._mouseWheelHandler);\n      this._keyDownHandler = null;\n      this._mouseWheelHandler = null;\n    },\n    handleImgLoad(e) {\n      this.loading = false;\n    },\n    handleImgError(e) {\n      this.loading = false;\n      e.target.alt = '加载失败';\n    },\n    handleMouseDown(e) {\n      if (this.loading || e.button !== 0) return;\n\n      const { offsetX, offsetY } = this.transform;\n      const startX = e.pageX;\n      const startY = e.pageY;\n      this._dragHandler = rafThrottle(ev => {\n        this.transform.offsetX = offsetX + ev.pageX - startX;\n        this.transform.offsetY = offsetY + ev.pageY - startY;\n      });\n      on(document, 'mousemove', this._dragHandler);\n      on(document, 'mouseup', ev => {\n        off(document, 'mousemove', this._dragHandler);\n      });\n\n      e.preventDefault();\n    },\n    handleMaskClick() {\n      if (this.maskClosable) {\n        this.hide();\n      }\n    },\n    reset() {\n      this.transform = {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      };\n    },\n    toggleMode() {\n      if (this.loading) return;\n\n      const modeNames = Object.keys(Mode);\n      const modeValues = Object.values(Mode);\n      const index = modeValues.indexOf(this.mode);\n      const nextIndex = (index + 1) % modeNames.length;\n      this.mode = Mode[modeNames[nextIndex]];\n      this.reset();\n    },\n    prev() {\n      if (this.isFirst && !this.infinite) return;\n      const len = this.urlList.length;\n      this.index = (this.index - 1 + len) % len;\n    },\n    next() {\n      if (this.isLast && !this.infinite) return;\n      const len = this.urlList.length;\n      this.index = (this.index + 1) % len;\n    },\n    handleActions(action, options = {}) {\n      if (this.loading) return;\n      const { zoomRate, rotateDeg, enableTransition } = {\n        zoomRate: 0.2,\n        rotateDeg: 90,\n        enableTransition: true,\n        ...options\n      };\n      const { transform } = this;\n      switch (action) {\n        case 'zoomOut':\n          if (transform.scale > 0.2) {\n            transform.scale = parseFloat((transform.scale - zoomRate).toFixed(3));\n          }\n          break;\n        case 'zoomIn':\n          transform.scale = parseFloat((transform.scale + zoomRate).toFixed(3));\n          break;\n        case 'clocelise':\n          transform.deg += rotateDeg;\n          break;\n        case 'anticlocelise':\n          transform.deg -= rotateDeg;\n          break;\n      }\n      transform.enableTransition = enableTransition;\n    }\n  },\n  mounted() {\n    this.deviceSupportInstall();\n    if (this.appendToBody) {\n      document.body.appendChild(this.$el);\n    }\n    // add tabindex then wrapper can be focusable via Javascript\n    // focus wrapper so arrow key can't cause inner scroll behavior underneath\n    this.$refs['el-image-viewer__wrapper'].focus();\n  },\n  destroyed() {\n    // if appendToBody is true, remove DOM node after destroy\n    if (this.appendToBody && this.$el && this.$el.parentNode) {\n      this.$el.parentNode.removeChild(this.$el);\n    }\n  }\n};\n</script>\n"],"sourceRoot":"node_modules/_element-ui@2.15.6@element-ui/packages/image/src"}]}