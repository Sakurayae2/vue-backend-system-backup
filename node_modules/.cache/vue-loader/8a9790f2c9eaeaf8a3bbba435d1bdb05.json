{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\room\\reveiwVideo.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\room\\reveiwVideo.vue","mtime":1639631265946},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZWwtcm93IHsKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9Cg=="},{"version":3,"sources":["reveiwVideo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2kBA;AACA;AACA","file":"reveiwVideo.vue","sourceRoot":"src/views/room","sourcesContent":["<template>\n  <div style=\"margin: 15px\">\n    <!-- 视频 & 舞曲 -->\n    <div style=\"margin-bottom:15px\">\n      <el-tabs v-model=\"switch_btn\" type=\"border-card\">\n        <el-tab-pane label=\"视频\" name=\"video\">\n          <!-- 查看选择 -->\n          <el-radio-group v-model=\"choose\" @change=\"getTableData()\" >\n            <el-radio-button label=\"全部\"></el-radio-button>\n            <el-radio-button label=\"待审核\"></el-radio-button>\n            <el-radio-button label=\"未通过\"></el-radio-button>\n          </el-radio-group>\n\n            <!-- 搜索框 -->\n            <el-row style=\"margin-top:15px\">\n              <el-col :span=\"8\">\n                <el-input placeholder=\"请输入uin\" v-model=\"searchInput\" @keyup.enter.native=\"search()\" clearable @clear=\"getTableData()\">\n                  <el-button slot=\"append\" icon=\"el-icon-search\" @click.native=\"search()\"></el-button>\n                </el-input>\n              </el-col>\n            </el-row>\n\n            <!-- 表格数据 -->\n            <el-table v-loading=\"loading\" :data=\"tableData\" stripe>\n              <el-table-column label=\"视频封面\" prop=\"cover\" align=\"center\">\n                <template slot-scope=\"scope\"><el-image :src=\"scope.row.cover\" style=\"width: 120px; height: 80px\"></el-image></template>\n              </el-table-column>\n              <!--        <el-table-column label=\"视频\" prop=\"url\" align=\"center\">-->\n              <!--          <template slot-scope=\"scope\"><video controls=\"true\" style=\"width: 100px;height: 100px\"><source :src=\"scope.row.url\" type=\"video/mp4\" /></video></template>-->\n              <!--        </el-table-column>-->\n              <el-table-column label=\"上传用户uin\" prop=\"uin\" align=\"center\"></el-table-column>\n              <el-table-column label=\"舞曲名称\" prop=\"name\" align=\"center\"></el-table-column>\n              <el-table-column label=\"标签\" prop=\"cate\" align=\"center\">\n                <template slot-scope=\"scope\">{{scope.row.cate}}</template>\n              </el-table-column>\n              <el-table-column label=\"上传时间\" prop=\"addtime\" align=\"center\"></el-table-column>\n              <el-table-column label=\"审核原因\" prop=\"reason\" align=\"center\"></el-table-column>\n              <el-table-column label=\"审核\" prop=\"status\" align=\"center\">\n                <template slot-scope=\"scope\"><el-button type=\"text\" size=\"small\" @click=\"scope.row.status == '撤销' ? cancel(scope.row.id) : getVideo(scope.$index, scope.row)\">{{ scope.row.status }}</el-button></template>\n              </el-table-column>\n              <el-table-column label=\"操作\" prop=\"\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-button type=\"text\" size=\"small\" @click=\"delete1(scope.row.id)\">删除</el-button>\n                </template>\n              </el-table-column>\n            </el-table>\n\n            <!-- 视频详情 -->\n            <el-dialog :visible.sync=\"dialogVisible\" width=\"75%\" @close=\"closeVideo\">\n              <el-container>\n                <!-- 视频播放区 -->\n                <el-aside width=\"55%\">\n                  <video controls=\"true\" :key=\"key\" style=\"width: 95%;height: 450px\"><source :src=\"videoUrl\" type=\"video/mp4\" /></video>\n                </el-aside>\n                <!-- 审核区 -->\n                <el-main>\n                  <el-form ref=\"reviewForm\" :model=\"form\">\n                    <!--              <el-form-item label=\"视频\" prop=\"url\" :label-width=\"formLabelWidth\"><video controls=\"true\" style=\"width: 95%;height: 450px\"><source :src=\"form.url\" type=\"video/mp4\" /></video></el-form-item>-->\n                    <el-form-item label=\"上传用户uin\" prop=\"uin\" :label-width=\"formLabelWidth\"><el-input v-model=\"form.uin\" disabled /></el-form-item>\n                    <el-form-item label=\"舞曲名称\" prop=\"name\" :label-width=\"formLabelWidth\"><el-input v-model=\"form.name\" disabled /></el-form-item>\n                    <el-form-item label=\"标签\" :label-width=\"formLabelWidth\">\n                      <el-radio-group v-model=\"radio\">\n                        <el-radio :label=\"8\">8步</el-radio>\n                        <el-radio :label=\"16\">16步</el-radio>\n                        <el-radio :label=\"32\">32步</el-radio>\n                      </el-radio-group>\n                    </el-form-item>\n                    <el-form-item label=\"标题\" prop=\"title\" :label-width=\"formLabelWidth\"><el-input v-model=\"form.title\" disabled /></el-form-item>\n                    <el-form-item label=\"时间\" prop=\"addtime\" :label-width=\"formLabelWidth\"><el-input v-model=\"form.addtime\" disabled /></el-form-item>\n                    <el-form-item>\n                      <el-row type=\"flex\" justify=\"space-between\">\n                        <el-col><el-button type=\"primary\" @click.native=\"Success()\">通过</el-button></el-col>\n                        <el-col :span=\"14\"><el-button type=\"primary\" @click=\"Fail()\">不通过</el-button></el-col>\n                        <el-col><el-input placeholder=\"请输入不通过的原因\" v-model=\"inputReason\" clearable></el-input></el-col>\n                      </el-row>\n                    </el-form-item>\n                    <el-form-item><el-button type=\"danger\" @click.native=\"deleteVideo()\">删除</el-button>\n                    </el-form-item>\n                  </el-form>\n                </el-main>\n              </el-container>\n              <span slot=\"footer\" class=\"dialog-footer\"><el-button type=\"primary\" @click.native=\"nextVideo()\">下一个</el-button></span>\n            </el-dialog>\n\n            <!-- 分页 -->\n            <el-pagination\n              @size-change=\"handleSizeChange\"\n              @current-change=\"handleCurrentChange\"\n              :current-page=\"queryInfo.page\"\n              :page-sizes=\"[10, 20, 50, 100]\"\n              :page-size=\"queryInfo.size\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"total\"\n              style=\"margin-top: 30px\"\n            >\n            </el-pagination>\n        </el-tab-pane>\n        <el-tab-pane label=\"舞曲\" name=\"dance\">\n           <!-- 查看选择 -->\n          <el-radio-group v-model=\"choose_dance\" @change=\"search_dance()\">\n            <el-radio-button label=\"全部\"></el-radio-button>\n            <el-radio-button label=\"机选通过\"></el-radio-button>\n            <el-radio-button label=\"等待人工审核\"></el-radio-button>\n            <el-radio-button label=\"未通过\"></el-radio-button>\n          </el-radio-group>\n\n            <!-- 搜索框 -->\n            <el-row style=\"margin-top:15px\">\n              <el-col :span=\"8\">\n                <el-input placeholder=\"请输入uin\" v-model=\"searchInput_dance\" @keyup.enter.native=\"search_dance()\" clearable @clear=\"getDanceData()\">\n                  <el-button slot=\"append\" icon=\"el-icon-search\" @click.native=\"search_dance()\"></el-button>\n                </el-input>\n              </el-col>\n            </el-row>\n\n            <!-- 表格数据 -->\n            <el-table v-loading=\"loading\" :data=\"danceData\" stripe>\n              <el-table-column label=\"舞曲名称\" prop=\"title\" align=\"center\"></el-table-column>\n              <el-table-column label=\"上传用户uin\" prop=\"uin\" align=\"center\"></el-table-column>\n              <el-table-column label=\"上传时间\" prop=\"addtime\" align=\"center\"></el-table-column>\n              <el-table-column label=\"审核原因\" prop=\"reason\" align=\"center\"></el-table-column>\n              <el-table-column label=\"审核\" prop=\"status\" align=\"center\">\n                <template slot-scope=\"scope\"><el-button type=\"text\" size=\"small\" @click=\"scope.row.status == '撤销' ? cancel_dance(scope.row.id) : getVideo_dance(scope.$index, scope.row)\">{{ scope.row.status }}</el-button></template>\n              </el-table-column>\n              <el-table-column label=\"操作\" prop=\"\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-button type=\"text\" size=\"small\" @click=\"delete_dance1(scope.row.id)\">删除</el-button>\n                </template>\n              </el-table-column>\n            </el-table>\n\n            <!-- 视频详情 -->\n            <el-dialog :visible.sync=\"dialogVisible_dance\" width=\"75%\" @close=\"closeVideo_dance\">\n              <el-container>\n                <!-- 视频播放区 -->\n                <el-header>\n                  <audio controls=\"true\" :key=\"key_dance\" style=\"width: 70%\"><source :src=\"videoUrl_dance\" type=\"audio/mp3\" /></audio>\n                </el-header>\n                <!-- 审核区 -->\n                <el-main>\n                  <el-form ref=\"reviewForm_dance\" :model=\"form_dance\">\n                    <el-form-item label=\"舞曲名称\" prop=\"title\" >\n                      <el-input v-model=\"form_dance.title\" style=\"width:500px\"/>\n                      <el-button style=\"margin-left:20px\" @click=\"review_dance\">修改标题</el-button>\n                      </el-form-item>\n                    <el-form-item>\n                      <el-row type=\"flex\" justify=\"space-between\">\n                        <el-col :span=\"6\"><el-button type=\"primary\" @click.native=\"Success_dance()\">通过</el-button></el-col>\n                        <el-col :span=\"4\"><el-button type=\"primary\" @click=\"Fail_dance()\">不通过</el-button></el-col>\n                        <el-col><el-input placeholder=\"请输入不通过原因\" v-model=\"inputReason_dance\" clearable style=\"width:370px\"></el-input></el-col>\n                      </el-row>\n                    </el-form-item>\n                    <el-form-item><el-button type=\"danger\" @click.native=\"deleteVideo_dance()\">删除</el-button>\n                    </el-form-item>\n                  </el-form>\n                </el-main>\n              </el-container>\n              <span slot=\"footer\" class=\"dialog-footer\"><el-button type=\"primary\" @click.native=\"nextVideo_dance()\">下一个</el-button></span>\n            </el-dialog>\n\n            <!-- 分页 -->\n            <el-pagination\n              @size-change=\"handleSizeChange_dance\"\n              @current-change=\"handleCurrentChange_dance\"\n              :current-page=\"queryInfo_dance.page\"\n              :page-sizes=\"[10, 20, 50, 100,500]\"\n              :page-size=\"queryInfo_dance.size\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"total_dance\"\n              style=\"margin-top: 30px\"\n            >\n            </el-pagination>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n    \n  </div>\n</template>\n\n<script>\nimport {Choose, Option, getTag, SearchVideo,getDanceList} from '@/api/reviewVideo'\n\nexport default {\n  data(){\n    return{\n      tableData:[], //表格数据\n      tableDataCache:[], //表格数据缓存\n\n      danceData:[],\n      danceDataCache:[],\n      //视频信息表单\n      form: {\n        uin: \"\",\n        id: \"\",\n        name: \"\",\n        cate: \"\",\n        title: \"\",\n        addtime: \"\",\n        status: \"\",\n      },\n\n      form_dance: {\n        title: ''\n      },\n\n      searchInput: '', //搜索框输入\n      searchInput_dance: '',\n      inputReason: '鉴黄失败', //不通过的原因\n      inputReason_dance: '请上传广场舞版或DJ版',\n\n      //查询参数\n      queryInfo: {\n        page: 1,\n        size: 5,\n        status: 1\n      },\n\n      queryInfo_dance: {\n        uin:this.searchInput_dance,\n        page: 1,\n        size: 10,\n        status: ''\n      },\n\n      key:0,  //迭代参数\n      key_dance:0,\n\n      index: '',\n      index_dance: '',\n      imgUrl: '',//封面地址\n      videoUrl: '',//视频地址\n      videoUrl_dance: '',\n\n      switch_btn: 'video',\n      total: 0,\n      total_dance: 1000,\n      choose: '全部',\n      choose_dance: '全部',\n      radio: 16,\n      formLabelWidth: '89px',\n      loading: false,\n      dialogVisible: false,\n      dialogVisible_dance: false,\n      flag:false,\n      status: 0\n    }\n  },\n  created() {\n    this.getTableData();\n  },\n  methods:{\n    async chooseTable(){\n      const res = await Choose(this.queryInfo)\n      this.tableData = res.data.retData.results;\n      this.tableDataCache = this.tableData;\n      this.total = res.data.retData.total;\n      console.log('res : ',res);\n      res.data.retData.results.forEach(item => {\n        if (item.status == 2) {  item.status = '通过';}\n        else if (item.status == -1) {  item.status = '未通过';}\n        else if (item.status == 0) {  item.status = '待审核';}\n        else {  item.status = '默认';}\n      })\n    },\n   \n    getTableData() {\n      if (this.choose == \"全部\") {\n        this.queryInfo.status = 1;\n      } else if (this.choose == \"待审核\") {\n        this.queryInfo.status = 0;\n      } else if (this.choose == \"未通过\") {\n        this.queryInfo.status = -1;\n      }\n      this.chooseTable();\n    },\n\n    handleSizeChange(newSize) {\n      this.queryInfo.size = newSize;\n      if(this.flag){\n        this.search()\n      }else{\n        this.getTableData();\n      }\n    },\n    handleSizeChange_dance(newSize) {\n       this.queryInfo_dance.size = newSize;\n       this.search_dance()\n    },\n\n    handleCurrentChange(newPage) {\n      this.queryInfo.page = newPage;\n      if(this.flag){\n        this.search()\n      }else{\n        this.getTableData();\n      }\n    },\n    handleCurrentChange_dance(newPage) {\n      this.queryInfo_dance.page = newPage;\n      this.search_dance()\n    },\n\n    // 搜索\n    async search() {\n      if(this.searchInput == ''){\n        this.getTableData()\n      }else{\n        this.flag = true;\n        this.tableData = [];\n        const params = { uin:this.searchInput,page:this.queryInfo.page,size:this.queryInfo.size,status:this.queryInfo.status};\n        const res = await SearchVideo(params);\n        this.tableData = res.data.retData.results;\n        this.total = res.data.retData.total;\n        console.log('search:',res);\n        res.data.retData.results.forEach(item => {\n          if (item.status == 2) {  item.status = '通过';}\n          else if (item.status == -1) {  item.status = '未通过';}\n          else if (item.status == 0) {  item.status = '待审核';}\n          else {  item.status = '默认';}\n        })\n      }\n    },\n    async search_dance() {\n       if (this.choose_dance == \"机选通过\") {\n        this.queryInfo_dance.status = 1;\n      } else if (this.choose_dance == \"等待人工审核\") {\n        this.queryInfo_dance.status = 0;\n      } else if (this.choose_dance == \"未通过\") {\n        this.queryInfo_dance.status = -1;\n      } else if (this.choose_dance == \"全部\") {\n        this.queryInfo_dance.status = \"\"\n      }\n     if(this.searchInput_dance !== ''){\n        this.flag_dance = true;\n        this.danceData = [];\n        const params = { uin:this.searchInput_dance,page:this.queryInfo_dance.page,size:this.queryInfo_dance.size,status:this.queryInfo_dance.status};\n        const res = await this.$http.get('http://www.suibo.tv/api/pwapi/manage/user/music/list',{params:params})\n      // const res = await this.$http.get(\"API/api/pwapi/manage/user/music/list\", { params: params })\n\n        this.danceData = res.data.retData;\n        this.total = res.data.retData.total;\n        console.log('search_dance:',res);\n        res.data.retData.forEach(item => {\n          if (item.status == 1) {  item.status = '通过';}\n          else if (item.status == -1) {  item.status = '未通过';}\n          else if (item.status == 0) {  item.status = '待审核';}\n          else {  item.status = '默认';}\n        })\n      }\n    },\n\n    // 查看审核\n    getVideo(index, row) {\n      this.dialogVisible = true;\n      this.form.uin = row.uin;\n      this.form.name = row.name;\n      this.form.cate = row.cate;\n      this.form.title = row.title;\n      this.form.addtime = row.addtime;\n      this.form.id = row.id;\n      this.form.index = index;\n      this.index = index;\n      this.form.status = row.status;\n\n      this.key += 1;\n      this.videoUrl = row.url;\n      console.log('row.url:',row.url);\n      console.log('videoUrl: ',this.videoUrl)\n      console.log(\"form : \",this.form);\n      this.$forceUpdate()\n    },\n\n    getVideo_dance(index, row) {\n      this.dialogVisible_dance = true;\n      this.form_dance.title = row.title;\n      this.form_dance.id = row.id;\n      this.form_dance.index = index;\n      this.index_form = index;\n      this.form_dance.status = row.status;\n      this.key_dance += 1;\n      this.videoUrl_dance = row.url;\n      console.log('row.url:',row.url);\n      console.log('videoUrl: ',this.videoUrl_dance)\n      console.log(\"form_dance : \",this.form_dance);\n      this.$forceUpdate()\n    },\n    // 舞曲审核修改\n    async review_dance() {\n      const params = {\n        id:this.form_dance.id,\n        status:this.status,\n        reason:this.inputReason_dance,\n        title:this.form_dance.title\n      }\n      const res = await this.$http.post('http://www.suibo.tv/api/pwapi/manage/user/music/modify',params)\n      // const res = await this.$http.post('API/api/pwapi/manage/user/music/modify',params)\n      this.search_dance()\n    },\n\n    // 下一个\n    nextVideo() {\n      ++this.index;\n      if(this.index == this.queryInfo.size){\n        this.index = 0\n      }\n      this.getVideo(this.index,this.tableData[this.index]);\n      this.videoUrl = this.tableData[this.index].url;\n      this.form.id = this.tableDataCache[this.form.index - 1].id;\n      this.form.index = this.form.index + 1;\n      this.getVideo(this.index,this.tableData[this.index]);\n      console.log('this.index: ',this.index);\n      // this.getTableData();\n      if(this.index == this.total-1){\n        return this.$message.info('只剩这最后一个了！')\n      }\n      this.getTableData();\n    },\n    nextVideo_dance() {\n      ++this.index_dance;\n      if(this.index_dance == this.queryInfo_dance.size){\n        this.index_dance = 0\n      }\n      this.getVideo_dance(this.index_dance,this.danceData[this.index_dance]);\n      this.videoUrl_dance = this.danceData[this.index_dance].url;\n      this.form_dance.id = this.danceDataCache[this.form_dance.index - 1].id;\n      this.form_dance.index = this.form_dance.index + 1;\n      this.getVideo_dance(this.index_dance,this.danceData[this.index_dance]);\n      console.log('this.index_dance: ',this.index_dance);\n      // this.getTableData();\n      if(this.index_dance == this.total_dance-1){\n        return this.$message.info('只剩这最后一个了！')\n      }\n      this.getDanceData();\n    },\n\n    // 通过\n    async Success() {\n      const params = { status: 2, uid: this.form.id };\n      // const res = await this.$http.get(\"http://192.168.2.163:19100/api/pwapi/manage/user/dance/status\",{ params: { status: 2, uid: this.form.id }}\n      const res = await Option(params);\n      if (res.data.retData.code == 1) {\n        console.log(\"this.tableData[this.form.index] : \",this.tableData[this.form.index])\n        this.tableData[this.form.index].status = \"通过\";\n        this.form.status = this.tableData[this.form.index].status;\n        this.form.cate = this.radio;\n        this.tableData[this.form.index].cate = this.form.cate;\n        this.getTableData();\n        this.$message.info('已通过！')\n      }\n    },\n    Success_dance() {\n      this.status = 1\n      this.$message.info('已通过！')\n      this.review_dance()\n      this.search_dance()\n    },\n\n    // 不通过\n    async Fail() {\n      // const res  = await this.$http.get(\"http://192.168.2.163:19100/api/pwapi/manage/user/dance/status\", { params: { status: -1, uid: this.form.id, reason: this.inputReason }});\n      const params = { status: -1, uid: this.form.id, reason: this.inputReason};\n      const res = await Option(params);\n      if (res.data.retData.code == 1) {\n        this.tableData[this.form.index].status = \"未通过\";\n        this.form.status = this.tableData[this.form.index].status;\n        this.form.cate = this.radio;\n        this.tableData[this.form.index].cate = this.form.cate;\n        this.getTableData();\n        this.$message.info('未通过！')\n      }\n    },\n    Fail_dance() {\n       this.status = -1\n       this.$message.info('未通过！')\n      this.review_dance()\n      this.search_dance()\n    },\n\n    //删除\n    async deleteVideo() {\n      const params = { status: -2, uid: this.form.id };\n      const confirmRusult = await this.$confirm('此操作将永久删除该文件, 是否继续?','永久删除', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n        }\n      ).catch((err) => err)\n      console.log(confirmRusult)\n      // 用户点击了删除,则返回字符串 confirm\n      // 用户取消了删除,则返回字符串 cancel\n      if (confirmRusult !== 'confirm') {\n        return this.$message.info('取消删除')\n      }\n      await Option(params).then((res) => {\n        const { data: response } = res\n        console.log(response)\n        if (response.retData.code !== 1) {\n          return this.$message.error('删除失败')\n        }\n        this.$message.success('已删除')\n        this.getTableData()\n      })\n    },\n    deleteVideo_dance() {\n\n    },\n\n    async delete1(id){\n      const params = { status: -2, uid: id };\n      const confirmRusult = await this.$confirm('此操作将永久删除该文件, 是否继续?','永久删除该用户', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n        }\n      ).catch((err) => err)\n      console.log(confirmRusult)\n      // 用户点击了删除,则返回字符串 confirm\n      // 用户取消了删除,则返回字符串 cancel\n      if (confirmRusult !== 'confirm') {\n        return this.$message.info('已经取消了删除')\n      }\n      await Option(params).then((res) => {\n        const { data: response } = res\n        console.log(response)\n        if (response.retData.code !== 1) {\n          return this.$message.error('该用户删除失败')\n        }\n        this.$message.success('该用户已经删除')\n        this.getTableData()\n      })\n    },\n\n    delete_dance1() {\n\n    },\n\n    //  关闭视频(修改标签)\n    async closeVideo(){\n      const params = {uid:this.form.id,new_cate:this.form.cate};\n\n      // const res = await this.$http.get(\"http://192.168.2.163:19100/api/pwapi/manage/user/dance/tag\",{params:{uid:this.form.id,new_cate:this.form.cate}});\n      const res = await getTag(params);\n      if(res.data.retData.code ==1){\n        this.getTableData();\n      }\n      this.$refs.reviewForm.resetFields();\n      this.getTableData();\n      this.$forceUpdate()\n    },\n\n    closeVideo_dance() {\n\n    },\n\n    // 撤销\n    async cancel(id) {\n      const params = { status: 0, uid: id};\n      // const { data: res } = await this.$http.get(\"http://192.168.2.163:19100/api/pwapi/manage/user/dance/status\", { params: { status: 0, uid: id}}\n      const res = await  Option(params);\n      if (res.data.retData.code == 1) {\n        this.getTableData();\n      }\n    },\n\n    cancel_dance() {\n\n    },\n\n    async cancelVideo(){\n      this.queryInfo.status = '-1';\n      // const res = await this.$http.get(\"http://192.168.2.163:19100/api/pwapi/manage/user/dance/details\", { params: this.queryInfo });\n      const res = await  Choose(this.queryInfo)\n      this.tableData = res.data.retData.results;\n      this.tableDataCache = this.tableData;\n      this.total = res.data.retData.total;\n\n\n      console.log('res : ',res);\n      res.data.retData.results.forEach(item => {\n        item.status = '撤销';\n      })\n    }\n  },\n};\n</script>\n\n<style>\n.el-row {\n  margin-bottom: 20px;\n}\n</style>\n"]}]}