{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\feedback\\feedback.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\feedback\\feedback.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_babel-loader@8.2.3@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFJlYWRMaXN0LCBnZXRDaGF0SGlzdG9yeSwgc2VuZE1lc3NhZ2UsIGNoYXRSZWFkZWQsIHNlYXJjaFJlYWRMaXN0LCBzdGFyU3RhdGUsIHJlcGx5LCBhZGRSZXBseSwgZGVsZXRlUmVwbHksIGF1dG8sIGFtZW5kQXR1byB9IGZyb20gJ0AvYXBpL2ZlZWRiYWNrJwppbXBvcnQgcXMgZnJvbSAncXMnCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgV2FuZ0VkaXRvciBmcm9tICd3YW5nZWRpdG9yJwpjb25zdCB7IEJ0bk1lbnUgfSA9IFdhbmdFZGl0b3IKaW1wb3J0IEltYWdlVmlld2VyIGZyb20gJ2VsZW1lbnQtdWkvcGFja2FnZXMvaW1hZ2Uvc3JjL2ltYWdlLXZpZXdlcicKCmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgY29tcG9uZW50czogewogICAgSW1hZ2VWaWV3ZXIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbEltYWdlVmlld2VyU2hvdzogZmFsc2UsCiAgICAgIG9sZEh0bWw6ICcnLAogICAgICBlZGl0b3I6IG51bGwsCiAgICAgIHJlZnJlc2hidG46IHRydWUsCiAgICAgIHNob3dhdXRvRmFsZzogZmFsc2UsCiAgICAgIGF1dG9MaXN0OiBbXSwKICAgICAgLy8g5YiG57G7SUQKICAgICAgY2F0ZWdvcnlfaWQ6ICcnLAogICAgICBzaG93QWRkUGhvdG9GbGFnOiBmYWxzZSwKICAgICAgLy8g5re75Yqg5b+r5o235raI5oGvCiAgICAgIGlucHV0VmFsdWU6ICcnLAogICAgICBpbnB1dFZhbHVlQ2hpbGQ6ICcnLAogICAgICBxdWlja1R4dFJvb3RMaXN0OiBbXSwKICAgICAgcXVpY2tUeHRDaGlsZExpc3Q6IFtdLAogICAgICBxdWlja1R4dFJvb3RGbGFnOiBmYWxzZSwKICAgICAgcXVpY2tUeHRDaGlsZEZsYWc6IGZhbHNlLAogICAgICBkaWFsb2dJbWFnZVVybDogJycsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBibHVyZmxhZzogdHJ1ZSwKICAgICAgc2VhcmNoOiB7CiAgICAgICAgdHlwZTogJ3VpbicsCiAgICAgICAgY29udGVudDogJycKICAgICAgfSwKICAgICAgLy8g6I635Y+W55So5oi35YiX6KGo5p+l6K+i5Y+C5pWw5a+56LGhLHBhZ2VudW065b2T5YmN6aG15pWwLHBhZ2VzaXplOuavj+mhteaYvuekuuWkmuWwkeaVsOaNrgogICAgICBxdWVyeUluZm86IHsKICAgICAgICAvLyBxdWVyeTogJycsCiAgICAgICAgcGFnZW51bTogMSwKICAgICAgICBwYWdlc2l6ZTogMTAKICAgICAgfSwKICAgICAgdXNlcmxpc3Q6IFtdLAogICAgICAvLyDkuIrkvKDlm77niYcKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICAvLyDlj5HpgIHkv6Hmga8KICAgICAgc2VuZE1lc3NhZ2U6IHsKICAgICAgICBtZXNzYWdlOiAnJywKICAgICAgICBpbWFnZTogW10sCiAgICAgICAgdWluOiAnJywKICAgICAgICBpc19pbWFnZTogZmFsc2UsCiAgICAgICAgZmlsZTogW10sCiAgICAgICAgbWFuYWdlcl9uYW1lOiAnJwogICAgICB9LAogICAgICAvLyDov5Tlm57kv6Hmga8KICAgICAgY2hhdEhpc3Rvcnk6IFtdLAogICAgICAvLyBjaGF0SGlzdG9yeTogW3sKICAgICAgLy8gICBpc19tYW5hZ2VyOiB0cnVlLAogICAgICAvLyAgIHRpbWU6ICcyMDIxLTgtOSAxMjozNicsCiAgICAgIC8vICAgaXNfaW1nOiB0cnVlLAogICAgICAvLyAgIG1lc3NhZ2U6ICdodHRwczovL3dwaW1nLndhbGxzdGNuLmNvbS9mNzc4NzM4Yy1lNGY4LTQ4NzAtYjYzNC01NjcwM2I0YWNhZmUuZ2lmP2ltYWdlVmlldzIvMS93LzgwL2gvODAnCiAgICAgIC8vIH0sIHsKICAgICAgLy8gICB1c2VybmFtZTogJ3NoYW1va2UnLAogICAgICAvLyAgIHRpbWU6ICcyMDIxLTgtOSAxMjozNicsCiAgICAgIC8vICAgaXNfbWFuYWdlcjogZmFsc2UsCiAgICAgIC8vICAgaXNfaW1nOiB0cnVlLAogICAgICAvLyAgIG1lc3NhZ2U6ICdodHRwczovL3dwaW1nLndhbGxzdGNuLmNvbS9mNzc4NzM4Yy1lNGY4LTQ4NzAtYjYzNC01NjcwM2I0YWNhZmUuZ2lmP2ltYWdlVmlldzIvMS93LzgwL2gvODAnCiAgICAgIC8vIH1dLAogICAgICAvLyDlpKflm77pooTop4gKICAgICAgc3JjTGlzdDogW10sCiAgICAgIGN1cnJlbnRVc2VyOiB7CiAgICAgICAgdWluOiAnJywKICAgICAgICBhdmF0YXI6ICcnCiAgICAgIH0sCiAgICAgIHN1aWJvQ2xpZW50OiB7CiAgICAgICAgbG9nbzogJy4vc3RhdGljL2ltZy9sb2dvLmpwZycKICAgICAgfSwKICAgICAgbm9Nb3JlOiBmYWxzZSwKICAgICAgdW5hYmxlU2VuZDogdHJ1ZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAndXNlcm5hbWUnCiAgICBdKQogIH0sCiAgd2F0Y2g6IHsKICAgIG9sZEh0bWwodmFsLCBvbGRWYWwpIHsKICAgICAgLy8gY29uc29sZS5sb2codmFsLCBvbGRWYWwpCiAgICAgIHRoaXMudW5hYmxlU2VuZCA9IHZhbCA9PT0gJycKICAgICAgY29uc3QgX3RoaXMgPSB0aGlzCiAgICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHsKICAgICAgICAgIF90aGlzLnNlbmQoKQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB0aGlzLnNlbmRNZXNzYWdlLm1hbmFnZXJfbmFtZSA9IHRoaXMudXNlcm5hbWUKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNyZWF0ZVdhbmdFZGl0b3IoKQogICAgdGhpcy5pbWdUb0Jsb2NrKCkKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICAvLyDplIDmr4HnvJbovpHlmagKICAgIHRoaXMuZWRpdG9yLmRlc3Ryb3koKQogICAgdGhpcy5lZGl0b3IgPSBudWxsCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDoh6rlrprkuYnmianlsZXoj5zljZUKICAgIGNyZWF0ZUNsYXNzKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBjbGFzcyBxdWlja1JlcGx5IGV4dGVuZHMgQnRuTWVudSB7CiAgICAgICAgY29uc3RydWN0b3IoZWRpdG9yKSB7CiAgICAgICAgICBjb25zdCAkZWxlbSA9IFdhbmdFZGl0b3IuJChgPGRpdiBjbGFzcz0idy1lLW1lbnUiPjxlbC1idXR0b24gc3R5bGU9ImZvbnQtc2l6ZTogMTRweDsiPuW/q+aNt+WbnuWkjTwvZWwtYnV0dG9uPjwvZGl2PmApCiAgICAgICAgICBzdXBlcigkZWxlbSwgZWRpdG9yKQogICAgICAgIH0KICAgICAgICAvLyDoj5zljZXngrnlh7vkuovku7YKICAgICAgICBjbGlja0hhbmRsZXIoZSkgewogICAgICAgICAgdGhhdC5zaG93UXVpY2tSb290KCkKICAgICAgICB9CiAgICAgICAgdHJ5Q2hhbmdlQWN0aXZlKCkgewogICAgICAgICAgdGhhdC5xdWlja1R4dFJvb3RGbGFnID0gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgY2xhc3MgYXV0b1JlcGx5IGV4dGVuZHMgQnRuTWVudSB7CiAgICAgICAgY29uc3RydWN0b3IoZWRpdG9yKSB7CiAgICAgICAgICBjb25zdCAkZWxlbSA9IFdhbmdFZGl0b3IuJChgPGRpdiBjbGFzcz0idy1lLW1lbnUiPjxlbC1idXR0b24gc3R5bGU9ImZvbnQtc2l6ZTogMTRweDsiPuiHquWKqOWbnuWkjTwvZWwtYnV0dG9uPjwvZGl2PmApCiAgICAgICAgICBzdXBlcigkZWxlbSwgZWRpdG9yKQogICAgICAgIH0KICAgICAgICAvLyDoj5zljZXngrnlh7vkuovku7YKICAgICAgICBjbGlja0hhbmRsZXIoZSkgewogICAgICAgICAgdGhhdC5zaG93QXV0bygpCiAgICAgICAgfQogICAgICAgIHRyeUNoYW5nZUFjdGl2ZSgpIHsKICAgICAgICAgIHRoYXQuc2hvd2F1dG9GYWxnID0gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gY2xhc3Mgc2VuZCBleHRlbmRzIEJ0bk1lbnUgewogICAgICAvLyAgIGNvbnN0cnVjdG9yKGVkaXRvcikgewogICAgICAvLyAgICAgY29uc3QgJGVsZW0gPSBXYW5nRWRpdG9yLiQoYDxkaXYgY2xhc3M9InctZS1tZW51Ij48ZWwtYnV0dG9uPuWPkemAgTwvZWwtYnV0dG9uPjwvZGl2PmApCiAgICAgIC8vICAgICBzdXBlcigkZWxlbSwgZWRpdG9yKQogICAgICAvLyAgIH0KICAgICAgLy8gICAvLyDoj5zljZXngrnlh7vkuovku7YKICAgICAgLy8gICBjbGlja0hhbmRsZXIoZSkgewogICAgICAvLyAgICAgdGhhdC5zZW5kKCkKICAgICAgLy8gICB9CiAgICAgIC8vICAgdHJ5Q2hhbmdlQWN0aXZlKCkge30KICAgICAgLy8gfQoKICAgICAgY2xhc3MgcGhvdG9zIGV4dGVuZHMgQnRuTWVudSB7CiAgICAgICAgY29uc3RydWN0b3IoZWRpdG9yKSB7CiAgICAgICAgICBjb25zdCAkZWxlbSA9IFdhbmdFZGl0b3IuJChgPGRpdiBjbGFzcz0idy1lLW1lbnUiPjxlbC1idXR0b24gIHN0eWxlPSJmb250LXNpemU6IDE0cHg7Ij7kuIrkvKDlm77niYc8L2VsLWJ1dHRvbj48L2Rpdj5gKQogICAgICAgICAgc3VwZXIoJGVsZW0sIGVkaXRvcikKICAgICAgICB9CiAgICAgICAgLy8g6I+c5Y2V54K55Ye75LqL5Lu2CiAgICAgICAgY2xpY2tIYW5kbGVyKGUpIHsKICAgICAgICAgIHRoYXQuc2hvd0FkZFBob3RvRmxhZyA9IHRydWUKICAgICAgICB9CiAgICAgICAgdHJ5Q2hhbmdlQWN0aXZlKCkge30KICAgICAgfQogICAgICBXYW5nRWRpdG9yLnJlZ2lzdGVyTWVudSgncGhvdG9zS2V5JywgcGhvdG9zKQoKICAgICAgV2FuZ0VkaXRvci5yZWdpc3Rlck1lbnUoJ3F1aWNrUmVwbHlLZXknLCBxdWlja1JlcGx5KQogICAgICBXYW5nRWRpdG9yLnJlZ2lzdGVyTWVudSgnYXV0b1JlcGx5S2V5JywgYXV0b1JlcGx5KQogICAgICAvLyBXYW5nRWRpdG9yLnJlZ2lzdGVyTWVudSgnc2VuZEtleScsIHNlbmQpCiAgICB9LAogICAgLy8g5Yib5bu65a+M5paH5pys57yW6L6R5ZmoCiAgICBjcmVhdGVXYW5nRWRpdG9yKCkgewogICAgICB0aGlzLmNyZWF0ZUNsYXNzKCkKICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgV2FuZ0VkaXRvcignI21lc3NhZ2VJbnB1dCcpCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdTZXJ2ZXIgPSAnaHR0cDovL3d3dy5zdWliby50di9hcGkvcHdhcGkvbWFuYWdlL2JhY2tlbmQvZmVlZGJhY2svdXBsb2FkJyAvLyDkuIrnur/ml7bpnIDopoHmlLnkuLrnur/kuIoKICAgICAgLy8gdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ1NlcnZlciA9ICdodHRwOi8vMTkyLjE2OC4yLjE0MToxOTEwMC9hcGkvcHdhcGkvbWFuYWdlL2JhY2tlbmQvZmVlZGJhY2svdXBsb2FkJyAvLyDkuIrnur/ml7bpnIDopoHmlLnkuLrnur/kuIoKICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ1BhcmFtcyA9IHsKICAgICAgICB1aW46IHRoaXMuY3VycmVudFVzZXIudWluCiAgICAgIH0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEZpbGVOYW1lID0gJ2ltYWdlW10nCiAgICAgIC8vIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdIb29rcyA9IHsKICAgICAgLy8gICAvLyDlm77niYfkuIrkvKDlubbov5Tlm57kuobnu5PmnpzvvIzlm77niYfmj5LlhaXlt7LmiJDlip8KICAgICAgLy8gICBzdWNjZXNzOiBmdW5jdGlvbih4aHIpIHsKICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdzdWNjZXNzJywgeGhyKQogICAgICAvLyAgIH0KICAgICAgLy8gfQogICAgICB0aGlzLmVkaXRvci5jb25maWcubWVudXMgPSBbCiAgICAgICAgLy8gJ2Vtb3RpY29uJywKICAgICAgICAnaW1hZ2UnLAogICAgICAgICdwaG90b3MnLAogICAgICAgICdxdWlja1JlcGx5JywKICAgICAgICAnYXV0b1JlcGx5JwogICAgICBdCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5wbGFjZWhvbGRlciA9ICfor7fovpPlhaUuLi4nCiAgICAgIC8vIOmFjee9ruWFqOWxj+WKn+iDveaMiemSruaYr+WQpuWxleekugogICAgICB0aGlzLmVkaXRvci5jb25maWcuc2hvd0Z1bGxTY3JlZW4gPSBmYWxzZQogICAgICB0aGlzLmVkaXRvci5jb25maWcuaGVpZ2h0ID0gMTAwCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy56SW5kZXggPSAxMDEKICAgICAgY29uc3QgcmVnID0gLzxwPjxiclwvPjxcL3A+LwogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICB0aGlzLmVkaXRvci5jb25maWcub25jaGFuZ2UgPSBmdW5jdGlvbihuZXdIdG1sKSB7CiAgICAgICAgaWYgKHJlZy50ZXN0KG5ld0h0bWwpKSB0aGF0LmVkaXRvci50eHQuY2xlYXIoKSAvLyDnm7TmjqXmjIllbnRlcumUrua4heepugogICAgICAgIHRoYXQuc2VuZE1lc3NhZ2UubWVzc2FnZSA9IG5ld0h0bWwKICAgICAgICB0aGF0Lm9sZEh0bWwgPSBuZXdIdG1sCiAgICAgIH0KICAgICAgdGhpcy5lZGl0b3IuY3JlYXRlKCkKICAgIH0sCiAgICAvLyDlpKflm77pooTop4gKICAgIGFkZFByZXZpZXcoaW1ndXJsKSB7CiAgICAgIHRoaXMuc3JjTGlzdCA9IFtdCiAgICAgIHRoaXMuc3JjTGlzdC5wdXNoKGltZ3VybCkKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIC8vIOiOt+WPlumBrue9qeWxgmRvbQogICAgICAgIGNvbnN0IGRvbUltYWdlTWFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbC1pbWFnZS12aWV3ZXJfX21hc2snKQogICAgICAgIGlmICghZG9tSW1hZ2VNYXNrKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgZG9tSW1hZ2VNYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgLy8g54K55Ye76YGu572p5bGC5pe26LCD55So5YWz6Zet5oyJ6ZKu55qEIGNsaWNrIOS6i+S7tgogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsLWltYWdlLXZpZXdlcl9fY2xvc2UnKS5jbGljaygpCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICB1cGxvYWRQZGYoZikgewogICAgICB0aGlzLiRodHRwLmpzb25wKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMvJywge30sCiAgICAgICAgeyBoZWFkZXJzOiB7fSwgZW11bGF0ZUpTT046IHRydWUgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGYub25TdWNjZXNzKCkKICAgICAgICB9KQogICAgfSwKICAgIC8vIOS4iuS8oOWbvueJh+mDqOWIhgogICAgc3VjY2VzcyhyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy5zZW5kTWVzc2FnZS5pbWFnZSA9IFtdCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuZmlsZSA9IFtdCiAgICAgIHRoaXMuZmlsZUxpc3QgPSBmaWxlTGlzdAogICAgICBmaWxlTGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuaW1hZ2VbaW5kZXhdID0gaXRlbS5yYXcKICAgICAgICB0aGlzLnNlbmRNZXNzYWdlLmZpbGVbaW5kZXhdID0gaXRlbQogICAgICB9KQogICAgICB0aGlzLnVuYWJsZVNlbmQgPSB0aGlzLnNlbmRNZXNzYWdlLmZpbGUgPT09IFtdCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSA9ICcgJwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpbGVMaXN0KQogICAgfSwKICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLnNlbmRNZXNzYWdlLmltYWdlID0gW10KICAgICAgdGhpcy5zZW5kTWVzc2FnZS5maWxlID0gW10KICAgICAgZmlsZUxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICB0aGlzLnNlbmRNZXNzYWdlLmltYWdlW2luZGV4XSA9IGl0ZW0ucmF3CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZS5maWxlW2luZGV4XSA9IGZpbGUKICAgICAgfSkKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZW5kTWVzc2FnZS5pbWFnZSkKICAgIH0sCiAgICBoYW5kbGVQcmV2aWV3KGZpbGUpIHsKICAgICAgY29uc29sZS5sb2coZmlsZSkKICAgIH0sCiAgICByZWZyZXNoVXNlckxpc3QoKSB7CiAgICAgIGlmICh0aGlzLnJlZnJlc2hidG4gPT09IGZhbHNlKSByZXR1cm4KICAgICAgdGhpcy5yZWZyZXNoYnRuID0gZmFsc2UKICAgICAgdGhpcy5nZXRMaXN0KCkKICAgIH0sCiAgICAvLyDojrflj5bmnKror7vlkozlt7Lor7vliJfooagKICAgIGdldExpc3QoKSB7CiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICBzZWFyY2hUeXBlOiB0aGlzLnNlYXJjaC50eXBlLAogICAgICAgIHNlYXJjaENvbnRlbnQ6IHRoaXMuc2VhcmNoLmNvbnRlbnQKICAgICAgfQogICAgICAvLyDlrZjlnKjmkJzntKLmtojmga/osIPnlKjmkJzntKLmjqXlj6PvvIzlkKblnKjosIPnlKjlhajpg6jliJfooajmjqXlj6MKICAgICAgaWYgKHRoaXMuc2VhcmNoLmNvbnRlbnQgIT09ICcnKSB7CiAgICAgICAgc2VhcmNoUmVhZExpc3QocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICB0aGlzLnVzZXJsaXN0ID0gW10KICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YS5yZXREYXRhLmRhdGFMaXN0CiAgICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIGlmIChpdGVtLm1hbnkpIHsKICAgICAgICAgICAgICB0aGlzLnVzZXJsaXN0LnB1c2goewogICAgICAgICAgICAgICAgYXZhdGFyOiBpdGVtLmF2YXRhciwKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBpdGVtLm5pY2ssCiAgICAgICAgICAgICAgICBpc19yZWFkOiAnJywKICAgICAgICAgICAgICAgIHN0YXJGbGFnOiBCb29sZWFuKGl0ZW0uaXNfc3RhciksCiAgICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW0uYW1vdW50CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnVzZXJsaXN0LnB1c2goewogICAgICAgICAgICAgICAgYXZhdGFyOiBpdGVtLmF2YXRhciwKICAgICAgICAgICAgICAgIHVpbjogaXRlbS51aW4sCiAgICAgICAgICAgICAgICB1c2VybmFtZTogaXRlbS5uaWNrLAogICAgICAgICAgICAgICAgbWVzc2FnZTogaXRlbS5jb250ZW50LAogICAgICAgICAgICAgICAgdGltZTogaXRlbS5jcmVhdGVfdGltZS5zbGljZSg1LCAxMCksCiAgICAgICAgICAgICAgICBpc19yZWFkOiBpdGVtLmlzX3JlYWQsCiAgICAgICAgICAgICAgICBpc19pbWc6IEJvb2xlYW4oaXRlbS5pc19pbWcpLAogICAgICAgICAgICAgICAgc3RhckZsYWc6IEJvb2xlYW4oaXRlbS5pc19zdGFyKQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLnJlZnJlc2hidG4gPSB0cnVlCiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICBnZXRSZWFkTGlzdChwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMudXNlcmxpc3QgPSBbXQogICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLnJldERhdGEuZGF0YUxpc3QKICAgICAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgdGhpcy51c2VybGlzdC5wdXNoKHsKICAgICAgICAgICAgICBhdmF0YXI6IGl0ZW0uYXZhdGFyLAogICAgICAgICAgICAgIHVpbjogaXRlbS51aW4sCiAgICAgICAgICAgICAgdXNlcm5hbWU6IGl0ZW0ubmljaywKICAgICAgICAgICAgICBtZXNzYWdlOiBpdGVtLmNvbnRlbnQsCiAgICAgICAgICAgICAgdGltZTogaXRlbS5jcmVhdGVfdGltZS5zbGljZSg1LCAxMCksCiAgICAgICAgICAgICAgaXNfcmVhZDogaXRlbS5pc19yZWFkLAogICAgICAgICAgICAgIGlzX2ltZzogQm9vbGVhbihpdGVtLmlzX2ltZyksCiAgICAgICAgICAgICAgc3RhckZsYWc6IEJvb2xlYW4oaXRlbS5pc19zdGFyKQogICAgICAgICAgICB9KQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMucmVmcmVzaGJ0biA9IHRydWUKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgLy8g5pu05pS5c3RhcueKtuaAgQogICAgc3RhcmJ0bihpbmRleCkgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIHVpbjogdGhpcy51c2VybGlzdFtpbmRleF0udWluCiAgICAgIH0KICAgICAgc3RhclN0YXRlKHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy51c2VybGlzdFtpbmRleF0uc3RhckZsYWcgPSAhdGhpcy51c2VybGlzdFtpbmRleF0uc3RhckZsYWcKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5bGV56S66IGK5aSp5qGGCiAgICBzaG93Q2hhdEhpc3Rvcnkocm93KSB7CiAgICAgIHRoaXMuY3VycmVudFVzZXIudWluID0gcm93LnVpbgogICAgICB0aGlzLmN1cnJlbnRVc2VyLmF2YXRhciA9IHJvdy5hdmF0YXIKICAgICAgLy8g5a+M5paH5pys6ZSA5q+B5YaN5Yib5bu6CiAgICAgIHRoaXMuZWRpdG9yLmRlc3Ryb3koKQogICAgICB0aGlzLmVkaXRvciA9IG51bGwKICAgICAgdGhpcy5jcmVhdGVXYW5nRWRpdG9yKCkKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIHVpbjogdGhpcy5jdXJyZW50VXNlci51aW4sCiAgICAgICAgc2l6ZTogdGhpcy5xdWVyeUluZm8ucGFnZXNpemUsCiAgICAgICAgcGFnZTogdGhpcy5xdWVyeUluZm8ucGFnZW51bQogICAgICB9CiAgICAgIGdldENoYXRIaXN0b3J5KHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLnJldERhdGEpCiAgICAgICAgLy8g5pyq6K+754q25oCB5pS55Y+Y5oiQ5bey6K+7CiAgICAgICAgY29uc3QgcmV0ZGF0YSA9IHJlcy5kYXRhLnJldERhdGEKICAgICAgICBpZiAocmVzLmRhdGEucmV0RGF0YS5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgICAgIGNvbnN0IGNoYXQgPSB7CiAgICAgICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgICAgICB1aW46IHRoaXMuY3VycmVudFVzZXIudWluLAogICAgICAgICAgICBmcm9tTWFuYWdlcjogMQogICAgICAgICAgfQogICAgICAgICAgLy8g5Y+R6YCB6K+35rGCIOacquivu+WPmOW3suivuwogICAgICAgICAgY2hhdFJlYWRlZChxcy5zdHJpbmdpZnkoY2hhdCkpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICByb3cuaXNfcmVhZCA9IDEgLy8g5qCH6K6w5b2T5YmN6KGM5bey6K+7CiAgICAgICAgICB9KQogICAgICAgICAgLy8g5riy5p+T6IGK5aSp6K6w5b2V5YiX6KGoCiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY3VycmVudFVzZXIsIHJldGRhdGEuYmFja0RhdGEpIC8vIOaLvOaOpQogICAgICAgICAgdGhpcy5jaGF0SGlzdG9yeSA9IFtdCiAgICAgICAgICByZXRkYXRhLmRhdGFMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2hhdEhpc3RvcnkucHVzaCh7CiAgICAgICAgICAgICAgdWluOiBpdGVtLnVpbiwKICAgICAgICAgICAgICB1c2VybmFtZTogaXRlbS5uaWNrLAogICAgICAgICAgICAgIHRpbWU6IGl0ZW0uY3JlYXRlX3RpbWUsCiAgICAgICAgICAgICAgbWVzc2FnZTogaXRlbS5jb250ZW50LAogICAgICAgICAgICAgIGlzX21hbmFnZXI6IEJvb2xlYW4oaXRlbS5pc19tYW5hZ2VyKSwKICAgICAgICAgICAgICBpc19pbWc6IEJvb2xlYW4oTnVtYmVyKGl0ZW0uaXNfaW1nKSksCiAgICAgICAgICAgICAgbWFuYWdlcl9uYW1lOiBpdGVtLm1hbmFnZXJfbmFtZSwKICAgICAgICAgICAgICB1c2VyX3JlYWQ6IEJvb2xlYW4oaXRlbS51c2VyX3JlYWQpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZS51aW4gPSB0aGlzLmN1cnJlbnRVc2VyLnVpbgogICAgICAgICAgdGhpcy5kZWZhdWx0U2Nyb2xsVG9wKCkKICAgICAgICAgIHRoaXMubm9Nb3JlID0gZmFsc2UKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLmltZ1RvQmxvY2soKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5Y+R6YCBCiAgICBzZW5kKCkgewogICAgICBpZiAoIXRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSkgcmV0dXJuCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGFzc3dkJywgJ3Rhb2xlc29mdDA1NzEnKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VpbicsIHRoaXMuc2VuZE1lc3NhZ2UudWluKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ21hbmFnZXInLCAxKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ21hbmFnZXJfbmFtZScsIHRoaXMudXNlcm5hbWUpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY29udGVudCcsIHRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSkKICAgICAgdGhpcy5zZW5kTWVzc2FnZS5pbWFnZS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2VbXScsIGl0ZW0pCiAgICAgIH0pCiAgICAgIHNlbmRNZXNzYWdlKGZvcm1EYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8g5oiQ5YqfCiAgICAgICAgaWYgKHJlcy5kYXRhLnJldERhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBjb25zdCBjaGF0ID0gewogICAgICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICAgICAgdWluOiB0aGlzLnNlbmRNZXNzYWdlLnVpbiwKICAgICAgICAgICAgZnJvbU1hbmFnZXI6IDEKICAgICAgICAgIH0KICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAvLyDlj5HpgIHmtojmga/miJDlip/vvIzmnKror7vnirbmgIHmlLnlj5jmiJDlt7Lor7sKICAgICAgICAgICAgY2hhdFJlYWRlZChxcy5zdHJpbmdpZnkoY2hhdCkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUpCiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJldERhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAvLyDliY3nq6/mt7vliqDkv6Hmga8gc3RhcnQtLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNNZXNzYWdlID0gdGhpcy5zZW5kTWVzc2FnZS5tZXNzYWdlCiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZW5kTWVzc2FnZS5pbWFnZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuaXNfaW1hZ2UgPSB0cnVlCiAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuZmlsZS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuaXNfaW1hZ2UgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZS5tZXNzYWdlID0gaXRlbS51cmwKICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXRIaXN0b3J5LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgbWFuYWdlcl9uYW1lOiB0aGlzLnVzZXJuYW1lLCAvLyDov73ouKrlrqLmiLfnq6/lj5HpgIHkuroKICAgICAgICAgICAgICAgICAgICAgIHRpbWU6ICfliJrliJonLAogICAgICAgICAgICAgICAgICAgICAgaXNfbWFuYWdlcjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgIGlzX2ltZzogdGhpcy5zZW5kTWVzc2FnZS5pc19pbWFnZQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UuaXNfaW1hZ2UgPSBmYWxzZQogICAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlLmltYWdlID0gW10KICAgICAgICAgICAgICAgICAgdGhpcy5maWxlTGlzdCA9IFtdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodGhpc01lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5jaGF0SGlzdG9yeS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBtYW5hZ2VyX25hbWU6IHRoaXMudXNlcm5hbWUsIC8vIOi/vei4quWuouaIt+err+WPkemAgeS6ugogICAgICAgICAgICAgICAgICAgIHRpbWU6ICfliJrliJonLAogICAgICAgICAgICAgICAgICAgIGlzX21hbmFnZXI6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdGhpc01lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgaXNfaW1nOiB0aGlzLnNlbmRNZXNzYWdlLmlzX2ltYWdlCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlLm1lc3NhZ2UgPSAnJwogICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2Nyb2xsVG9wKCkKICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FkZFBob3RvRmxhZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci50eHQuY2xlYXIoKQogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW1nVG9CbG9jaygpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhpcy51bmFibGVTZW5kID0gdHJ1ZQogICAgICAgICAgICAgICAgLy8g5YmN56uv5re75Yqg5L+h5oGvIGVuZC0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0sIDEwMCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g6IGK5aSp6K6w5b2V5Lit55qEaW1nIGRpc3BsYXk6YmxvY2s7CiAgICBpbWdUb0Jsb2NrKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJykKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWcubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoaW1nW2ldLnBhcmVudE5vZGUudGFnTmFtZSA9PT0gJ1AnKSB7CiAgICAgICAgICBpbWdbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jaycKICAgICAgICAgIGltZ1tpXS5zdHlsZS5tYXhXaWR0aCA9ICcyMDBweCcKICAgICAgICAgIGltZ1tpXS5zdHlsZS5tYXJnaW4gPSAnNXB4IDAnCiAgICAgICAgICBpbWdbaV0uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzhweCcKICAgICAgICAgIGltZ1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGF0LnNob3dJbWdUb0Jsb2NrKGltZ1tpXS5jdXJyZW50U3JjKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDlr4zmlofmnKzlm77niYflpKflm77pooTop4jlkozlhbPpl60KICAgIGNsb3NlVmlld2VyKCkgewogICAgICB0aGlzLmVsSW1hZ2VWaWV3ZXJTaG93ID0gZmFsc2UKICAgIH0sCiAgICBzaG93SW1nVG9CbG9jayhpbWdVcmwpIHsKICAgICAgdGhpcy5hZGRQcmV2aWV3KGltZ1VybCkKICAgICAgdGhpcy5lbEltYWdlVmlld2VyU2hvdyA9IHRydWUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIC8vIOiOt+WPlumBrue9qeWxgmRvbQogICAgICAgIGNvbnN0IGRvbUltYWdlTWFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbC1pbWFnZS12aWV3ZXJfX21hc2snKQogICAgICAgIGlmICghZG9tSW1hZ2VNYXNrKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgZG9tSW1hZ2VNYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgLy8g54K55Ye76YGu572p5bGC5pe26LCD55So5YWz6Zet5oyJ6ZKu55qEIGNsaWNrIOS6i+S7tgogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsLWltYWdlLXZpZXdlcl9fY2xvc2UnKS5jbGljaygpCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBtb3JlQ2hhdCgpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZW51bSsrCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICB1aW46IHRoaXMuY3VycmVudFVzZXIudWluLAogICAgICAgIHNpemU6IHRoaXMucXVlcnlJbmZvLnBhZ2VzaXplLAogICAgICAgIHBhZ2U6IHRoaXMucXVlcnlJbmZvLnBhZ2VudW0KICAgICAgfQogICAgICBnZXRDaGF0SGlzdG9yeShwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEucmV0RGF0YS5kYXRhTGlzdAogICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gdGhpcy5jaGF0SGlzdG9yeS5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMubm9Nb3JlID0gdHJ1ZQogICAgICAgIH0KICAgICAgICB0aGlzLmNoYXRIaXN0b3J5ID0gW10KICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICB0aGlzLmNoYXRIaXN0b3J5LnB1c2goewogICAgICAgICAgICB1aW46IGl0ZW0udWluLAogICAgICAgICAgICB1c2VybmFtZTogaXRlbS5uaWNrLAogICAgICAgICAgICB0aW1lOiBpdGVtLmNyZWF0ZV90aW1lLAogICAgICAgICAgICBtZXNzYWdlOiBpdGVtLmNvbnRlbnQsCiAgICAgICAgICAgIGlzX21hbmFnZXI6IEJvb2xlYW4oaXRlbS5pc19tYW5hZ2VyKSwKICAgICAgICAgICAgaXNfaW1nOiBCb29sZWFuKE51bWJlcihpdGVtLmlzX2ltZykpCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgLy8KICAgIC8vIOW/q+aNt+WbnuWkjemDqOWIhiAvLy8KICAgIC8vCiAgICBzaG93UXVpY2tSb290KCkgewogICAgICB0aGlzLnNob3dhdXRvRmFsZyA9IGZhbHNlCiAgICAgIHRoaXMucXVpY2tUeHRSb290RmxhZyA9ICF0aGlzLnF1aWNrVHh0Um9vdEZsYWcKICAgICAgdGhpcy5xdWlja1R4dENoaWxkRmxhZyA9IGZhbHNlCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucXVpY2tUeHRSb290TGlzdCkKICAgICAgaWYgKHRoaXMucXVpY2tUeHRSb290TGlzdC5sZW5ndGggPiAwKSB7IHJldHVybiB9CiAgICAgIHJlcGx5KHsgcGFzc3dkOiAndGFvbGVzb2Z0MDU3MScgfSkudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLnJldERhdGEuZGF0YUxpc3QpCiAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLnJldERhdGEuZGF0YUxpc3QKICAgICAgICB0aGlzLnF1aWNrVHh0Um9vdExpc3QgPSBbXQogICAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIHRoaXMucXVpY2tUeHRSb290TGlzdC5wdXNoKGl0ZW0pCiAgICAgICAgfSkKICAgICAgfSkKICAgICAgY29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpY2tUeHRSb290JykKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bC5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgIHVsLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpCiAgICAgIH0KICAgIH0sCiAgICAvLyDmmL7npLrlv6vmjbflm57lpI3mtojmga/lrZDliJfooagKICAgIHNob3dRdWlja0NoaWxkKGV2ZW50LCBpbmRleCkgewogICAgICB0aGlzLmNhdGVnb3J5X2lkID0gdGhpcy5xdWlja1R4dFJvb3RMaXN0W2luZGV4XS5jYXRlZ29yeV9pZAogICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRMaXN0ID0gdGhpcy5xdWlja1R4dFJvb3RMaXN0W2luZGV4XS5saXN0CiAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1aWNrVHh0Um9vdCcpCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICB1bC5jaGlsZHJlbltpXS5jaGlsZHJlblswXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKQogICAgICB9CiAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKQogICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRGbGFnID0gdHJ1ZQogICAgfSwKICAgIC8vIOa3u+WKoOW/q+aNt+WbnuWkjea2iOaBr+WGheWuuQogICAgYWRkUXVpY2tNZXNzYWdlKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UubWVzc2FnZSA9IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICB0aGlzLmVkaXRvci50eHQuaHRtbCgnPHA+JyArIGV2ZW50LnRhcmdldC52YWx1ZSArICc8L3A+JykKICAgICAgdGhpcy5xdWlja1R4dENoaWxkRmxhZyA9IGZhbHNlCiAgICAgIHRoaXMucXVpY2tUeHRSb290RmxhZyA9IGZhbHNlCiAgICB9LAogICAgLy8g5re75Yqg5b+r5o235Zue5aSNCiAgICBhZGRRdWlja1R4dFJvb3RMaXN0KCkgewogICAgICBpZiAodGhpcy5pbnB1dFZhbHVlKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgICAgY29udGVudDogdGhpcy5pbnB1dFZhbHVlCiAgICAgICAgfQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW5wdXRWYWx1ZSkKICAgICAgICBhZGRSZXBseShxcy5zdHJpbmdpZnkoZGF0YSkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGNvbnN0IGNhdGVfaWQgPSByZXMuZGF0YS5yZXREYXRhLmNhdGVfaWQKICAgICAgICAgIHRoaXMucXVpY2tUeHRSb290TGlzdC5wdXNoKHsKICAgICAgICAgICAgY2F0ZWdvcnlfaWQ6IGNhdGVfaWQsCiAgICAgICAgICAgIG5hbWU6IHRoaXMuaW5wdXRWYWx1ZSwKICAgICAgICAgICAgbGlzdDogW10KICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSAnJwogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBhZGRRdWlja1R4dENoaWxkTGlzdCgpIHsKICAgICAgaWYgKHRoaXMuaW5wdXRWYWx1ZUNoaWxkKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgICAgY29udGVudDogdGhpcy5pbnB1dFZhbHVlQ2hpbGQsCiAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeV9pZAogICAgICAgIH0KICAgICAgICBhZGRSZXBseShxcy5zdHJpbmdpZnkoZGF0YSkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgIGNvbnN0IGNhdGVfaWQgPSByZXMuZGF0YS5yZXREYXRhLmNhdGVfaWQKICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRMaXN0LnB1c2goewogICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuaW5wdXRWYWx1ZUNoaWxkLAogICAgICAgICAgICAgIGlkOiBjYXRlX2lkCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuaW5wdXRWYWx1ZUNoaWxkID0gJycKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgbW91c2VPdmVyQ2hpbGQoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKDEpCiAgICB9LAogICAgLy8gcm9vdOWkseWOu+eEpueCueS/ruaUueaVsOaNrgogICAgYmx1clJvb3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKDEyMykKICAgIH0sCiAgICByZW1vdmVDaGlsZFRoaXNMaShpbmRleCkgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIGl0ZW06IHRoaXMucXVpY2tUeHRDaGlsZExpc3RbaW5kZXhdLmlkLAogICAgICAgIGlzX2RlbGV0ZTogMQogICAgICB9CiAgICAgIGRlbGV0ZVJlcGx5KHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5yZXREYXRhLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5xdWlja1R4dENoaWxkTGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIHJlbW92ZVJvb3RUaGlzTGkoaW5kZXgpIHsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICBwYXNzd2Q6ICd0YW9sZXNvZnQwNTcxJywKICAgICAgICBjaWQ6IHRoaXMucXVpY2tUeHRSb290TGlzdFtpbmRleF0uY2F0ZWdvcnlfaWQsCiAgICAgICAgaXNfZGVsZXRlOiAxCiAgICAgIH0KICAgICAgZGVsZXRlUmVwbHkocXMuc3RyaW5naWZ5KGRhdGEpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnJldERhdGEuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnF1aWNrVHh0Um9vdExpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgICAgICAgaWYgKHRoaXMucXVpY2tUeHRSb290TGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhpcy5xdWlja1R4dENoaWxkRmxhZyA9IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8vIOiHquWKqOWbnuWkjea2iOaBrwogICAgc2hvd0F1dG8oKSB7CiAgICAgIHRoaXMucXVpY2tUeHRSb290RmxhZyA9IGZhbHNlCiAgICAgIHRoaXMucXVpY2tUeHRDaGlsZEZsYWcgPSBmYWxzZQogICAgICB0aGlzLnNob3dhdXRvRmFsZyA9ICF0aGlzLnNob3dhdXRvRmFsZwogICAgICBhdXRvKHsgcGFzc3dkOiAndGFvbGVzb2Z0MDU3MScgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YS5yZXREYXRhLmRhdGFMaXN0CiAgICAgICAgdGhpcy5hdXRvTGlzdCA9IFtdCiAgICAgICAgdGhpcy5hdXRvTGlzdCA9IGRhdGEKICAgICAgfSkKICAgIH0sCiAgICBhbWVuZEF0dW9Mb2dpYyhpbmRleCkgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIHBhc3N3ZDogJ3Rhb2xlc29mdDA1NzEnLAogICAgICAgIHJpZDogdGhpcy5hdXRvTGlzdFtpbmRleF0uaWQsCiAgICAgICAgbG9naWM6IHRoaXMuYXV0b0xpc3RbaW5kZXhdLmxvZ2ljCiAgICAgIH0KICAgICAgYW1lbmRBdHVvKHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbigoKSA9PiB7fSkKICAgIH0sCiAgICBhbWVuZEF0dW9Db250ZW50KGluZGV4KSB7CiAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgcGFzc3dkOiAndGFvbGVzb2Z0MDU3MScsCiAgICAgICAgcmlkOiB0aGlzLmF1dG9MaXN0W2luZGV4XS5pZCwKICAgICAgICBjb250ZW50OiB0aGlzLmF1dG9MaXN0W2luZGV4XS5jb250ZW50CiAgICAgIH0KICAgICAgYW1lbmRBdHVvKHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbigoKSA9PiB7fSkKICAgIH0sCiAgICBvbkZvY3VzKCkgewogICAgICB0aGlzLnF1aWNrVHh0Q2hpbGRGbGFnID0gZmFsc2UKICAgICAgdGhpcy5xdWlja1R4dFJvb3RGbGFnID0gZmFsc2UKICAgICAgdGhpcy5zaG93YXV0b0ZhbGcgPSBmYWxzZQogICAgfSwKICAgIGNvcHkodWluKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5aSN5Yi2dWluOicgKyB1aW4gKyAn5oiQ5YqfJykKICAgIH0sCiAgICAvLyDngrnlh7vot7Povazlj6bkuIDkuKrpobXpnaIgIOi1hOaWmemhtQogICAgdG9JbmZvcm1hdGlvbihyb3cpIHsKICAgICAgbGV0IGluZGV4ID0gJ2h0dHBzOi8vd3d3LnN1aWJvLnR2L2FkbWluL3VzZXIvaW5mby91aW4vJyArIHRoaXMuY3VycmVudFVzZXIudWluCiAgICAgIGlmIChyb3cudWluKSB7CiAgICAgICAgaW5kZXggPSAnaHR0cHM6Ly93d3cuc3VpYm8udHYvYWRtaW4vdXNlci9pbmZvL3Vpbi8nICsgcm93LnVpbgogICAgICB9CiAgICAgIHdpbmRvdy5vcGVuKGluZGV4LCAnX2JsYW5rJykgLy8g5Zyo5paw56qX5Y+j5omT5byA5aSW6ZO+5o6lCiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaW5kZXg7ICAvL+WcqOacrOmhtemdouaJk+W8gOWklumDqOmTvuaOpQogICAgfSwKICAgIGRlZmF1bHRTY3JvbGxUb3AoKSB7CiAgICAgIC8vIOm7mOiupOa7muWKqOadoeWcqOacgOW6lemDqAogICAgICBjb25zdCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHVsLnNjcm9sbFRvcCA9IHVsLnNjcm9sbEhlaWdodAogICAgICB9KQogICAgfQogIH0KfQo="},null]}