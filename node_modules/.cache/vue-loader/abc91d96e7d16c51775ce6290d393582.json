{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\award\\officialUser.vue?vue&type=style&index=0&id=4522393c&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\award\\officialUser.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_sass-loader@8.0.2@sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouVGVzdENvbnRlbnR7CiAgd2lkdGg6IDkwJTsKICBtaW4taGVpZ2h0OiAyMDBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogIG1hcmdpbi10b3A6IDIwcHg7CiAgcGFkZGluZzogMTBweDsKICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KLmVsLXRhZyArIC5lbC10YWcgewogIG1hcmdpbi10b3A6IDVweDsKICBtYXJnaW4tbGVmdDogMTBweDsKfQo="},{"version":3,"sources":["officialUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"officialUser.vue","sourceRoot":"src/views/award","sourcesContent":["<template>\n  <div class=\"pp-container\">\n    <el-card>\n      <el-row type=\"flex\" justify=\"space-between\" style=\"margin-bottom: 15px;\">\n        <el-col :span=\"12\">\n          <el-input v-model=\"query.uin_list\" placeholder=\"请输入uin,多uin格式如:123,456\" clearable @keyup.enter.native=\"fnAddUser\">\n            <el-button slot=\"append\" icon=\"el-icon-plus\" @click.native=\"fnAddUser\" />\n          </el-input>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-input v-model=\"searchInput\" placeholder=\"请输入本地搜索的ID\" clearable @keyup.enter.native=\"search\">\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"search\" />\n          </el-input>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"20\">\n        <el-col>\n          <p>官方认证用户:</p>\n          <div class=\"TestContent\">\n            <el-tag\n              v-for=\"tag in dynamicTags\"\n              :key=\"tag\"\n              closable\n              class=\"tags\"\n              :disable-transitions=\"false\"\n              @close=\"fnRemoveUser(tag)\"\n            >{{ tag }}\n            </el-tag>\n          </div>\n        </el-col>\n      </el-row>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { getOfficialUser, addOfficialUser, removeOfficialUser } from '@/api/award'\nimport qs from 'qs'\n\nexport default {\n  data() {\n    return {\n      query: {\n        uin_list: ''\n      },\n      dynamicTags: [],\n      searchInput: ''\n    }\n  },\n  created() {\n    this.fnGetList()\n  },\n  methods: {\n    // 获取\n    fnGetList() {\n      getOfficialUser().then(res => {\n        this.dynamicTags = res.data.retData.dataList\n      })\n    },\n    // 添加\n    fnAddUser() {\n      // 去重\n      if (this.dynamicTags.indexOf(Number(this.query.uin_list)) !== -1) {\n        this.$message.warning('存在重复uin')\n        return\n      }\n      const reg = /^(\\d*)(,\\d+)*$/\n      if (reg.test(this.query.uin_list)) {\n        // console.log(reg.test(this.query.uin_list))\n        addOfficialUser(qs.stringify(this.query)).then(res => {\n          if (res.data.retData.statusCode === 200) {\n            this.$message.success('添加用户官方认证成功')\n            this.query.uin_list = ''\n            this.fnGetList()\n          }\n        })\n      } else {\n        this.$message.success('输入格式不满足，请检查，逗号以英文隔开,末尾不能为逗号')\n      }\n    },\n    // 移除\n    fnRemoveUser(tag) {\n      const data = { uin: tag }\n      removeOfficialUser(qs.stringify(data)).then(res => {\n        // console.log(res.data.retData.statusCode)\n        if (res.data.retData.statusCode === 200) {\n          this.$message.success('取消用户' + tag + '官方认证成功')\n          this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1)\n          this.fnGetList()\n        }\n      })\n    },\n    // 搜索已有用户\n    search() {\n      var index = this.dynamicTags.indexOf(Number(this.searchInput))\n      if (index === -1) {\n        this.$message.warning('不存在该用户')\n        return\n      }\n      const tags = document.getElementsByClassName('tags')\n      tags[index].style.color = 'red'\n      tags[index].style.borderColor = 'red'\n      setTimeout(() => {\n        tags[index].style.color = '#409EFF'\n        tags[index].style.borderColor = '#d9ecff'\n      }, 10000)\n      this.searchInput = ''\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.TestContent{\n  width: 90%;\n  min-height: 200px;\n  border: 1px solid #ccc;\n  margin-top: 20px;\n  padding: 10px;\n  border-radius: 5px;\n}\n.el-tag + .el-tag {\n  margin-top: 5px;\n  margin-left: 10px;\n}\n</style>\n"]}]}