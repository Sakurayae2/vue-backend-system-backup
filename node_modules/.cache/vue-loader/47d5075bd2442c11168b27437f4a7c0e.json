{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\award\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\award\\list.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_babel-loader@8.2.3@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBnZXRBd2FyZCwgZWRpdEF3YXJkIH0gZnJvbSAnQC9hcGkvYXdhcmQnCmltcG9ydCBxcyBmcm9tICdxcycKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGlja2VyT3B0aW9uczogewogICAgICAgIGRpc2FibGVkRGF0ZSh0aW1lKSB7CiAgICAgICAgICByZXR1cm4gdGltZS5nZXRUaW1lKCkgPiBEYXRlLm5vdygpCiAgICAgICAgfSwKICAgICAgICBzaG9ydGN1dHM6IFt7CiAgICAgICAgICB0ZXh0OiAn5LuK5aSpJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIG5ldyBEYXRlKCkpCiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+aYqOWkqScsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKQogICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0KQogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBkYXRlKQogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGN1cnJlbnREYXRlOiAnJywKICAgICAgLy8g6I635Y+W55So5oi35YiX6KGo5p+l6K+i5Y+C5pWw5a+56LGhLHBhZ2VudW065b2T5YmN6aG15pWwLHBhZ2VzaXplOuavj+mhteaYvuekuuWkmuWwkeaVsOaNrgogICAgICBxdWVyeUluZm86IHsKICAgICAgICBkYXRlOiAnJywKICAgICAgICByb29tVWluOiAnJywKICAgICAgICBwYWdlbnVtOiAxLAogICAgICAgIHBhZ2VzaXplOiAyMAogICAgICB9LAogICAgICB0b3RsZTogMCwKICAgICAgdXNlcmxpc3Q6IFtdLAogICAgICBlZGl0YXdhcmQ6IHsKICAgICAgICByb29tVWluOiAnJywKICAgICAgICBzZGF0ZTogJycKICAgICAgfSwKICAgICAgc2VhcmNoZmxhZzogZmFsc2UsCiAgICAgIGJsdXJmbGFnOiB0cnVlCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRZZXN0ZXJkYXlUaW1lKCkKICAgIHRoaXMuZ2V0QXdhcmRMaXN0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEF3YXJkTGlzdCgpIHsKICAgICAgdGhpcy51c2VybGlzdCA9IFtdCiAgICAgIHRoaXMucXVlcnlJbmZvLmRhdGUgPSB0aGlzLmN1cnJlbnREYXRlCiAgICAgIGdldEF3YXJkKAogICAgICAgIHsKICAgICAgICAgIGRhdGU6IHRoaXMucXVlcnlJbmZvLmRhdGUsCiAgICAgICAgICByb29tVWluOiB0aGlzLnF1ZXJ5SW5mby5yb29tVWluLAogICAgICAgICAgcGFnZTogdGhpcy5xdWVyeUluZm8ucGFnZW51bSwKICAgICAgICAgIHNpemU6IHRoaXMucXVlcnlJbmZvLnBhZ2VzaXplCiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEucmV0RGF0YS5kYXRhTGlzdAogICAgICAgIHRoaXMudG90bGUgPSByZXMuZGF0YS5yZXREYXRhLnRvdGFsCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnVzZXJsaXN0LnB1c2goewogICAgICAgICAgICByb29tTG9nbzogZGF0YVtpXS5yb29tTG9nbywKICAgICAgICAgICAgcm9vbW5hbWU6IGRhdGFbaV0ucm9vbU5hbWUsCiAgICAgICAgICAgIHJvb21VaW46IGRhdGFbaV0ucm9vbVVpbiwKICAgICAgICAgICAgc2RhdGU6IGRhdGFbaV0uc2RhdGUsCiAgICAgICAgICAgIG5vUnVsZTogZGF0YVtpXS5ub1J1bGUKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIHRoaXMuYmx1cmZsYWcgPSB0cnVlCiAgICAgIH0pCiAgICAgIC8vIOaOpeWPo+a1i+ivlQogICAgICAvLyB0aGlzLiRodHRwCiAgICAgIC8vICAgLmdldCgnaHR0cDovL3d3dy5zdWliby50di9hcGkvcHdhcGkvYWN0aXZlL2FueXNpbmcvYmFja2VuZCcsIHsKICAgICAgLy8gICAgIHBhcmFtczogewogICAgICAvLyAgICAgICBkYXRlOiB0aGlzLnF1ZXJ5SW5mby5kYXRlLAogICAgICAvLyAgICAgICByb29tVWluOiB0aGlzLnF1ZXJ5SW5mby5yb29tVWluLAogICAgICAvLyAgICAgICBwYWdlOiB0aGlzLnF1ZXJ5SW5mby5wYWdlbnVtLAogICAgICAvLyAgICAgICBzaXplOiB0aGlzLnF1ZXJ5SW5mby5wYWdlc2l6ZQogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLnRoZW4oCiAgICAgIC8vICAgICByZXMgPT4gewogICAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgIC8vICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEucmV0RGF0YS5kYXRhTGlzdAogICAgICAvLyAgICAgICB0aGlzLnRvdGxlID0gcmVzLmRhdGEucmV0RGF0YS50b3RhbAogICAgICAvLyAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgLy8gICAgICAgICB0aGlzLnVzZXJsaXN0LnB1c2goewogICAgICAvLyAgICAgICAgICAgcm9vbUxvZ286IGRhdGFbaV0ucm9vbUxvZ28sCiAgICAgIC8vICAgICAgICAgICByb29tbmFtZTogZGF0YVtpXS5yb29tTmFtZSwKICAgICAgLy8gICAgICAgICAgIHJvb21VaW46IGRhdGFbaV0ucm9vbVVpbiwKICAgICAgLy8gICAgICAgICAgIHNkYXRlOiBkYXRhW2ldLnNkYXRlLAogICAgICAvLyAgICAgICAgICAgbm9SdWxlOiBkYXRhW2ldLm5vUnVsZQogICAgICAvLyAgICAgICAgIH0pCiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgdGhpcy5ibHVyZmxhZyA9IHRydWUKICAgICAgLy8gICAgIH0KICAgICAgLy8gICApCiAgICB9LAogICAgYmx1ckdldEF3YXJkTGlzdCgpIHsKICAgICAgdGhpcy5ibHVyZmxhZyA9IGZhbHNlCiAgICAgIHRoaXMuZ2V0QXdhcmRMaXN0KCkKICAgIH0sCiAgICAvLyDojrflj5bmmKjlpKnml6XmnJ8KICAgIGdldFllc3RlcmRheVRpbWUoKSB7CiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpCiAgICAgIHZhciB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCkKICAgICAgdmFyIG1vbnRoID0gbm93LmdldE1vbnRoKCkKICAgICAgdmFyIGRhdGUgPSBub3cuZ2V0RGF0ZSgpCiAgICAgIG1vbnRoID0gbW9udGggKyAxCiAgICAgIGRhdGUtLSAvLyDojrflvpfmmKjlpKnml6XmnJ8KICAgICAgaWYgKGRhdGUgPCAxKSB7CiAgICAgICAgbW9udGgtLQogICAgICAgIGlmIChtb250aCA8IDEpIHsKICAgICAgICAgIHllYXItLQogICAgICAgICAgbW9udGggPSAxMgogICAgICAgIH0KICAgICAgICBkYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKQogICAgICB9CiAgICAgIG1vbnRoID0gbW9udGgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpCiAgICAgIGRhdGUgPSBkYXRlLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKQogICAgICB0aGlzLmN1cnJlbnREYXRlID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXRlfWAKICAgICAgdGhpcy5xdWVyeUluZm8uZGF0ZSA9IHRoaXMuY3VycmVudERhdGUKICAgIH0sCiAgICAvLyDnm5HlkKwgcGFnZXNpemUg5pS55Y+Y55qE5LqL5Lu2CiAgICBoYW5kbGVTaXplQ2hhbmdlKG5ld1NpemUpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZXNpemUgPSBuZXdTaXplCiAgICAgIHRoaXMuZ2V0QXdhcmRMaXN0KCkKICAgIH0sCiAgICAvLyDnm5HlkKwg6aG156CB5YC8cGFnZW51bSDmlLnlj5jkuovku7YKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3U2l6ZSkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlbnVtID0gbmV3U2l6ZQogICAgICB0aGlzLmdldEF3YXJkTGlzdCgpCiAgICB9LAogICAgc3dpdGNoR2lmdChpZCwgZXZlbnQpIHsKICAgICAgdmFyIGlubmVyID0gZXZlbnQudG9FbGVtZW50LmlubmVySFRNTAogICAgICBpbm5lciA9IChpbm5lci50cmltKCkgPT09ICflt7Llj5bmtojlpZblirEnKSA/IChpbm5lciA9ICfmt7vliqDlpZblirEgJykgOiBpbm5lcgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIYnICsgaW5uZXIgKyAnLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8vIOS/ruaUueWlluWKsQogICAgICAgIHRoaXMuZWRpdGF3YXJkID0gW10KICAgICAgICB0aGlzLmVkaXRhd2FyZC5yb29tVWluID0gdGhpcy51c2VybGlzdFtpZF0ucm9vbVVpbgogICAgICAgIHRoaXMuZWRpdGF3YXJkLnNkYXRlID0gdGhpcy51c2VybGlzdFtpZF0uc2RhdGUKICAgICAgICBlZGl0QXdhcmQocXMuc3RyaW5naWZ5KHRoaXMuZWRpdGF3YXJkLnNkYXRlKSkudGhlbihyZXMgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgLy8g5pu05pS55aWW5Yqx5pON5L2cCiAgICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgICAgdGhpcy51c2VybGlzdFtpZF0ubm9SdWxlID0gIXRoaXMudXNlcmxpc3RbaWRdLm5vUnVsZQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy51c2VybGlzdFtpZF0ubm9SdWxlID0gIXRoaXMudXNlcmxpc3RbaWRdLm5vUnVsZQogICAgICAgICAgfQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogaW5uZXIgKyAn5pON5L2c5oiQ5YqfJwogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICAgIC8vIOaOpeWPo+a1i+ivlQogICAgICAgIC8vIHRoaXMuJGh0dHAKICAgICAgICAvLyAgIC5wb3N0KCdodHRwOi8vMTkyLjE2OC4yLjE0MToxOTEwMC9hcGkvcHdhcGkvYWN0aXZlL2FueXNpbmcvYmFja2VuZCcsIHFzLnN0cmluZ2lmeSh0aGlzLmVkaXRhd2FyZC5zZGF0ZSkpCiAgICAgICAgLy8gICAudGhlbigoKSA9PiB7CiAgICAgICAgLy8gICAgIC8vIOabtOaUueWlluWKseaTjeS9nAogICAgICAgIC8vICAgICBpZiAoaWQpIHsKICAgICAgICAvLyAgICAgICB0aGlzLnVzZXJsaXN0W2lkXS5ub1J1bGUgPSAhdGhpcy51c2VybGlzdFtpZF0ubm9SdWxlCiAgICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgdGhpcy51c2VybGlzdFtpZF0ubm9SdWxlID0gIXRoaXMudXNlcmxpc3RbaWRdLm5vUnVsZQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIC8vICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAvLyAgICAgICBtZXNzYWdlOiBpbm5lciArICfmk43kvZzmiJDlip8nCiAgICAgICAgLy8gICAgIH0pCiAgICAgICAgLy8gICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5pu05pS55pON5L2cJwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/award","sourcesContent":["<template>\n  <div>\n    <!-- 卡片视图 -->\n    <el-card>\n      <!-- 搜索 日期选择 -->\n      <el-row :gutter=\"20\" style=\"margin-bottom: 20px;\">\n        <el-col :span=\"6\">\n          <el-input v-model=\"queryInfo.roomUin\" placeholder=\"请输入房间ID\" clearable @blur=\"blurGetAwardList\">\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"blurflag&&getAwardList()\" />\n          </el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <div class=\"block\">\n            <el-date-picker\n              v-model=\"currentDate\"\n              align=\"right\"\n              type=\"date\"\n              placeholder=\"选择日期\"\n              value-format=\"yyyy-MM-dd\"\n              :picker-options=\"pickerOptions\"\n              @blur=\"getAwardList\"\n            >\n            </el-date-picker>\n          </div>\n        </el-col>\n      </el-row>\n      <!-- 用户列表区域 -->\n      <el-table :data=\"userlist\" border stripe>\n        <el-table-column type=\"index\" label=\"#\" align=\"center\" />\n        <!-- <el-table-column prop=\"id\" label=\"#\" /> -->\n        <el-table-column prop=\"roomLogo\" label=\"头像\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <div>\n              <el-avatar :size=\"60\" :src=\"userlist[scope.$index].roomLogo\"></el-avatar>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"roomname\" label=\"房间名\" align=\"center\" />\n        <el-table-column prop=\"roomUin\" label=\"房间ID\" align=\"center\" />\n        <el-table-column prop=\"sdate\" label=\"时间\" align=\"center\" />\n        <el-table-column label=\"操作\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <!-- <el-row> -->\n            <el-col v-if=\"userlist[scope.$index].noRule === false\" :span=\"12\">\n              <el-button\n                type=\"danger\"\n                size=\"medium\"\n                round\n                @click=\"switchGift(scope.$index, $event)\"\n              >取消奖励\n              </el-button>\n            </el-col>\n            <el-col v-else :span=\"12\">\n              <el-button\n                type=\"info\"\n                size=\"medium\"\n                round\n                @click=\"switchGift(scope.$index, $event)\"\n              >已取消奖励\n              </el-button>\n            </el-col>\n            <!-- </el-row> -->\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页区域 -->\n      <el-pagination\n        :current-page=\"queryInfo.pagenum\"\n        :page-sizes=\"[10, 20, 30]\"\n        :page-size=\"queryInfo.pagesize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"totle\"\n        style=\"margin-top: 20px;\"\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </el-card>\n  </div>\n</template>\n\n<script>\n\nimport { getAward, editAward } from '@/api/award'\nimport qs from 'qs'\n\nexport default {\n  data() {\n    return {\n      pickerOptions: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        },\n        shortcuts: [{\n          text: '今天',\n          onClick(picker) {\n            picker.$emit('pick', new Date())\n          }\n        }, {\n          text: '昨天',\n          onClick(picker) {\n            const date = new Date()\n            date.setTime(date.getTime() - 3600 * 1000 * 24)\n            picker.$emit('pick', date)\n          }\n        }]\n      },\n      currentDate: '',\n      // 获取用户列表查询参数对象,pagenum:当前页数,pagesize:每页显示多少数据\n      queryInfo: {\n        date: '',\n        roomUin: '',\n        pagenum: 1,\n        pagesize: 20\n      },\n      totle: 0,\n      userlist: [],\n      editaward: {\n        roomUin: '',\n        sdate: ''\n      },\n      searchflag: false,\n      blurflag: true\n    }\n  },\n  created() {\n    this.getYesterdayTime()\n    this.getAwardList()\n  },\n  methods: {\n    getAwardList() {\n      this.userlist = []\n      this.queryInfo.date = this.currentDate\n      getAward(\n        {\n          date: this.queryInfo.date,\n          roomUin: this.queryInfo.roomUin,\n          page: this.queryInfo.pagenum,\n          size: this.queryInfo.pagesize\n        }).then(res => {\n        // console.log(res)\n        const data = res.data.retData.dataList\n        this.totle = res.data.retData.total\n        for (var i = 0; i < data.length; i++) {\n          this.userlist.push({\n            roomLogo: data[i].roomLogo,\n            roomname: data[i].roomName,\n            roomUin: data[i].roomUin,\n            sdate: data[i].sdate,\n            noRule: data[i].noRule\n          })\n        }\n        this.blurflag = true\n      })\n      // 接口测试\n      // this.$http\n      //   .get('http://www.suibo.tv/api/pwapi/active/anysing/backend', {\n      //     params: {\n      //       date: this.queryInfo.date,\n      //       roomUin: this.queryInfo.roomUin,\n      //       page: this.queryInfo.pagenum,\n      //       size: this.queryInfo.pagesize\n      //     }\n      //   })\n      //   .then(\n      //     res => {\n      //       // console.log(res)\n      //       var data = res.data.retData.dataList\n      //       this.totle = res.data.retData.total\n      //       for (var i = 0; i < data.length; i++) {\n      //         this.userlist.push({\n      //           roomLogo: data[i].roomLogo,\n      //           roomname: data[i].roomName,\n      //           roomUin: data[i].roomUin,\n      //           sdate: data[i].sdate,\n      //           noRule: data[i].noRule\n      //         })\n      //       }\n      //       this.blurflag = true\n      //     }\n      //   )\n    },\n    blurGetAwardList() {\n      this.blurflag = false\n      this.getAwardList()\n    },\n    // 获取昨天日期\n    getYesterdayTime() {\n      var now = new Date()\n      var year = now.getFullYear()\n      var month = now.getMonth()\n      var date = now.getDate()\n      month = month + 1\n      date-- // 获得昨天日期\n      if (date < 1) {\n        month--\n        if (month < 1) {\n          year--\n          month = 12\n        }\n        date = new Date(year, month, 0).getDate()\n      }\n      month = month.toString().padStart(2, '0')\n      date = date.toString().padStart(2, '0')\n      this.currentDate = `${year}-${month}-${date}`\n      this.queryInfo.date = this.currentDate\n    },\n    // 监听 pagesize 改变的事件\n    handleSizeChange(newSize) {\n      this.queryInfo.pagesize = newSize\n      this.getAwardList()\n    },\n    // 监听 页码值pagenum 改变事件\n    handleCurrentChange(newSize) {\n      this.queryInfo.pagenum = newSize\n      this.getAwardList()\n    },\n    switchGift(id, event) {\n      var inner = event.toElement.innerHTML\n      inner = (inner.trim() === '已取消奖励') ? (inner = '添加奖励 ') : inner\n      this.$confirm('此操作将' + inner + ', 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 修改奖励\n        this.editaward = []\n        this.editaward.roomUin = this.userlist[id].roomUin\n        this.editaward.sdate = this.userlist[id].sdate\n        editAward(qs.stringify(this.editaward.sdate)).then(res => {\n          console.log(res)\n          // 更改奖励操作\n          if (id) {\n            this.userlist[id].noRule = !this.userlist[id].noRule\n          } else {\n            this.userlist[id].noRule = !this.userlist[id].noRule\n          }\n          this.$message({\n            type: 'success',\n            message: inner + '操作成功'\n          })\n        })\n        // 接口测试\n        // this.$http\n        //   .post('http://192.168.2.141:19100/api/pwapi/active/anysing/backend', qs.stringify(this.editaward.sdate))\n        //   .then(() => {\n        //     // 更改奖励操作\n        //     if (id) {\n        //       this.userlist[id].noRule = !this.userlist[id].noRule\n        //     } else {\n        //       this.userlist[id].noRule = !this.userlist[id].noRule\n        //     }\n        //     this.$message({\n        //       type: 'success',\n        //       message: inner + '操作成功'\n        //     })\n        //   })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消更改操作'\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n</style>\n"]}]}