{"remainingRequest":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\award\\handout.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\src\\views\\award\\handout.vue","mtime":1637930052000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_babel-loader@8.2.3@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sakura\\Downloads\\Compressed\\suibo_backup_system\\node_modules\\_vue-loader@15.9.8@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGhhbmRvdXQgfSBmcm9tICdAL2FwaS9hd2FyZCcKaW1wb3J0IHFzIGZyb20gJ3FzJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDYW5jZWwnLAogIGRhdGEoKSB7CiAgICAgIC8vIOiHquWumuS5ieinhOWImQogICAgdmFyIGNoZWNrTW9uZXkgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGNvbnN0IHJlZ0VtYWlsID0gL15cZCskLwogICAgICBpZiAocmVnRW1haWwudGVzdCh2YWx1ZSkpIHsKICAgICAgICAvLyDlkIjms5UKICAgICAgICByZXR1cm4gY2FsbGJhY2soKQogICAgICB9CiAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5pW05pWw6YeR6aKdJykpCiAgICB9CiAgICAgIC8vIOiHquWumuS5ieinhOWImQogICAgdmFyIGNoZWNrVWlucyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgY29uc3QgcmVnRW1haWwgPSAvXihcZCopKCxcZCopKiQvCiAgICAgIGlmIChyZWdFbWFpbC50ZXN0KHZhbHVlKSkgewogICAgICAgIC8vIOWQiOazlQogICAgICAgIHJldHVybiBjYWxsYmFjaygpCiAgICAgIH0KICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXmraPnoa7moLzlvI/vvIzlpoI6MTIzLDQ1NicpKQogICAgfQogICAgcmV0dXJuIHsKICAgICAgICBmb3JtOiB7CiAgICAgICAgICAgIG1lbW86ICcnLAogICAgICAgICAgICBraW5kOiAnJywKICAgICAgICAgICAgYXdhcmRUeXBlOiAnbGVkb3UnLAogICAgICAgICAgICBtb25leTogJycsCiAgICAgICAgICAgIHVpbnM6ICcnLAogICAgICAgICAgICBtc2c6ICcnCiAgICAgICAgfSwKICAgICAgICBmb3JtUnVsZXM6IHsKICAgICAgICAgICAga2luZDogWwogICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWla2luZCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgIC8vICAgeyB2YWxpZGF0b3I6IGNoZWNrS2luZCwgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgbW9uZXk6IFsKICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpemHkeminScsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgICAgIHsgdmFsaWRhdG9yOiBjaGVja01vbmV5LCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICBdLAogICAgICAgICAgICB1aW5zOiBbCiAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaV1aW4nLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICAgICAgICB7IHZhbGlkYXRvcjogY2hlY2tVaW5zLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICBdLAogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewoKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRvdXRBd2FyZCgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtUnVsZS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIHRoaXMuJGNvbmZpcm0oJ+aCqOWwhue7mSAnK3RoaXMuZm9ybS51aW5zKycg5Y+R5pS+ICcrdGhpcy5mb3JtLm1vbmV5Kycg5LiqICcrdGhpcy5mb3JtLmF3YXJkVHlwZSsnJywgJ+aPkOekuicsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgLy8g5aWW5Yqx5Y+R5pS+CiAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtLCAncGFzc3dkJywgJ3Rhb2xlc29mdDA1NzEnKQogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmZvcm0KICAgICAgICAgICAgICAgIGhhbmRvdXQocXMuc3RyaW5naWZ5KGRhdGEpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLnJldERhdGEuc3RhdHVzQ29kZSA9PSAyMDApewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEucmV0RGF0YS5tc2cpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW1vOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FyZFR5cGU6IHRoaXMuZm9ybS5hd2FyZFR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9uZXk6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnM6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJycKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5yZXREYXRhLm1zZykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+WlluWKseWPkeaUvuW3suWPlua2iCcpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7floavlhaXmraPnoa7kv6Hmga/vvIEnKQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["handout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"handout.vue","sourceRoot":"src/views/award","sourcesContent":["<template>\n  <div>\n    <!-- 卡片视图 -->\n    <el-card>\n        <el-form ref=\"formRule\" :rules=\"formRules\" :model=\"form\" label-width=\"80px\">\n            <el-form-item label=\"kind\" prop=\"kind\">\n                <el-input v-model=\"form.kind\" placeholder=\"发放奖励类型，如:416(416是广场舞奖励的kind),奖励类型请找麦当询问\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"memo\">\n                <el-input v-model=\"form.memo\" placeholder=\"奖励标签，如:广场舞参与奖\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"奖券类型\">\n                <el-radio-group v-model=\"form.awardType\">\n                    <el-radio label=\"ledou\">乐豆</el-radio>\n                    <el-radio label=\"lequan\">乐券</el-radio>\n                </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"金额\" prop=\"money\">\n                <el-input v-model=\"form.money\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"uins\" prop=\"uins\">\n                <el-input type=\"textarea\" :rows=\"5\" v-model=\"form.uins\" placeholder=\"请输入uin,以英文逗号隔开，如:123456,654321\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"message\">\n                <el-input v-model=\"form.msg\" placeholder=\"给用户发送消息的内容,如:某某奖励已经发放成功\"></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"handoutAward\">奖励发放</el-button>\n            </el-form-item>\n        </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { handout } from '@/api/award'\nimport qs from 'qs'\n\nexport default {\n  name: 'Cancel',\n  data() {\n      // 自定义规则\n    var checkMoney = (rule, value, callback) => {\n      const regEmail = /^\\d+$/\n      if (regEmail.test(value)) {\n        // 合法\n        return callback()\n      }\n      callback(new Error('请输入整数金额'))\n    }\n      // 自定义规则\n    var checkUins = (rule, value, callback) => {\n      const regEmail = /^(\\d*)(,\\d*)*$/\n      if (regEmail.test(value)) {\n        // 合法\n        return callback()\n      }\n      callback(new Error('请输入正确格式，如:123,456'))\n    }\n    return {\n        form: {\n            memo: '',\n            kind: '',\n            awardType: 'ledou',\n            money: '',\n            uins: '',\n            msg: ''\n        },\n        formRules: {\n            kind: [\n            { required: true, message: '请输入kind', trigger: 'blur' }\n            //   { validator: checkKind, trigger: 'blur' }\n            ],\n            money: [\n            { required: true, message: '请输入金额', trigger: 'blur' },\n              { validator: checkMoney, trigger: 'blur' }\n            ],\n            uins: [\n            { required: true, message: '请输入uin', trigger: 'blur' },\n              { validator: checkUins, trigger: 'blur' }\n            ],\n      }\n    }\n  },\n  created() {\n\n  },\n  methods: {\n    handoutAward() {\n      this.$refs.formRule.validate(valid => {\n        if (valid) {\n            this.$confirm('您将给 '+this.form.uins+' 发放 '+this.form.money+' 个 '+this.form.awardType+'', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n            }).then(() => {\n                // 奖励发放\n                this.$set(this.form, 'passwd', 'taolesoft0571')\n                let data = this.form\n                handout(qs.stringify(data)).then(res => {\n                    // console.log(res)\n                    if(res.data.retData.statusCode == 200){\n                        this.$message.success(res.data.retData.msg)\n                        this.form = {\n                                memo: '',\n                                kind: '',\n                                awardType: this.form.awardType,\n                                money: '',\n                                uins: '',\n                                msg: ''\n                            }\n\n                    } else {\n                        this.$message.error(res.data.retData.msg)\n                    }\n                })\n            }).catch(() => {\n                this.$message.info('奖励发放已取消')\n            });\n        } else {\n          this.$message.error('请填入正确信息！')\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.row{\n    margin-bottom: 20px;\n    text-align: right;\n    display:flex;\n    align-items:center;\n}\n.col{\n    text-align: left;\n}\n</style>\n\n"]}]}