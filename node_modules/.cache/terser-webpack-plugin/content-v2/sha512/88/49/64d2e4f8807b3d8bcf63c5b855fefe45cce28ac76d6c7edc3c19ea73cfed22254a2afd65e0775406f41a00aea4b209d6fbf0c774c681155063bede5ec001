{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-d61c58fe\"],{\"58e5\":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},8890:function(e,t,a){},\"93df\":function(e,t,a){\"use strict\";a.d(t,\"c\",(function(){return n})),a.d(t,\"a\",(function(){return i})),a.d(t,\"b\",(function(){return s})),a.d(t,\"d\",(function(){return o}));var r=a(\"b775\");function n(e){return Object(r[\"a\"])({url:\"/api/pwapi/manage/user/dance/detail\",method:\"get\",params:e})}function i(e){return Object(r[\"a\"])({url:\"/api/pwapi/manage/user/dance/details\",method:\"get\",params:e})}function s(e){return Object(r[\"a\"])({url:\"/api/pwapi/manage/user/dance/status\",method:\"get\",params:e})}function o(e){return Object(r[\"a\"])({url:\"/api/pwapi/manage/user/dance/tag\",method:\"get\",params:e})}},c3d2:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticStyle:{margin:\"15px\"}},[a(\"el-radio-group\",{on:{change:function(t){return e.getTableData()}},model:{value:e.choose,callback:function(t){e.choose=t},expression:\"choose\"}},[a(\"el-radio-button\",{attrs:{label:\"全部\"}}),a(\"el-radio-button\",{attrs:{label:\"待审核\"}}),a(\"el-radio-button\",{attrs:{label:\"未通过\"}})],1),a(\"el-card\",[a(\"el-row\",[a(\"el-col\",{attrs:{span:8}},[a(\"el-input\",{attrs:{placeholder:\"请输入uin\",clearable:\"\"},on:{clear:function(t){return e.getTableData()}},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.search()}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:\"searchInput\"}},[a(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-search\"},nativeOn:{click:function(t){return e.search()}},slot:\"append\"})],1)],1)],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{data:e.tableData,stripe:\"\"}},[a(\"el-table-column\",{attrs:{label:\"视频封面\",prop:\"cover\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(e){return[a(\"el-image\",{staticStyle:{width:\"120px\",height:\"80px\"},attrs:{src:e.row.cover}})]}}])}),a(\"el-table-column\",{attrs:{label:\"上传用户uin\",prop:\"uin\",align:\"center\"}}),a(\"el-table-column\",{attrs:{label:\"舞曲名称\",prop:\"name\",align:\"center\"}}),a(\"el-table-column\",{attrs:{label:\"标签\",prop:\"cate\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(e._s(t.row.cate))]}}])}),a(\"el-table-column\",{attrs:{label:\"上传时间\",prop:\"addtime\",align:\"center\"}}),a(\"el-table-column\",{attrs:{label:\"审核原因\",prop:\"reason\",align:\"center\"}}),a(\"el-table-column\",{attrs:{label:\"审核\",prop:\"status\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(a){\"撤销\"==t.row.status?e.cancel(t.row.id):e.getVideo(t.$index,t.row)}}},[e._v(e._s(t.row.status))])]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",prop:\"\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{type:\"text\",size:\"small\"},on:{click:function(a){return e.delete1(t.row.id)}}},[e._v(\"删除\")])]}}])})],1),a(\"el-dialog\",{attrs:{visible:e.dialogVisible,width:\"75%\"},on:{\"update:visible\":function(t){e.dialogVisible=t},close:e.closeVideo}},[a(\"el-container\",[a(\"el-aside\",{attrs:{width:\"55%\"}},[a(\"video\",{key:e.key,staticStyle:{width:\"95%\",height:\"450px\"},attrs:{controls:\"true\"}},[a(\"source\",{attrs:{src:e.videoUrl,type:\"video/mp4\"}})])]),a(\"el-main\",[a(\"el-form\",{ref:\"reviewForm\",attrs:{model:e.form}},[a(\"el-form-item\",{attrs:{label:\"上传用户uin\",prop:\"uin\",\"label-width\":e.formLabelWidth}},[a(\"el-input\",{attrs:{disabled:\"\"},model:{value:e.form.uin,callback:function(t){e.$set(e.form,\"uin\",t)},expression:\"form.uin\"}})],1),a(\"el-form-item\",{attrs:{label:\"舞曲名称\",prop:\"name\",\"label-width\":e.formLabelWidth}},[a(\"el-input\",{attrs:{disabled:\"\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),a(\"el-form-item\",{attrs:{label:\"标签\",\"label-width\":e.formLabelWidth}},[a(\"el-radio-group\",{model:{value:e.radio,callback:function(t){e.radio=t},expression:\"radio\"}},[a(\"el-radio\",{attrs:{label:8}},[e._v(\"8步\")]),a(\"el-radio\",{attrs:{label:16}},[e._v(\"16步\")]),a(\"el-radio\",{attrs:{label:32}},[e._v(\"32步\")])],1)],1),a(\"el-form-item\",{attrs:{label:\"标题\",prop:\"title\",\"label-width\":e.formLabelWidth}},[a(\"el-input\",{attrs:{disabled:\"\"},model:{value:e.form.title,callback:function(t){e.$set(e.form,\"title\",t)},expression:\"form.title\"}})],1),a(\"el-form-item\",{attrs:{label:\"时间\",prop:\"addtime\",\"label-width\":e.formLabelWidth}},[a(\"el-input\",{attrs:{disabled:\"\"},model:{value:e.form.addtime,callback:function(t){e.$set(e.form,\"addtime\",t)},expression:\"form.addtime\"}})],1),a(\"el-form-item\",[a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-between\"}},[a(\"el-col\",[a(\"el-button\",{attrs:{type:\"primary\"},nativeOn:{click:function(t){return e.Success()}}},[e._v(\"通过\")])],1),a(\"el-col\",{attrs:{span:14}},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.Fail()}}},[e._v(\"不通过\")])],1),a(\"el-col\",[a(\"el-input\",{attrs:{placeholder:\"请输入不通过的原因\",clearable:\"\"},model:{value:e.inputReason,callback:function(t){e.inputReason=t},expression:\"inputReason\"}})],1)],1)],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"danger\"},nativeOn:{click:function(t){return e.deleteVideo()}}},[e._v(\"删除\")])],1)],1)],1)],1),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{type:\"primary\"},nativeOn:{click:function(t){return e.nextVideo()}}},[e._v(\"下一个\")])],1)],1),a(\"el-pagination\",{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"current-page\":e.queryInfo.page,\"page-sizes\":[5,10,15,20],\"page-size\":e.queryInfo.size,layout:\"total, sizes, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)],1)},n=[],i=a(\"ed3b\"),s=(a(\"e186\"),a(\"d8ae\"),a(\"3abb\"),a(\"b874\"),a(\"eae4\"),a(\"90df\"),a(\"93df\")),o={data:function(){return{tableData:[],tableDataCache:[],form:{uin:\"\",id:\"\",name:\"\",cate:\"\",title:\"\",addtime:\"\",status:\"\"},searchInput:\"\",inputReason:\"鉴黄失败\",queryInfo:{page:1,size:5,status:1},key:0,index:\"\",imgUrl:\"\",videoUrl:\"\",total:0,choose:\"全部\",radio:16,formLabelWidth:\"89px\",loading:!1,dialogVisible:!1,flag:!1}},created:function(){this.getTableData()},methods:{chooseTable:function(){var e=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s[\"a\"])(e.queryInfo);case 2:a=t.sent,e.tableData=a.data.retData.results,e.tableDataCache=e.tableData,e.total=a.data.retData.total,console.log(\"res : \",a),a.data.retData.results.forEach((function(e){2==e.status?e.status=\"通过\":-1==e.status?e.status=\"未通过\":0==e.status?e.status=\"待审核\":e.status=\"默认\"}));case 8:case\"end\":return t.stop()}}),t)})))()},getTableData:function(){\"全部\"==this.choose?this.queryInfo.status=1:\"待审核\"==this.choose?this.queryInfo.status=0:\"未通过\"==this.choose&&(this.queryInfo.status=-1),this.chooseTable()},handleSizeChange:function(e){this.queryInfo.size=e,this.flag?this.search():this.getTableData()},handleCurrentChange:function(e){this.queryInfo.page=e,this.flag?this.search():this.getTableData()},search:function(){var e=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(\"\"!=e.searchInput){t.next=4;break}e.getTableData(),t.next=14;break;case 4:return e.flag=!0,e.tableData=[],a={uin:e.searchInput,page:e.queryInfo.page,size:e.queryInfo.size,status:e.queryInfo.status},t.next=9,Object(s[\"c\"])(a);case 9:r=t.sent,e.tableData=r.data.retData.results,e.total=r.data.retData.total,console.log(\"search-res:\",r),r.data.retData.results.forEach((function(e){2==e.status?e.status=\"通过\":-1==e.status?e.status=\"未通过\":0==e.status?e.status=\"待审核\":e.status=\"默认\"}));case 14:case\"end\":return t.stop()}}),t)})))()},getVideo:function(e,t){this.dialogVisible=!0,this.form.uin=t.uin,this.form.name=t.name,this.form.cate=t.cate,this.form.title=t.title,this.form.addtime=t.addtime,this.form.id=t.id,this.form.index=e,this.index=e,this.form.status=t.status,this.key+=1,this.videoUrl=t.url,console.log(\"row.url:\",t.url),console.log(\"videoUrl: \",this.videoUrl),console.log(\"form : \",this.form),this.$forceUpdate()},nextVideo:function(){if(++this.index,this.index==this.queryInfo.size&&(this.index=0),this.getVideo(this.index,this.tableData[this.index]),this.videoUrl=this.tableData[this.index].url,this.form.id=this.tableDataCache[this.form.index-1].id,this.form.index=this.form.index+1,this.getVideo(this.index,this.tableData[this.index]),console.log(\"this.index: \",this.index),this.index==this.total-1)return this.$message.info(\"只剩这最后一个了！\");this.getTableData()},Success:function(){var e=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={status:2,uid:e.form.id},t.next=3,Object(s[\"b\"])(a);case 3:r=t.sent,1==r.data.retData.code&&(console.log(\"this.tableData[this.form.index] : \",e.tableData[e.form.index]),e.tableData[e.form.index].status=\"通过\",e.form.status=e.tableData[e.form.index].status,e.form.cate=e.radio,e.tableData[e.form.index].cate=e.form.cate,e.getTableData(),e.$message.info(\"已通过！\"));case 5:case\"end\":return t.stop()}}),t)})))()},Fail:function(){var e=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={status:-1,uid:e.form.id,reason:e.inputReason},t.next=3,Object(s[\"b\"])(a);case 3:r=t.sent,1==r.data.retData.code&&(e.tableData[e.form.index].status=\"未通过\",e.form.status=e.tableData[e.form.index].status,e.form.cate=e.radio,e.tableData[e.form.index].cate=e.form.cate,e.getTableData(),e.$message.info(\"未通过！\"));case 5:case\"end\":return t.stop()}}),t)})))()},deleteVideo:function(){var e=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={status:-2,uid:e.form.id},t.next=3,e.$confirm(\"此操作将永久删除该文件, 是否继续?\",\"永久删除\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).catch((function(e){return e}));case 3:if(r=t.sent,console.log(r),\"confirm\"===r){t.next=7;break}return t.abrupt(\"return\",e.$message.info(\"取消删除\"));case 7:return t.next=9,Object(s[\"b\"])(a).then((function(t){var a=t.data;if(console.log(a),1!==a.retData.code)return e.$message.error(\"删除失败\");e.$message.success(\"已删除\"),e.getTableData()}));case 9:case\"end\":return t.stop()}}),t)})))()},delete1:function(e){var t=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={status:-2,uid:e},a.next=3,t.$confirm(\"此操作将永久删除该文件, 是否继续?\",\"永久删除该用户\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).catch((function(e){return e}));case 3:if(n=a.sent,console.log(n),\"confirm\"===n){a.next=7;break}return a.abrupt(\"return\",t.$message.info(\"已经取消了删除\"));case 7:return a.next=9,Object(s[\"b\"])(r).then((function(e){var a=e.data;if(console.log(a),1!==a.retData.code)return t.$message.error(\"该用户删除失败\");t.$message.success(\"该用户已经删除\"),t.getTableData()}));case 9:case\"end\":return a.stop()}}),a)})))()},closeVideo:function(){var e=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={uid:e.form.id,new_cate:e.form.cate},t.next=3,Object(s[\"d\"])(a);case 3:r=t.sent,1==r.data.retData.code&&e.getTableData(),e.$refs.reviewForm.resetFields(),e.getTableData(),e.$forceUpdate();case 8:case\"end\":return t.stop()}}),t)})))()},cancel:function(e){var t=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={status:0,uid:e},a.next=3,Object(s[\"b\"])(r);case 3:n=a.sent,1==n.data.retData.code&&t.getTableData();case 5:case\"end\":return a.stop()}}),a)})))()},cancelVideo:function(){var e=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.queryInfo.status=\"-1\",t.next=3,Object(s[\"a\"])(e.queryInfo);case 3:a=t.sent,e.tableData=a.data.retData.results,e.tableDataCache=e.tableData,e.total=a.data.retData.total,console.log(\"res : \",a),a.data.retData.results.forEach((function(e){e.status=\"撤销\"}));case 9:case\"end\":return t.stop()}}),t)})))()}}},l=o,u=(a(\"eb92\"),a(\"cba8\")),c=Object(u[\"a\"])(l,r,n,!1,null,null,null);t[\"default\"]=c.exports},eae4:function(e,t,a){\"use strict\";var r=a(\"88f3\"),n=a(\"aac4\"),i=a(\"8ccf\"),s=a(\"1cd4\"),o=a(\"58e5\"),l=a(\"097a\"),u=a(\"1424\"),c=a(\"eb0e\");n(\"search\",(function(e,t,a){return[function(t){var a=s(this),n=void 0==t?void 0:u(t,e);return n?r(n,t,a):new RegExp(t)[e](l(a))},function(e){var r=i(this),n=l(e),s=a(t,r,n);if(s.done)return s.value;var u=r.lastIndex;o(u,0)||(r.lastIndex=0);var d=c(r,n);return o(r.lastIndex,u)||(r.lastIndex=u),null===d?-1:d.index}]}))},eb92:function(e,t,a){\"use strict\";a(\"8890\")}}]);","extractedComments":[]}